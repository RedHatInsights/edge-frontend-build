{"version":3,"file":"js/5114.f095be0bf76e7ed7e8b2.js","mappings":"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","sources":["webpack:///./src/Routes/Groups/CreateGroupModal.js","webpack:///./src/api/groups/index.js","webpack:///./src/components/Modal.js","webpack:///./src/hooks/useApi.js","webpack:///./src/hooks/useInventoryGroups.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport Modal from '../../components/Modal';\nimport {\n  createGroup,\n  createInventoryGroup,\n  addDevicesToGroup,\n  validateGroupName,\n  validateInventoryGroupName,\n  addDevicesToInventoryGroup,\n} from '../../api/groups';\nimport { nameValidator, useFeatureFlags } from '../../utils';\nimport apiWithToast from '../../utils/apiWithToast';\nimport { useDispatch } from 'react-redux';\nimport useInventoryGroups from '../../hooks/useInventoryGroups';\nimport { FEATURE_INVENTORY_WORKSPACES_RENAME } from '../../constants/features';\n\nconst asyncGroupNameValidation = async (value = '') => {\n  // do not fire validation request for empty name\n  if (value.length === 0) {\n    return undefined;\n  }\n  const resp = await validateGroupName(value);\n  if (resp.data.isValid) {\n    // async validator has to throw error, not return it\n    throw 'Group name already exists';\n  }\n};\n\nconst asyncInventoryGroupNameValidation = async (value = '') => {\n  // do not fire validation request for empty name\n  if (value.length === 0) {\n    return undefined;\n  }\n  const resp = await validateInventoryGroupName(value);\n  if (resp.results.length > 0 && resp.results[0].name === value) {\n    // async validator has to throw error, not return it\n    throw 'Group name already exists';\n  }\n};\n\nconst validatorMapper = {\n  groupName: () => asyncGroupNameValidation,\n};\n\nconst inventoryValidatorMapper = {\n  groupName: () => asyncInventoryGroupNameValidation,\n};\n\nconst createGroupSchema = (workspaceRename) => ({\n  fields: [\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'name',\n      label: `${workspaceRename ? 'Workspace' : 'Group'} name`,\n      helperText:\n        'Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).',\n      isRequired: true,\n      autoFocus: true,\n      validate: [\n        // async validator has to be first in the list\n        { type: 'groupName' },\n        { type: validatorTypes.REQUIRED },\n        { type: validatorTypes.MAX_LENGTH, threshold: 50 },\n        nameValidator,\n      ],\n    },\n  ],\n});\n\nconst CreateGroupModal = ({\n  isModalOpen,\n  setIsModalOpen,\n  deviceIds,\n  reloadData,\n}) => {\n  const dispatch = useDispatch();\n\n  const [inventoryGroupsEnabled] = useInventoryGroups(false);\n  const useWorkspacesRename = useFeatureFlags(\n    FEATURE_INVENTORY_WORKSPACES_RENAME\n  );\n\n  const handleCreateGroup = (values) => {\n    const statusMessages = {\n      onSuccess: {\n        title: 'Success',\n        description: `${values.name} has been created successfully`,\n      },\n      onError: {\n        title: 'Error',\n        description: `Failed to create ${\n          inventoryGroupsEnabled && useWorkspacesRename ? 'workspace' : 'group'\n        }`,\n      },\n    };\n\n    let createGroupFunc;\n    if (inventoryGroupsEnabled) {\n      createGroupFunc = () => createInventoryGroup(values);\n    } else {\n      createGroupFunc = () => createGroup(values);\n    }\n    return apiWithToast(dispatch, createGroupFunc, statusMessages);\n  };\n\n  const handleAddDevicesToNewGroup = async (values) => {\n    const statusMessages = {\n      onSuccess: {\n        title: 'Success',\n        description: `System(s) have been added to ${values.name} successfully`,\n      },\n      onError: {\n        title: 'Error',\n        description: `Failed to add system to ${\n          inventoryGroupsEnabled && useWorkspacesRename ? 'workspace' : 'group'\n        }`,\n      },\n    };\n\n    let addDevicesToGroupFunc;\n    if (inventoryGroupsEnabled) {\n      const { id } = await handleCreateGroup(values);\n      addDevicesToGroupFunc = () => addDevicesToInventoryGroup(id, deviceIds);\n    } else {\n      const { ID } = await handleCreateGroup(values);\n      addDevicesToGroupFunc = () => addDevicesToGroup(parseInt(ID), deviceIds);\n    }\n    apiWithToast(dispatch, addDevicesToGroupFunc, statusMessages);\n  };\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      closeModal={() => setIsModalOpen(false)}\n      title={`Create ${\n        inventoryGroupsEnabled && useWorkspacesRename ? 'workspace' : 'group'\n      }`}\n      submitLabel=\"Create\"\n      schema={createGroupSchema(inventoryGroupsEnabled && useWorkspacesRename)}\n      onSubmit={deviceIds ? handleAddDevicesToNewGroup : handleCreateGroup}\n      reloadData={reloadData}\n      validatorMapper={\n        inventoryGroupsEnabled ? inventoryValidatorMapper : validatorMapper\n      }\n    />\n  );\n};\n\nexport default CreateGroupModal;\n\nCreateGroupModal.propTypes = {\n  isModalOpen: PropTypes.bool,\n  setIsModalOpen: PropTypes.func,\n  reloadData: PropTypes.func,\n  deviceIds: PropTypes.array,\n};\n","import { EDGE_API, INVENTORY_API_BASE, getTableParams } from '../index';\nimport { instance } from '@redhat-cloud-services/frontend-components-utilities/interceptors/interceptors';\n\nexport const createGroup = (payload) => {\n  return instance.post(`${EDGE_API}/device-groups/`, {\n    Name: payload.name,\n    Type: 'static',\n  });\n};\n\nexport const createInventoryGroup = (payload) => {\n  return instance.post(`${INVENTORY_API_BASE}/groups`, { name: payload.name });\n};\n\nexport const getGroups = ({ query }) => {\n  const q = getTableParams(query);\n  return instance.get(`${EDGE_API}/device-groups?${q}`);\n};\n\nexport const getInventoryGroups = ({ query }) => {\n  const q = getTableParams(query);\n  return instance.get(`${INVENTORY_API_BASE}/groups?${q}`);\n};\n\nexport const getGroupById = ({ id, query }) => {\n  const q = getTableParams(query);\n  return instance.get(`${EDGE_API}/device-groups/${id}/view?${q}`);\n};\n\nexport const updateGroupById = (id, payload) => {\n  return instance.put(`${EDGE_API}/device-groups/${id}`, {\n    Name: payload.name,\n    Type: 'static',\n  });\n};\n\nexport const deleteGroupById = (id) => {\n  return instance.delete(`${EDGE_API}/device-groups/${id}`);\n};\n\nexport const addDevicesToGroup = (groupId, devices) => {\n  return instance.post(`${EDGE_API}/device-groups/${groupId}/devices`, {\n    ID: groupId,\n    Devices: devices,\n  });\n};\n\nexport const addDevicesToInventoryGroup = (groupId, devices) => {\n  const devicesIDS = [];\n  devices.forEach((device) => devicesIDS.push(device.UUID));\n\n  return instance.post(\n    `${INVENTORY_API_BASE}/groups/${groupId}/hosts`,\n    devicesIDS\n  );\n};\n\nexport const removeDevicesFromGroup = (groupId, devices) => {\n  return instance.delete(`${EDGE_API}/device-groups/${groupId}/devices`, {\n    data: {\n      ID: groupId,\n      Devices: devices,\n    },\n  });\n};\n\nexport const removeDevicesFromInventoryGroup = (groupId, devices) => {\n  return instance.delete(\n    `${INVENTORY_API_BASE}/groups/${groupId}/hosts/` + devices.join(',')\n  );\n};\n\nexport const removeDeviceFromGroupById = (groupId, id) => {\n  return instance.delete(`${EDGE_API}/device-groups/${groupId}/devices/${id}`);\n};\n\nexport const validateGroupName = (name) => {\n  return instance.get(`${EDGE_API}/device-groups/checkName/${name}`);\n};\n\nexport const getEnforceEdgeGroups = () => {\n  return instance.get(`${EDGE_API}/device-groups/enforce-edge-groups`);\n};\n\nexport const validateInventoryGroupName = (name) => {\n  return instance.get(\n    `${INVENTORY_API_BASE}/groups?name=${name}&order_by=name&order_how=ASC`\n  );\n};\n","import React from 'react';\nimport { Modal } from '@patternfly/react-core';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/component-mapper';\nimport PropTypes from 'prop-types';\n\nconst RepoModal = ({\n  isOpen,\n  title,\n  titleIconVariant,\n  closeModal,\n  submitLabel,\n  schema,\n  initialValues,\n  variant,\n  reloadData,\n  size,\n  onSubmit,\n  additionalMappers,\n  validatorMapper,\n}) => {\n  return (\n    <Modal\n      variant={size ?? 'small'}\n      title={title}\n      titleIconVariant={titleIconVariant ?? null}\n      isOpen={isOpen}\n      onClose={closeModal}\n    >\n      <FormRenderer\n        schema={schema}\n        validatorMapper={validatorMapper}\n        FormTemplate={(props) => (\n          <FormTemplate\n            {...props}\n            submitLabel={submitLabel}\n            disableSubmit={['invalid']}\n            buttonsProps={{\n              submit: { variant },\n            }}\n          />\n        )}\n        initialValues={initialValues}\n        componentMapper={\n          additionalMappers\n            ? { ...additionalMappers, ...componentMapper }\n            : componentMapper\n        }\n        onSubmit={async (values) => {\n          await onSubmit(values);\n          setTimeout(async () => await reloadData(), 500);\n          closeModal();\n        }}\n        onCancel={() => closeModal()}\n      />\n    </Modal>\n  );\n};\n\nRepoModal.propTypes = {\n  isOpen: PropTypes.bool,\n  title: PropTypes.string,\n  closeModal: PropTypes.func,\n  reloadData: PropTypes.func,\n  submitLabel: PropTypes.string,\n  schema: PropTypes.object,\n  initialValues: PropTypes.object,\n  variant: PropTypes.string,\n  onSubmit: PropTypes.func,\n  size: PropTypes.string,\n  additionalMappers: PropTypes.object,\n  titleIconVariant: PropTypes.any,\n  validatorMapper: PropTypes.object,\n};\n\nexport default RepoModal;\n","import { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nconst useApi = ({ api, id = null, statusMessages, tableReload = false }) => {\n  const dispatch = useDispatch();\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [apiFunc, setAPIFunc] = useState(() => api);\n\n  const hasSuccess = statusMessages?.onSuccess;\n  if (!statusMessages) {\n    statusMessages = {\n      onSuccess: {\n        title: 'Success',\n        description: 'The request has been made successfully',\n      },\n      onError: {\n        title: 'Error',\n        description: 'An error occurred making the request',\n      },\n    };\n  }\n\n  const fetchData = async (query = '') => {\n    setIsLoading(true);\n    try {\n      const data = await apiFunc({ id, query });\n      setData(data);\n\n      if (hasSuccess) {\n        dispatch({\n          ...addNotification({\n            variant: 'success',\n            ...statusMessages.onSuccess,\n          }),\n        });\n      }\n    } catch (err) {\n      setHasError(true);\n\n      dispatch({\n        ...addNotification({\n          variant: 'danger',\n          ...statusMessages.onError,\n        }),\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!tableReload) {\n      fetchData();\n    }\n  }, []);\n\n  return [{ data, isLoading, hasError }, fetchData, apiFunc, setAPIFunc];\n};\n\nexport default useApi;\n","import { useState, useEffect } from 'react';\nimport { useFeatureFlags } from '../utils';\nimport { FEATURE_PARITY_INVENTORY_GROUPS } from '../constants/features';\nimport { getEnforceEdgeGroups } from '../api/groups';\n\nconst useInventoryGroups = (value) => {\n  const [data, setData] = useState(value);\n  const [ready, setReady] = useState(false);\n  const inventoryGroupsEnabled = useFeatureFlags(\n    FEATURE_PARITY_INVENTORY_GROUPS\n  );\n\n  useEffect(() => {\n    (async () => {\n      const response = await getEnforceEdgeGroups();\n      const enforceEdgeGroups = response?.enforce_edge_groups;\n      setData(!enforceEdgeGroups && inventoryGroupsEnabled);\n      setReady(true);\n    })();\n  }, []);\n\n  return [data, ready];\n};\n\nexport default useInventoryGroups;\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["asyncGroupNameValidation","value","length","undefined","validateGroupName","data","isValid","asyncInventoryGroupNameValidation","validateInventoryGroupName","resp","results","name","validatorMapper","groupName","inventoryValidatorMapper","CreateGroupModal","workspaceRename","isModalOpen","setIsModalOpen","deviceIds","reloadData","dispatch","useDispatch","useInventoryGroups","inventoryGroupsEnabled","useWorkspacesRename","useFeatureFlags","FEATURE_INVENTORY_WORKSPACES_RENAME","handleCreateGroup","values","createGroupFunc","statusMessages","onSuccess","title","description","onError","createInventoryGroup","createGroup","apiWithToast","handleAddDevicesToNewGroup","id","addDevicesToGroupFunc","addDevicesToInventoryGroup","ID","addDevicesToGroup","parseInt","isOpen","closeModal","submitLabel","schema","fields","component","componentTypes","label","helperText","isRequired","autoFocus","validate","type","validatorTypes","threshold","nameValidator","onSubmit","propTypes","PropTypes","payload","instance","EDGE_API","Name","Type","INVENTORY_API_BASE","getGroups","query","q","getTableParams","getInventoryGroups","getGroupById","updateGroupById","deleteGroupById","groupId","devices","Devices","devicesIDS","forEach","device","push","UUID","removeDevicesFromGroup","removeDevicesFromInventoryGroup","join","removeDeviceFromGroupById","getEnforceEdgeGroups","RepoModal","titleIconVariant","initialValues","variant","size","additionalMappers","onClose","FormTemplate","props","disableSubmit","buttonsProps","submit","componentMapper","setTimeout","onCancel","api","tableReload","useState","setData","isLoading","setIsLoading","hasError","setHasError","apiFunc","setAPIFunc","hasSuccess","fetchData","addNotification","useEffect","ready","setReady","FEATURE_PARITY_INVENTORY_GROUPS","response","enforceEdgeGroups","enforce_edge_groups","_objectWithoutProperties","source","excluded","key","i","target","Object","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}