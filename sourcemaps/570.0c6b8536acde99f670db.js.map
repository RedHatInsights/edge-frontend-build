{"version":3,"file":"js/570.a02ef4ab7a559c71c7ad.js","mappings":"gUAuGA,QA5F6B,WAAM,0BAC3BA,GAAWC,EAAAA,EAAAA,cACf,kBAAGC,EAAH,EAAGA,cAAH,OAAuBA,MAAAA,GAAvB,UAAuBA,EAAeC,cAAtC,aAAuB,EAAuBC,MAFf,GAImBC,EAAAA,EAAAA,WAAS,GAJ5B,WAI1BC,EAJ0B,KAINC,EAJM,QAKDF,EAAAA,EAAAA,WAAS,GALR,WAK1BG,EAL0B,KAKhBC,EALgB,QAOCJ,EAAAA,EAAAA,UAAS,MAPV,WAO1BK,EAP0B,KAOfC,EAPe,KAoBjC,OAZAC,EAAAA,EAAAA,YAAU,WACR,cAAC,8GAEsBC,EAAAA,EAAAA,IAAqBb,GAF3C,OAESc,EAFT,OAGGH,EAAaG,GAHhB,gDAKGL,GAAY,GALf,QAOCF,GAAsB,GAPvB,wDAAD,KASC,IAGD,kBAAC,IAAD,CACEQ,MAAM,oBACNC,WAAW,EACXC,MAAO,CACL,CACEF,MAAO,gBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,EACF,kBAAC,EAAAW,KAAD,CAAMC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWc,aAA1C,aAA+B,EAAkBC,KACtDf,MAAAA,GADH,UACGA,EAAWc,aADd,aACG,EAAkBE,MAGrB,eAGJ,CACEX,MAAO,kBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,EACF,kBAAC,EAAAW,KAAD,CAAMC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWc,aAA1C,aAA+B,EAAkBC,KACtDf,MAAAA,GADH,UACGA,EAAWc,aADd,aACG,EAAkBG,SAGrB,eAGJ,CACEZ,MAAO,iBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,MACdV,MAAAA,OAAA,EAAAA,EAAWkB,kBACb,kBAAC,EAAAP,KAAD,CACEC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YACAb,MAAAA,GADA,UACAA,EAAWkB,kBACTlB,MAAAA,OAAA,EAAAA,EAAWkB,iBAAiBC,QAAS,UAFvC,iBACA,EAEGL,aAHH,aACA,EAEUC,KAIVf,MAAAA,GARJ,UAQIA,EAAWkB,kBACTlB,MAAAA,OAAA,EAAAA,EAAWkB,iBAAiBC,QAAS,UAT3C,iBAQI,EAEGL,aAVP,aAQI,EAEUG,SAGZnB,EACF,cAEA,mBAGJ,CACEO,MAAO,mBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,MACdV,MAAAA,GAAA,UAAAA,EAAWoB,gBAAX,eAAqBC,UACvB,kBAAC,EAAAV,KAAD,CAAMC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWoB,gBAA1C,aAA+B,EAAqBL,KACzDf,MAAAA,GADH,UACGA,EAAWoB,gBADd,aACG,EAAqBH,SAEtBnB,EACF,cAEA","sources":["webpack:///./src/components/ImageInformationCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport LoadingCard from '@redhat-cloud-services/frontend-components-inventory-general-info/LoadingCard';\nimport { getImageDataOnDevice } from '../api/index';\nimport { routes as paths } from '../../package.json';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {\n  Skeleton,\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\n\nconst ImageInformationCard = () => {\n  const deviceId = useSelector(\n    ({ entityDetails }) => entityDetails?.entity?.id\n  );\n  const [isImageInfoLoading, setIsImageInfoLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  const [imageData, setImageData] = useState(null);\n  useEffect(() => {\n    (async () => {\n      try {\n        const data = await getImageDataOnDevice(deviceId);\n        setImageData(data);\n      } catch (err) {\n        setHasError(true);\n      }\n      setIsImageInfoLoading(false);\n    })();\n  }, []);\n\n  return (\n    <LoadingCard\n      title=\"Image Information\"\n      isLoading={false}\n      items={[\n        {\n          title: 'Running image',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData ? (\n            <Link to={`${paths['manage-images']}/${imageData?.Image?.ID}`}>\n              {imageData?.Image?.Name}\n            </Link>\n          ) : (\n            'unavailable'\n          ),\n        },\n        {\n          title: 'Running version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData ? (\n            <Link to={`${paths['manage-images']}/${imageData?.Image?.ID}`}>\n              {imageData?.Image?.Version}\n            </Link>\n          ) : (\n            'unavailable'\n          ),\n        },\n        {\n          title: 'Target version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData?.UpdatesAvailable ? (\n            <Link\n              to={`${paths['manage-images']}/${\n                imageData?.UpdatesAvailable[\n                  imageData?.UpdatesAvailable.length - 1\n                ]?.Image?.ID\n              }`}\n            >\n              {\n                imageData?.UpdatesAvailable[\n                  imageData?.UpdatesAvailable.length - 1\n                ]?.Image?.Version\n              }\n            </Link>\n          ) : hasError ? (\n            'unavailable'\n          ) : (\n            'Same as running'\n          ),\n        },\n        {\n          title: 'Rollback version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData?.Rollback?.ParentId ? (\n            <Link to={`${paths['manage-images']}/${imageData?.Rollback?.ID}`}>\n              {imageData?.Rollback?.Version}\n            </Link>\n          ) : hasError ? (\n            'unavailable'\n          ) : (\n            'None'\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport default ImageInformationCard;\n"],"names":["deviceId","useSelector","entityDetails","entity","id","useState","isImageInfoLoading","setIsImageInfoLoading","hasError","setHasError","imageData","setImageData","useEffect","getImageDataOnDevice","data","title","isLoading","items","value","size","SkeletonSize","Link","to","paths","Image","ID","Name","Version","UpdatesAvailable","length","Rollback","ParentId"],"sourceRoot":""}