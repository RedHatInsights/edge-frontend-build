{"version":3,"file":"js/1809.1660750445949.27c50271c2c4023565a7.js","mappings":"mJACA,IAAIA,EAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,EAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOJ,EAASc,MAAMb,KAAMO,UAChC,EACIO,EAAad,MAAQA,KAAKc,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAkC,CAAvB,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAkC,CAAvB,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAKS,OAClE,GACJ,EACIM,EAAe/B,MAAQA,KAAK+B,aAAgB,SAAUhB,EAASiB,GAC/D,IAAsGC,EAAGC,EAAG/B,EAAGgC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPnC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGoC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WAAa,OAAO3C,IAAM,GAAImC,EACvJ,SAASM,EAAKnC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIZ,EAAG,MAAM,IAAIa,UAAU,mCAC3B,KAAOV,OACH,GAAIH,EAAI,EAAGC,IAAM/B,EAAY,EAAR0C,EAAG,GAASX,EAAU,OAAIW,EAAG,GAAKX,EAAS,SAAO/B,EAAI+B,EAAU,SAAM/B,EAAES,KAAKsB,GAAI,GAAKA,EAAET,SAAWtB,EAAIA,EAAES,KAAKsB,EAAGW,EAAG,KAAKhB,KAAM,OAAO1B,EAE3J,OADI+B,EAAI,EAAG/B,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEoB,QACzBsB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXT,EAAEC,QAAgB,CAAEd,MAAOsB,EAAG,GAAIhB,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIW,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKT,EAAEI,IAAIO,MAAOX,EAAEG,KAAKQ,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIiC,EAAEG,MAAY/B,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAET,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVS,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEiC,EAAEC,MAAQQ,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYT,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKiC,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIiC,EAAEI,IAAIQ,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIiC,EAAEI,IAAIO,MAChBX,EAAEG,KAAKQ,MAAO,SAEtBF,EAAKb,EAAKpB,KAAKG,EAASqB,GAC1B,MAAOV,GAAKmB,EAAK,CAAC,EAAGnB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI9B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEtB,MAAOsB,EAAG,GAAKA,EAAG,QAAK,EAAQhB,MAAM,EAC9E,CAtBgDL,CAAK,CAAClB,EAAGsC,GAAK,CAAG,CAuBrE,EACA3C,OAAOgD,eAAeC,EAAS,aAAc,CAAE3B,OAAO,IACtD2B,EAAQC,gBAAkBD,EAAQE,aAAeF,EAAQG,sBAAwBH,EAAQI,WAAaJ,EAAQK,OAASL,EAAQM,cAAgBN,EAAQO,WAAaP,EAAQQ,qBAAuBR,EAAQS,gBAAkBT,EAAQU,aAAeV,EAAQW,WAAaX,EAAQY,oBAAsBZ,EAAQa,YAAcb,EAAQc,sBAAmB,EACxVd,EAAQc,iBAAmB,eAC3Bd,EAAQa,YAAc,WAAc,OAAOE,OAAOf,EAAQc,iBAAmB,EAC7E,IAAIE,EAAyB,SAAUC,GACnC,IAAIC,EAAS,CAAC,EAUd,OATAnE,OAAOoE,OAAOF,GAAWG,SAAQ,SAAUC,GACvC,IAAIC,EAAeD,EAAGC,aAAcC,EAAOF,EAAGE,KAC1CD,GAAgBJ,EAAOI,GACvBJ,EAAOI,GAAcxB,KAAKyB,GAErBD,IACLJ,EAAOI,GAAgB,CAACC,GAEhC,IACOL,CACX,EACAlB,EAAQY,oBAAsB,SAAUY,EAAIC,GACxCV,OAAOf,EAAQc,kBAAkBY,kBAAkBF,GAAMC,CAC7D,EACAzB,EAAQW,WAAa,SAAUU,GAC3B,IAAIJ,EAAYI,EAAGJ,UAAWU,EAAMN,EAAGM,IACvCZ,OAAOf,EAAQc,kBAAoBjE,EAAS,CAAE+E,KAAM,CAAC,EAAGC,aAAcZ,EAAWa,WAAY,CAAC,EAAGC,eAAgBf,EAAuBC,GAAYS,kBAAmB,CAAC,GAAKC,EACjL,EACA3B,EAAQU,aAAe,SAAUa,GAC7BR,OAAOf,EAAQc,kBAAkBgB,WAAWP,IAAQ,CACxD,EACAvB,EAAQS,gBAAkB,SAAUc,GAChCR,OAAOf,EAAQc,kBAAkBgB,WAAWP,IAAQ,CACxD,EACAvB,EAAQQ,qBAAuB,SAAUwB,GACrC,IAAIX,EAC8D,QAAjEA,EAAKN,OAAOf,EAAQc,kBAAkBiB,eAAeC,UAA2B,IAAPX,GAAyBA,EAAGD,SAAQ,SAAUG,GAAQ,OAAOR,OAAOf,EAAQc,kBAAkBc,KAAKL,GAAMU,SAAW,GAClM,EACAjC,EAAQO,WAAa,WACjBxD,OAAOmF,QAAQnB,OAAOf,EAAQc,kBAAkBgB,YAAYK,QAAO,SAAUd,GACzE,IAAIE,EAAOF,EAAG,GAAeA,EAAG,IAE5BN,OAAOf,EAAQc,kBAAkBc,KAAKL,GAAMU,SAEpD,GACJ,EAoBAjC,EAAQM,cAnBR,SAAuB8B,GACnB,QAAgD,IAArCrB,OAAOf,EAAQc,kBACtB,KAAM,wDAEVC,OAAOf,EAAQc,kBAAkBc,KAAKQ,EAAcb,MAAQ,CACxDc,MAAO,SAAUV,GACb,IAAIW,EAAUzF,EAASA,EAAS,CAAC,EAAG8E,GAAMZ,OAAOf,EAAQc,mBAEzD,OADAd,EAAQU,aAAa0B,EAAcb,MAC5Ba,EAAcC,MAAMC,EAC/B,EACAL,QAAS,WACLjC,EAAQS,gBAAgB2B,EAAcb,MACtCa,EAAcH,SAClB,EACAM,OAAQH,EAAcG,OACtBC,OAAQJ,EAAcZ,IAE1BT,OAAOf,EAAQc,kBAAkBY,kBAAkBU,EAAcb,OACrE,EAEAvB,EAAQK,OAAS,SAAUkB,GAAQ,OAAOR,OAAOf,EAAQc,kBAAkBc,KAAKL,EAAO,EACvFvB,EAAQI,WAAa,SAAUmB,GAAQ,OAAOR,OAAOf,EAAQc,kBAAkBe,aAAaN,EAAO,EACnGvB,EAAQG,sBAAwB,SAAUsC,GACtC,OAAO1F,OAAO2F,KAAK3B,OAAOf,EAAQc,kBAAkBe,cAC/CM,QAAO,SAAUQ,GAAO,OAAO5B,OAAOf,EAAQc,kBAAkBe,aAAac,GAAKrB,eAAiBmB,CAAU,IAC7GG,KAAI,SAAUD,GAAO,OAAQ9F,EAASA,EAAS,CAAC,EAAGkE,OAAOf,EAAQc,kBAAkBe,aAAac,IAAO,CAAEpB,KAAMoB,GAAS,GAClI,EACA3C,EAAQE,aAAe,SAAU2C,EAASC,EAAgBC,QAClC,IAAhBA,IAA0BA,GAAc,GAC5C,IAAI7F,OAAI8F,EACJC,EAAmB,IAAIhF,SAAQ,SAAUiF,EAAKC,IAC9CjG,EAAIkG,SAASC,cAAc,WACzBC,IAAMR,EACR5F,EAAEsE,GAAKqB,EACHE,EACA7F,EAAEqG,OAAS,WACPL,EAAI,CAAC3B,KAAMrE,GACf,EAGA8C,EAAQY,oBAAoBiC,GAAS,WAAc,OAAOK,EAAI,CAAC3B,KAAMrE,GAAK,IAE9EA,EAAEsG,QAAU,WAER,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKrG,UAAUC,OAAQoG,IACpCD,EAAKC,GAAMrG,UAAUqG,GAEzBC,QAAQC,IAAIH,GACRV,EACAI,EAAI,CAACM,EAAMvG,IAGX8C,EAAQY,oBAAoBiC,GAAS,WAAc,OAAOM,EAAI,CAACM,EAAMvG,GAAK,GAElF,CACJ,IAIA,YAHiB,IAANA,GACPkG,SAAStE,KAAK+E,YAAY3G,GAEvB+F,CACX,EAqBAjD,EAAQC,gBApBR,SAAyB6D,EAAKjB,EAASkB,EAAOC,GAC1C,OAAOpG,EAAUd,UAAM,OAAQ,GAAQ,WACnC,IAAImH,EACJ,OAAOpF,EAAY/B,MAAM,SAAUuE,GAC/B,OAAQA,EAAGlC,OACP,KAAK,EAAG,MAAO,CAAC,EAAG+E,MAAMJ,IACzB,KAAK,EAAG,MAAO,CAAC,EAAIzC,EAAGjC,OAAQ+E,QAC/B,KAAK,EAED,OADAF,EAAW5C,EAAGjC,OACP,CAAC,EAAGnB,QAAQmG,IAAIrH,OAAOmF,QAAQ+B,GAC7B9B,QAAO,SAAUd,GAClB,IAAIsB,EAAMtB,EAAG,GACb,OAAQ0C,GAAQpB,IAAQoB,CAC5B,IACKM,QAAQL,GAAa,SAAW3F,GAAS,OAAOA,EAAM,GAAGiG,OAASjG,CAAQ,GAC1EuE,KAAI,SAAUE,GAAkB,OAAO9C,EAAQE,aAAa2C,EAASC,GAAgB,EAAO,MAEjH,GACJ,GACJ,C,sOC1KIjG,EAAsC,WAStC,OARAA,EAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACOJ,EAASc,MAAMb,KAAMO,UAChC,EAgBWkH,EAAgB,SAAUlD,GACjC,IAAImD,EACAC,EAAKpD,EAAGqD,YAAaA,OAAqB,IAAPD,EAAgB,EAAAE,SAAWF,EAAIG,EAAYvD,EAAGuD,UAAW/B,EAAUxB,EAAGwB,QAASgC,EAAOxD,EAAGwD,KAAMlD,EAAMN,EAAGM,IAAKmD,EAjBlH,SAAU5H,EAAGsB,GAC/C,IAAIvB,EAAI,CAAC,EACT,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMiB,EAAEuG,QAAQxH,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCH,OAAOiI,sBACtB,KAAI7H,EAAI,EAAb,IAAgBI,EAAIR,OAAOiI,sBAAsB9H,GAAIC,EAAII,EAAED,OAAQH,IAC3DqB,EAAEuG,QAAQxH,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUyH,qBAAqBvH,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,IAF4B,CAItD,OAAOF,CACX,CAOgKiI,CAAO7D,EAAI,CAAC,cAAe,YAAa,UAAW,OAAQ,QACnNyB,GAAyD,QAAtC0B,GAAK,IAAArE,uBAAsB0E,UAA0B,IAAPL,OAAgB,EAASA,EAAG,IAAI1B,eAqBrG,OApBA,IAAAqC,YAAU,WACN,IAAIC,GAAM,IAAA/E,QAAOwC,GACbwC,EAAUjC,SAASkC,eAAeV,GACtC,GAAKQ,EAOA,CACD,IAAIG,EAAOH,EAAI/C,MAAMV,IACrB,IAAA6D,QAAOD,EAAMF,EACjB,MATI,IAAAnF,cAAa2C,EAASC,GAAgBlE,MAAK,WACvC,IACI2G,GADM,IAAAlF,QAAOwC,GACFR,MAAMV,IACrB,IAAA6D,QAAOD,EAAMF,EACjB,IAMJ,OAAO,YACO,IAAAhF,QAAOwC,GACbZ,WACJ,IAAAwD,wBAAuBJ,EAC3B,CACJ,GAAG,CAACR,IACI,kBAAoB,EAAAa,MAAO7I,EAAS,CAAC,EAAGiI,EAAO,CAAED,KAAMA,IAC3D,kBAAoB,MAAO,CAAErD,GAAIoD,GAC7B,kBAAoBF,EAAa,OAC7C,ECrDI,EAAsC,WAStC,OARA,EAAW3H,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACO,EAASU,MAAMb,KAAMO,UAChC,EAeWsI,EAAe,SAAUtE,GAChC,IAAIuE,EAAKvE,EAAGuE,GAAIC,EAAUxE,EAAGwE,QAASC,EAAgBzE,EAAGyE,cAAqChB,GAAZzD,EAAGY,QAfnD,SAAU/E,EAAGsB,GAC/C,IAAIvB,EAAI,CAAC,EACT,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMiB,EAAEuG,QAAQxH,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCH,OAAOiI,sBACtB,KAAI7H,EAAI,EAAb,IAAgBI,EAAIR,OAAOiI,sBAAsB9H,GAAIC,EAAII,EAAED,OAAQH,IAC3DqB,EAAEuG,QAAQxH,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUyH,qBAAqBvH,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,IAF4B,CAItD,OAAOF,CACX,CAK0G,CAAOoE,EAAI,CAAC,KAAM,UAAW,gBAAiB,aAChJoB,GAAW,IAAAsD,eAActD,SAC7B,OAAQ,kBAAoB,EAAAuD,KAAM,EAAS,CAAEH,QAAS,SAAUI,QAG3B,IAAlBH,EACwB,iBAAPF,GAAmBnD,IAAamD,GAAsB,iBAAPA,GAAgCA,EAAGnD,SAE5E,kBAAlBqD,GAGkB,mBAAlBA,GACIA,EAAcrD,EAAUmD,GAIxCC,GACAA,EAAQI,EAEhB,EAAGL,GAAIA,GAAMd,GACrB,E,oBCTIoB,EAAwB,WACxB,OAAO,kBAAoB,OAAQ,KAAM,iCAC7C,EACO,SAASC,EAAcpC,EAAOqC,EAAQC,GACzC,IAAIC,EAAQxJ,KAEZ,YADuB,IAAnBuJ,IAA6BA,EAAiBH,GAC3C,WAAc,OA3C6BrI,EA2CZyI,EA3CqBxI,OA2Cd,EA3C6BE,EA2Cb,WACzD,IAAIuI,EAAmBC,EAASC,EAChC,OApCwC,SAAU5I,EAASiB,GAC/D,IAAsGC,EAAGC,EAAG/B,EAAGgC,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPnC,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGoC,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAEV,KAAMgB,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXC,SAA0BP,EAAEO,OAAOC,UAAY,WAAa,OAAO3C,IAAM,GAAImC,EACvJ,SAASM,EAAKnC,GAAK,OAAO,SAAUsC,GAAK,OACzC,SAAcC,GACV,GAAIZ,EAAG,MAAM,IAAIa,UAAU,mCAC3B,KAAOV,OACH,GAAIH,EAAI,EAAGC,IAAM/B,EAAY,EAAR0C,EAAG,GAASX,EAAU,OAAIW,EAAG,GAAKX,EAAS,SAAO/B,EAAI+B,EAAU,SAAM/B,EAAES,KAAKsB,GAAI,GAAKA,EAAET,SAAWtB,EAAIA,EAAES,KAAKsB,EAAGW,EAAG,KAAKhB,KAAM,OAAO1B,EAE3J,OADI+B,EAAI,EAAG/B,IAAG0C,EAAK,CAAS,EAARA,EAAG,GAAQ1C,EAAEoB,QACzBsB,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1C,EAAI0C,EAAI,MACxB,KAAK,EAAc,OAAXT,EAAEC,QAAgB,CAAEd,MAAOsB,EAAG,GAAIhB,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIW,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKT,EAAEI,IAAIO,MAAOX,EAAEG,KAAKQ,MAAO,SACxC,QACI,MAAkB5C,GAAZA,EAAIiC,EAAEG,MAAY/B,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVqC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAET,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVS,EAAG,MAAc1C,GAAM0C,EAAG,GAAK1C,EAAE,IAAM0C,EAAG,GAAK1C,EAAE,IAAM,CAAEiC,EAAEC,MAAQQ,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYT,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIA,EAAI0C,EAAI,KAAO,CACpE,GAAI1C,GAAKiC,EAAEC,MAAQlC,EAAE,GAAI,CAAEiC,EAAEC,MAAQlC,EAAE,GAAIiC,EAAEI,IAAIQ,KAAKH,GAAK,KAAO,CAC9D1C,EAAE,IAAIiC,EAAEI,IAAIO,MAChBX,EAAEG,KAAKQ,MAAO,SAEtBF,EAAKb,EAAKpB,KAAKG,EAASqB,GAC1B,MAAOV,GAAKmB,EAAK,CAAC,EAAGnB,GAAIQ,EAAI,CAAG,CAAE,QAAUD,EAAI9B,EAAI,CAAG,CACzD,GAAY,EAAR0C,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEtB,MAAOsB,EAAG,GAAKA,EAAG,QAAK,EAAQhB,MAAM,EAC9E,CAtBgDL,CAAK,CAAClB,EAAGsC,GAAK,CAAG,CAuBrE,CAUeb,CAAY/B,MAAM,SAAUuE,GAC/B,OAAQA,EAAGlC,OACP,KAAK,EAED,OADAkC,EAAGhC,KAAKS,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAG,IAAyB,YACxC,KAAK,EAGD,OAFAuB,EAAGjC,OAEI,CAAC,EADI2B,OAAOgD,GACE2C,KAAK,IAAyBC,UACvD,KAAK,EAED,OADAtF,EAAGjC,OACI,CAAC,EAAG2B,OAAOgD,GAAO6C,IAAIR,IACjC,KAAK,EAGD,OAFAI,EAAUnF,EAAGjC,OACbmH,EAASC,IACF,CAAC,EAAG,GACf,KAAK,EAMD,OALAC,EAAMpF,EAAGjC,OACTuE,QAAQkD,MAAMJ,GACdF,EAAS,CACLI,QAASN,GAEN,CAAC,EAAG,GACf,KAAK,EAAG,MAAO,CAAC,EAAGE,GAE3B,GACJ,EArEO,KAFgExI,OA2ClB,KAzCnCA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAkC,CAAvB,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAkC,CAAvB,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAKS,OAClE,IAPwC,IAAUV,EAASC,EAAYC,EAAGC,CAuEtE,CACR,CCxEA,IACQ8I,EADJC,GACID,EAAgB,SAAUE,EAAGC,GAI7B,OAHAH,EAAgB/J,OAAOmK,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUJ,EAAGC,GAAKD,EAAEG,UAAYF,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAI1J,KAAK0J,EAAOlK,OAAOS,UAAUC,eAAeC,KAAKuJ,EAAG1J,KAAIyJ,EAAEzJ,GAAK0J,EAAE1J,GAAI,EAC7FuJ,EAAcE,EAAGC,EAC5B,EACO,SAAUD,EAAGC,GAChB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIrH,UAAU,uBAAyByH,OAAOJ,GAAK,iCAE7D,SAASK,IAAOxK,KAAKyK,YAAcP,CAAG,CADtCF,EAAcE,EAAGC,GAEjBD,EAAExJ,UAAkB,OAANyJ,EAAalK,OAAOyK,OAAOP,IAAMK,EAAG9J,UAAYyJ,EAAEzJ,UAAW,IAAI8J,EACnF,GAEA,EAAsC,WAStC,OARA,EAAWvK,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACO,EAASU,MAAMb,KAAMO,UAChC,EACI,EAAkC,SAAUH,EAAGsB,GAC/C,IAAIvB,EAAI,CAAC,EACT,IAAK,IAAIM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMiB,EAAEuG,QAAQxH,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCH,OAAOiI,sBACtB,KAAI7H,EAAI,EAAb,IAAgBI,EAAIR,OAAOiI,sBAAsB9H,GAAIC,EAAII,EAAED,OAAQH,IAC3DqB,EAAEuG,QAAQxH,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUyH,qBAAqBvH,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,IAF4B,CAItD,OAAOF,CACX,EAKI,EAAwB,WAAc,OAAO,kBAAoB,OAAQ,KAAM,iCAAmC,EAClHwK,EAAa,SAAUpG,GACvB,IAAImD,EAAKnD,EAAGqG,SAAUA,OAAkB,IAAPlD,EAAgB,UAAYA,EAAI3B,EAAUxB,EAAGwB,QAASlB,EAAMN,EAAGM,IAAKoC,EAAQ1C,EAAG0C,MAAOqC,EAAS/E,EAAG+E,OAAQC,EAAiBhF,EAAGgF,eAAgBrC,EAAY3C,EAAG2C,UAAW2D,EAAWtG,EAAGsG,SAAU7C,EAAQ,EAAOzD,EAAI,CAAC,WAAY,UAAW,MAAO,QAAS,SAAU,iBAAkB,YAAa,aACjUoD,GAAK,IAAArE,YAAWyC,GAAUC,EAAiB2B,EAAG3B,eAAgB8E,EAAmBnD,EAAGmD,iBACpFC,GAAK,IAAAC,eAAS9E,GAAY+E,EAAYF,EAAG,GAAIG,EAAeH,EAAG,GAC/DI,GAAK,IAAAH,YAAYI,EAAYD,EAAG,GAAIE,EAAeF,EAAG,GA0C1D,OAzCA,IAAA9C,YAAU,WACN,IAAIC,GAAM,IAAA/E,QAAOwC,GAgCjB,OA/BKuC,GA4BDA,SAA0CA,EAAI/C,MAAMV,GACpDqG,GAAa,WAAc,OAAO,SAAW7B,EAAcpC,EAAOqC,EAAQC,GAAkB,KA5BxFvD,GACA,IAAA5C,cAAa2C,EAASC,GACjBlE,MAAK,SAAUyC,GAChB,IAAI+G,EAAkB/G,EAAG,GACrB+D,GAAM,IAAA/E,QAAOwC,GACjBuC,SAA0CA,EAAI/C,MAAMV,GACpDqG,GAAa,WAAc,OAAO,SAAW7B,EAAcpC,EAAOqC,EAAQC,GAAkB,IAC5F8B,GAAa,WAAc,OAAOC,CAAiB,GACvD,IACKC,OAAM,WACPL,GAAa,WAAc,OAAO3B,CAAgB,GACtD,IAEKuB,IACL,IAAA3H,iBAAgB2H,EAAkB/E,EAASkB,EAAOC,GAC7CpF,MAAK,SAAU0J,GAChBH,GAAa,WAAc,OAAOG,EAAM1F,KAAI,SAAUvE,GAAS,OAAOA,EAAM,EAAI,GAAI,IACpF,IAAI+G,GAAM,IAAA/E,QAAOwC,GACjBuC,SAA0CA,EAAI/C,MAAMV,GACpDqG,GAAa,WAAc,OAAO,SAAW7B,EAAcpC,EAAOqC,EAAQC,GAAkB,GAChG,IACKgC,OAAM,WACPL,GAAa,WAAc,OAAO3B,CAAgB,GACtD,IAOD,WACH,IAAIjB,GAAM,IAAA/E,QAAOwC,GACjBuC,SAA0CA,EAAInD,UAC1CiG,IACAd,MAAMmB,QAAQL,GAAaA,EAAU9G,SAAQ,SAAUoH,GAAW,OAAOpF,SAAStE,KAAK2J,YAAYD,EAAU,IAAKpF,SAAStE,KAAK2J,YAAYP,GAEpJ,CACJ,GAAG,IACI,kBAAoB,EAAAQ,SAAU,CAAEhB,SAAUA,GAAYK,EAAY,kBAAoBA,EAAW,EAAS,CAAEY,IAAKhB,GAAY7C,IAAU4C,EAClJ,EACIkB,EAAyB,SAAUC,GAEnC,SAASD,EAAsB9D,GAC3B,IAAIwB,EAAQuC,EAAOnL,KAAKZ,KAAMgI,IAAUhI,KAExC,OADAwJ,EAAMwC,MAAQ,CAAEC,UAAU,GACnBzC,CACX,CA0BA,OA/BAS,EAAU6B,EAAuBC,GAMjCD,EAAsBI,yBAA2B,WAC7C,MAAO,CAAED,UAAU,EACvB,EACAH,EAAsBpL,UAAUyL,sBAAwB,SAAUC,EAAWC,GACzE,OAAIrM,KAAKgM,MAAMC,WAAaI,EAAUJ,WAG9B,IAAQG,EAAWpM,KAAKgI,SAAW,IAAQqE,EAAWrM,KAAKgM,MACvE,EACAF,EAAsBpL,UAAU4L,kBAAoB,SAAUvC,EAAOwC,GACjE1F,QAAQkD,MAAM,iCAAkCA,GAChDlD,QAAQC,IAAI,eAAgB0F,KAAKC,UAAUF,EAAW,KAAM,IAC5D1F,QAAQC,IAAI,oBAAqByF,EAAUG,gBAC3C1M,KAAK2M,SAAS,CAAE5C,MAAOA,EAAOwC,UAAWA,GAC7C,EACAT,EAAsBpL,UAAUgI,OAAS,WACrC,IAAInE,EAAKvE,KAAKgI,MAAON,EAAKnD,EAAGgF,eAAgBA,OAAwB,IAAP7B,EAAgB,kBAAoB,EAAuB,MAAQA,EAAIM,EAAQ,EAAOzD,EAAI,CAAC,mBACzJ,OAAIvE,KAAKgM,MAAMC,SACJ,iBAAmB1C,EAAgB,EAAS,CAAC,EAAGvJ,KAAKgM,QAEzD,kBAAoBrB,EAAY,EAAS,CAAC,EAAG3C,EAAO,CAAEuB,eAAgB,WAAc,OAAO,kBAAoB,EAAA1B,SAAU,KAAM0B,EAAiB,IAC3J,EACAuC,EAAsBc,aAAe,CACjCrD,eAAgB,kBAAoB,EAAuB,OAExDuC,CACX,CAjC4B,CAiC1B,eACSe,EAAoB,gBAAiB,SAAU7E,EAAO6D,GAAO,OAAQ,kBAAoBC,EAAuB,EAAS,CAAC,EAAG9D,EAAO,CAAE6C,SAAUgB,IAAU,IC3H1JiB,GAAkB,IAAAC,eAAc,CACvCC,aAAa,EACbC,OAAQ,CAAC,EACTpI,SAAKqB,ICJL,EAAsC,WAStC,OARA,EAAWjG,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,EACO,EAASU,MAAMb,KAAMO,UAChC,EAIO,SAAS2M,EAAiB3I,GAC7B,IAAI0I,EAAS1I,EAAG0I,OAAQE,EAAW5I,EAAG4I,SAAUtI,EAAMN,EAAGM,IACrD6G,GAAU,IAAA0B,SAAO,GACjB1F,GAAK,IAAAsD,UAAS,CACdgC,aAAa,EACbC,OAAQ,CAAC,EACTpI,IAAKA,IACLmH,EAAQtE,EAAG,GAAIiF,EAAWjF,EAAG,GAoBjC,OAnBA,IAAAW,YAAU,WACgB,iBAAX4E,KACP,IAAApJ,YAAW,CAAEM,UAAW8I,EAAQpI,IAAKA,IACrC8H,GAAS,SAAUU,GAAQ,OAAQ,EAAS,EAAS,CAAC,EAAGA,GAAO,CAAEL,aAAa,EAAMC,OAAQA,GAAY,IACzGvB,EAAQ4B,SAAU,GAEA,mBAAXL,GACP9L,QAAQC,QAAQ6L,KAAUnL,MAAK,SAAUmL,GACrCN,GAAS,SAAUU,GAAQ,OAAQ,EAAS,EAAS,CAAC,EAAGA,GAAO,CAAEL,aAAa,EAAMC,OAAQA,GAAY,KACzG,IAAApJ,YAAW,CAAEM,UAAW8I,EAAQpI,IAAKA,IACrC6G,EAAQ4B,SAAU,CACtB,GAER,GAAG,CAACL,KACJ,IAAA5E,YAAU,WACFqD,EAAQ4B,SACRX,GAAS,SAAUU,GAAQ,OAAQ,EAAS,EAAS,CAAC,EAAGA,GAAO,CAAExI,IAAKA,GAAS,GAExF,GAAG,CAACA,IACG,kBAAoBiI,EAAgBS,SAAU,CAAEhM,MAAOyK,GAASmB,EAC3E,CCxCO,SAASK,EAAYC,GACxB,IAAIzB,GAAQ,IAAA0B,YAAWZ,GACvB,MAAwB,mBAAbW,EACAA,EAASzB,GAEbA,CACX,C","sources":["webpack:///./node_modules/@scalprum/core/dist/esm/index.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-route.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-link.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/async-loader.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-component.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-context.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-provider.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/use-scalprum.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.processManifest = exports.injectScript = exports.getAppsByRootLocation = exports.getAppData = exports.getApp = exports.initializeApp = exports.unmountAll = exports.unmountAppsFromRoute = exports.removeActiveApp = exports.setActiveApp = exports.initialize = exports.setPendingInjection = exports.getScalprum = exports.GLOBAL_NAMESPACE = void 0;\nexports.GLOBAL_NAMESPACE = '__scalprum__';\nexports.getScalprum = function () { return window[exports.GLOBAL_NAMESPACE]; };\nvar generateScalpletRoutes = function (scalpLets) {\n    var routes = {};\n    Object.values(scalpLets).forEach(function (_a) {\n        var rootLocation = _a.rootLocation, name = _a.name;\n        if (rootLocation && routes[rootLocation]) {\n            routes[rootLocation].push(name);\n        }\n        else if (rootLocation) {\n            routes[rootLocation] = [name];\n        }\n    });\n    return routes;\n};\nexports.setPendingInjection = function (id, callback) {\n    window[exports.GLOBAL_NAMESPACE].pendingInjections[id] = callback;\n};\nexports.initialize = function (_a) {\n    var scalpLets = _a.scalpLets, api = _a.api;\n    window[exports.GLOBAL_NAMESPACE] = __assign({ apps: {}, appsMetaData: scalpLets, activeApps: {}, scalpletRoutes: generateScalpletRoutes(scalpLets), pendingInjections: {} }, api);\n};\nexports.setActiveApp = function (name) {\n    window[exports.GLOBAL_NAMESPACE].activeApps[name] = true;\n};\nexports.removeActiveApp = function (name) {\n    window[exports.GLOBAL_NAMESPACE].activeApps[name] = false;\n};\nexports.unmountAppsFromRoute = function (route) {\n    var _a;\n    (_a = window[exports.GLOBAL_NAMESPACE].scalpletRoutes[route]) === null || _a === void 0 ? void 0 : _a.forEach(function (name) { return window[exports.GLOBAL_NAMESPACE].apps[name].unmount(); });\n};\nexports.unmountAll = function () {\n    Object.entries(window[exports.GLOBAL_NAMESPACE].activeApps).filter(function (_a) {\n        var name = _a[0], isActive = _a[1];\n        if (isActive) {\n            window[exports.GLOBAL_NAMESPACE].apps[name].unmount();\n        }\n    });\n};\nfunction initializeApp(configuration) {\n    if (typeof window[exports.GLOBAL_NAMESPACE] === 'undefined') {\n        throw 'Cannot inititlize app. Scalprum was not inititliazed!';\n    }\n    window[exports.GLOBAL_NAMESPACE].apps[configuration.name] = {\n        mount: function (api) {\n            var fullApi = __assign(__assign({}, api), window[exports.GLOBAL_NAMESPACE]);\n            exports.setActiveApp(configuration.name);\n            return configuration.mount(fullApi);\n        },\n        unmount: function () {\n            exports.removeActiveApp(configuration.name);\n            configuration.unmount();\n        },\n        update: configuration.update,\n        nodeId: configuration.id,\n    };\n    window[exports.GLOBAL_NAMESPACE].pendingInjections[configuration.name]();\n}\nexports.initializeApp = initializeApp;\nexports.getApp = function (name) { return window[exports.GLOBAL_NAMESPACE].apps[name]; };\nexports.getAppData = function (name) { return window[exports.GLOBAL_NAMESPACE].appsMetaData[name]; };\nexports.getAppsByRootLocation = function (pathname) {\n    return Object.keys(window[exports.GLOBAL_NAMESPACE].appsMetaData)\n        .filter(function (key) { return window[exports.GLOBAL_NAMESPACE].appsMetaData[key].rootLocation === pathname; })\n        .map(function (key) { return (__assign(__assign({}, window[exports.GLOBAL_NAMESPACE].appsMetaData[key]), { name: key })); });\n};\nexports.injectScript = function (appName, scriptLocation, skipPending) {\n    if (skipPending === void 0) { skipPending = false; }\n    var s = undefined;\n    var injectionPromise = new Promise(function (res, rej) {\n        s = document.createElement('script');\n        s.src = scriptLocation;\n        s.id = appName;\n        if (skipPending) {\n            s.onload = function () {\n                res([name, s]);\n            };\n        }\n        else {\n            exports.setPendingInjection(appName, function () { return res([name, s]); });\n        }\n        s.onerror = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            console.log(args);\n            if (skipPending) {\n                rej([args, s]);\n            }\n            else {\n                exports.setPendingInjection(appName, function () { return rej([args, s]); });\n            }\n        };\n    });\n    if (typeof s !== 'undefined') {\n        document.body.appendChild(s);\n    }\n    return injectionPromise;\n};\nfunction processManifest(url, appName, scope, processor) {\n    return __awaiter(this, void 0, void 0, function () {\n        var manifest;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, fetch(url)];\n                case 1: return [4, (_a.sent()).json()];\n                case 2:\n                    manifest = _a.sent();\n                    return [2, Promise.all(Object.entries(manifest)\n                            .filter(function (_a) {\n                            var key = _a[0];\n                            return (scope ? key === scope : true);\n                        })\n                            .flatMap(processor || (function (value) { return value[1].entry || value; }))\n                            .map(function (scriptLocation) { return exports.injectScript(appName, scriptLocation, true); }))];\n            }\n        });\n    });\n}\nexports.processManifest = processManifest;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { getApp, getAppsByRootLocation, injectScript } from '@scalprum/core';\nimport React, { Fragment, useEffect } from 'react';\nimport { unmountComponentAtNode, render } from 'react-dom';\nimport { Route } from 'react-router-dom';\nexport var ScalprumRoute = function (_a) {\n    var _b;\n    var _c = _a.Placeholder, Placeholder = _c === void 0 ? Fragment : _c, elementId = _a.elementId, appName = _a.appName, path = _a.path, api = _a.api, props = __rest(_a, [\"Placeholder\", \"elementId\", \"appName\", \"path\", \"api\"]);\n    var scriptLocation = ((_b = getAppsByRootLocation(path)) === null || _b === void 0 ? void 0 : _b[0]).scriptLocation;\n    useEffect(function () {\n        var app = getApp(appName);\n        var element = document.getElementById(elementId);\n        if (!app) {\n            injectScript(appName, scriptLocation).then(function () {\n                var app = getApp(appName);\n                var node = app.mount(api);\n                render(node, element);\n            });\n        }\n        else {\n            var node = app.mount(api);\n            render(node, element);\n        }\n        return function () {\n            var app = getApp(appName);\n            app.unmount();\n            unmountComponentAtNode(element);\n        };\n    }, [path]);\n    return (React.createElement(Route, __assign({}, props, { path: path }),\n        React.createElement(\"div\", { id: elementId },\n            React.createElement(Placeholder, null))));\n};\n//# sourceMappingURL=scalprum-route.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { unmountAppsFromRoute } from '@scalprum/core';\nimport { Link, useLocation } from 'react-router-dom';\nexport var ScalprumLink = function (_a) {\n    var to = _a.to, onClick = _a.onClick, shouldUnmount = _a.shouldUnmount, unmount = _a.unmount, props = __rest(_a, [\"to\", \"onClick\", \"shouldUnmount\", \"unmount\"]);\n    var pathname = useLocation().pathname;\n    return (React.createElement(Link, __assign({ onClick: function (event) {\n            var unmountResult;\n            var unmountFunction = unmount || (function () { return unmountAppsFromRoute(pathname); });\n            if (typeof shouldUnmount === 'undefined') {\n                unmountResult = (typeof to === 'string' && pathname !== to) || (typeof to === 'object' && pathname !== to.pathname);\n            }\n            else if (typeof shouldUnmount === 'boolean') {\n                unmountResult = shouldUnmount;\n            }\n            else if (typeof shouldUnmount === 'function') {\n                unmountResult = shouldUnmount(pathname, to);\n            }\n            if (unmountResult) {\n            }\n            if (onClick) {\n                onClick(event);\n            }\n        }, to: to }, props)));\n};\n//# sourceMappingURL=scalprum-link.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React from 'react';\nvar DefaultErrorComponent = function () {\n    return React.createElement(\"span\", null, \"Error while loading component!\");\n};\nexport function loadComponent(scope, module, ErrorComponent) {\n    var _this = this;\n    if (ErrorComponent === void 0) { ErrorComponent = DefaultErrorComponent; }\n    return function () { return __awaiter(_this, void 0, void 0, function () {\n        var Module, container, factory, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 4, , 5]);\n                    return [4, __webpack_init_sharing__('default')];\n                case 1:\n                    _a.sent();\n                    container = window[scope];\n                    return [4, container.init(__webpack_share_scopes__.default)];\n                case 2:\n                    _a.sent();\n                    return [4, window[scope].get(module)];\n                case 3:\n                    factory = _a.sent();\n                    Module = factory();\n                    return [3, 5];\n                case 4:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    Module = {\n                        default: ErrorComponent,\n                    };\n                    return [3, 5];\n                case 5: return [2, Module];\n            }\n        });\n    }); };\n}\n//# sourceMappingURL=async-loader.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { Fragment, useEffect, Suspense, useState } from 'react';\nimport { getApp, getAppData, injectScript, processManifest } from '@scalprum/core';\nimport isEqual from 'lodash/isEqual';\nimport { loadComponent } from './async-loader';\nvar DefaultErrorComponent = function () { return React.createElement(\"span\", null, \"Error while loading component!\"); };\nvar LoadModule = function (_a) {\n    var _b = _a.fallback, fallback = _b === void 0 ? 'loading' : _b, appName = _a.appName, api = _a.api, scope = _a.scope, module = _a.module, ErrorComponent = _a.ErrorComponent, processor = _a.processor, innerRef = _a.innerRef, props = __rest(_a, [\"fallback\", \"appName\", \"api\", \"scope\", \"module\", \"ErrorComponent\", \"processor\", \"innerRef\"]);\n    var _c = getAppData(appName), scriptLocation = _c.scriptLocation, manifestLocation = _c.manifestLocation;\n    var _d = useState(undefined), Component = _d[0], setComponent = _d[1];\n    var _e = useState(), mountedAt = _e[0], setMountedAt = _e[1];\n    useEffect(function () {\n        var app = getApp(appName);\n        if (!app) {\n            if (scriptLocation) {\n                injectScript(appName, scriptLocation)\n                    .then(function (_a) {\n                    var scriptMountedAt = _a[1];\n                    var app = getApp(appName);\n                    app === null || app === void 0 ? void 0 : app.mount(api);\n                    setComponent(function () { return React.lazy(loadComponent(scope, module, ErrorComponent)); });\n                    setMountedAt(function () { return scriptMountedAt; });\n                })\n                    .catch(function () {\n                    setComponent(function () { return ErrorComponent; });\n                });\n            }\n            else if (manifestLocation) {\n                processManifest(manifestLocation, appName, scope, processor)\n                    .then(function (items) {\n                    setMountedAt(function () { return items.map(function (value) { return value[1]; }); });\n                    var app = getApp(appName);\n                    app === null || app === void 0 ? void 0 : app.mount(api);\n                    setComponent(function () { return React.lazy(loadComponent(scope, module, ErrorComponent)); });\n                })\n                    .catch(function () {\n                    setComponent(function () { return ErrorComponent; });\n                });\n            }\n        }\n        else {\n            app === null || app === void 0 ? void 0 : app.mount(api);\n            setComponent(function () { return React.lazy(loadComponent(scope, module, ErrorComponent)); });\n        }\n        return function () {\n            var app = getApp(appName);\n            app === null || app === void 0 ? void 0 : app.unmount();\n            if (mountedAt) {\n                Array.isArray(mountedAt) ? mountedAt.forEach(function (mounted) { return document.body.removeChild(mounted); }) : document.body.removeChild(mountedAt);\n            }\n        };\n    }, []);\n    return React.createElement(Suspense, { fallback: fallback }, Component ? React.createElement(Component, __assign({ ref: innerRef }, props)) : fallback);\n};\nvar BaseScalprumComponent = (function (_super) {\n    __extends(BaseScalprumComponent, _super);\n    function BaseScalprumComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false };\n        return _this;\n    }\n    BaseScalprumComponent.getDerivedStateFromError = function () {\n        return { hasError: true };\n    };\n    BaseScalprumComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.state.hasError !== nextState.hasError) {\n            return true;\n        }\n        return !isEqual(nextProps, this.props) || !isEqual(nextState, this.state);\n    };\n    BaseScalprumComponent.prototype.componentDidCatch = function (error, errorInfo) {\n        console.error('Scalprum encountered an error!', error);\n        console.log('Error info: ', JSON.stringify(errorInfo, null, 2));\n        console.log('Component stack: ', errorInfo.componentStack);\n        this.setState({ error: error, errorInfo: errorInfo });\n    };\n    BaseScalprumComponent.prototype.render = function () {\n        var _a = this.props, _b = _a.ErrorComponent, ErrorComponent = _b === void 0 ? React.createElement(DefaultErrorComponent, null) : _b, props = __rest(_a, [\"ErrorComponent\"]);\n        if (this.state.hasError) {\n            return React.cloneElement(ErrorComponent, __assign({}, this.state));\n        }\n        return React.createElement(LoadModule, __assign({}, props, { ErrorComponent: function () { return React.createElement(Fragment, null, ErrorComponent); } }));\n    };\n    BaseScalprumComponent.defaultProps = {\n        ErrorComponent: React.createElement(DefaultErrorComponent, null),\n    };\n    return BaseScalprumComponent;\n}(React.Component));\nexport var ScalprumComponent = React.forwardRef(function (props, ref) { return (React.createElement(BaseScalprumComponent, __assign({}, props, { innerRef: ref }))); });\n//# sourceMappingURL=scalprum-component.js.map","import { createContext } from 'react';\nexport var ScalprumContext = createContext({\n    initialized: false,\n    config: {},\n    api: undefined,\n});\n//# sourceMappingURL=scalprum-context.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useRef, useState } from 'react';\nimport { initialize } from '@scalprum/core';\nimport { ScalprumContext } from './scalprum-context';\nexport function ScalprumProvider(_a) {\n    var config = _a.config, children = _a.children, api = _a.api;\n    var mounted = useRef(false);\n    var _b = useState({\n        initialized: false,\n        config: {},\n        api: api,\n    }), state = _b[0], setState = _b[1];\n    useEffect(function () {\n        if (typeof config === 'object') {\n            initialize({ scalpLets: config, api: api });\n            setState(function (prev) { return (__assign(__assign({}, prev), { initialized: true, config: config })); });\n            mounted.current = true;\n        }\n        if (typeof config === 'function') {\n            Promise.resolve(config()).then(function (config) {\n                setState(function (prev) { return (__assign(__assign({}, prev), { initialized: true, config: config })); });\n                initialize({ scalpLets: config, api: api });\n                mounted.current = true;\n            });\n        }\n    }, [config]);\n    useEffect(function () {\n        if (mounted.current) {\n            setState(function (prev) { return (__assign(__assign({}, prev), { api: api })); });\n        }\n    }, [api]);\n    return React.createElement(ScalprumContext.Provider, { value: state }, children);\n}\n//# sourceMappingURL=scalprum-provider.js.map","import { useContext } from 'react';\nimport { ScalprumContext } from './scalprum-context';\nexport function useScalprum(selector) {\n    var state = useContext(ScalprumContext);\n    if (typeof selector === 'function') {\n        return selector(state);\n    }\n    return state;\n}\n//# sourceMappingURL=use-scalprum.js.map"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","defineProperty","exports","processManifest","injectScript","getAppsByRootLocation","getAppData","getApp","initializeApp","unmountAll","unmountAppsFromRoute","removeActiveApp","setActiveApp","initialize","setPendingInjection","getScalprum","GLOBAL_NAMESPACE","window","generateScalpletRoutes","scalpLets","routes","values","forEach","_a","rootLocation","name","id","callback","pendingInjections","api","apps","appsMetaData","activeApps","scalpletRoutes","route","unmount","entries","filter","configuration","mount","fullApi","update","nodeId","pathname","keys","key","map","appName","scriptLocation","skipPending","undefined","injectionPromise","res","rej","document","createElement","src","onload","onerror","args","_i","console","log","appendChild","url","scope","processor","manifest","fetch","json","all","flatMap","entry","ScalprumRoute","_b","_c","Placeholder","Fragment","elementId","path","props","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","useEffect","app","element","getElementById","node","render","unmountComponentAtNode","Route","ScalprumLink","to","onClick","shouldUnmount","useLocation","Link","event","DefaultErrorComponent","loadComponent","module","ErrorComponent","_this","Module","factory","e_1","init","default","get","error","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","String","__","constructor","create","LoadModule","fallback","innerRef","manifestLocation","_d","useState","Component","setComponent","_e","mountedAt","setMountedAt","scriptMountedAt","catch","items","isArray","mounted","removeChild","Suspense","ref","BaseScalprumComponent","_super","state","hasError","getDerivedStateFromError","shouldComponentUpdate","nextProps","nextState","componentDidCatch","errorInfo","JSON","stringify","componentStack","setState","defaultProps","ScalprumComponent","ScalprumContext","createContext","initialized","config","ScalprumProvider","children","useRef","prev","current","Provider","useScalprum","selector","useContext"],"sourceRoot":""}