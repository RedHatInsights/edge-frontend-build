{"version":3,"file":"js/570.a8e115fc343a456fcfb3.js","mappings":"+SAqGA,QA1F6B,WAAM,kCAC3BA,GAAWC,EAAAA,EAAAA,cACf,kBAAGC,EAAH,EAAGA,cAAH,OAAuBA,MAAAA,GAAvB,UAAuBA,EAAeC,cAAtC,aAAuB,EAAuBC,MAEhD,GAAoDC,EAAAA,EAAAA,WAAS,GAA7D,eAAOC,EAAP,KAA2BC,EAA3B,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAiBC,EAAjB,KAEA,GAAkCJ,EAAAA,EAAAA,UAAS,MAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KAaA,OAZAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,8GAEsBC,EAAAA,EAAAA,IAAqBb,GAF3C,OAESc,EAFT,OAGGH,EAAaG,GAHhB,gDAKGL,GAAY,GALf,QAOCF,GAAsB,GAPvB,wDAAD,KASC,IAGD,kBAAC,IAAD,CACEQ,MAAM,oBACNC,WAAW,EACXC,MAAO,CACL,CACEF,MAAO,gBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,EACF,kBAAC,EAAAW,KAAD,CACEC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWc,aAA1C,aAA+B,EAAkBC,WAAjD,aAEDf,MAAAA,GAHH,UAGGA,EAAWc,aAHd,aAGG,EAAkBE,MAGrB,eAGJ,CACEX,MAAO,kBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,EACF,kBAAC,EAAAW,KAAD,CACEC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWc,aAA1C,aAA+B,EAAkBC,WAAjD,qBAAwEf,MAAAA,GAAxE,UAAwEA,EAAWc,aAAnF,aAAwE,EAAkBG,GAA1F,aAEDjB,MAAAA,GAHH,UAGGA,EAAWc,aAHd,aAGG,EAAkBI,SAGrB,eAGJ,CACEb,MAAO,iBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,MAAAA,GAAAA,EAAWmB,iBACb,kBAAC,EAAAR,KAAD,CACEC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWmB,iBAAiB,UAA3D,iBAA+B,EAAgCL,aAA/D,aAA+B,EAAuCC,WAAtE,qBAA6Ff,MAAAA,GAA7F,UAA6FA,EAAWmB,iBAAiB,UAAzH,iBAA6F,EAAgCL,aAA7H,aAA6F,EAAuCG,GAApI,aAEDjB,MAAAA,GAHH,UAGGA,EAAWmB,iBAAiB,UAH/B,iBAGG,EAAgCL,aAHnC,aAGG,EAAuCI,SAExCpB,EACF,cAEA,mBAGJ,CACEO,MAAO,mBACPG,MAAOZ,EACL,kBAAC,IAAD,CAAUa,KAAMC,EAAAA,EAAAA,KACdV,MAAAA,GAAA,UAAAA,EAAWoB,qBAAX,SAA0BH,GAC5B,kBAAC,EAAAN,KAAD,CACEC,GAAE,UAAKC,EAAAA,GAAAA,GAAL,YAA+Bb,MAAAA,GAA/B,UAA+BA,EAAWoB,qBAA1C,aAA+B,EAA0BL,WAAzD,qBAAgFf,MAAAA,GAAhF,UAAgFA,EAAWoB,qBAA3F,aAAgF,EAA0BH,GAA1G,aAEDjB,MAAAA,GAHH,UAGGA,EAAWoB,qBAHd,aAGG,EAA0BF,SAE3BpB,EACF,cAEA","sources":["webpack:///./src/components/ImageInformationCard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport LoadingCard from '@redhat-cloud-services/frontend-components-inventory-general-info/LoadingCard';\nimport { getImageDataOnDevice } from '../api/index';\nimport { routes as paths } from '../../package.json';\nimport { Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {\n  Skeleton,\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\n\nconst ImageInformationCard = () => {\n  const deviceId = useSelector(\n    ({ entityDetails }) => entityDetails?.entity?.id\n  );\n  const [isImageInfoLoading, setIsImageInfoLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  const [imageData, setImageData] = useState(null);\n  useEffect(() => {\n    (async () => {\n      try {\n        const data = await getImageDataOnDevice(deviceId);\n        setImageData(data);\n      } catch (err) {\n        setHasError(true);\n      }\n      setIsImageInfoLoading(false);\n    })();\n  }, []);\n\n  return (\n    <LoadingCard\n      title=\"Image Information\"\n      isLoading={false}\n      items={[\n        {\n          title: 'Running image',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData ? (\n            <Link\n              to={`${paths['manage-images']}/${imageData?.Image?.ImageSetID}/details`}\n            >\n              {imageData?.Image?.Name}\n            </Link>\n          ) : (\n            'unavailable'\n          ),\n        },\n        {\n          title: 'Running version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData ? (\n            <Link\n              to={`${paths['manage-images']}/${imageData?.Image?.ImageSetID}/versions/${imageData?.Image?.ID}/details`}\n            >\n              {imageData?.Image?.Version}\n            </Link>\n          ) : (\n            'unavailable'\n          ),\n        },\n        {\n          title: 'Target version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData?.UpdatesAvailable ? (\n            <Link\n              to={`${paths['manage-images']}/${imageData?.UpdatesAvailable[0]?.Image?.ImageSetID}/versions/${imageData?.UpdatesAvailable[0]?.Image?.ID}/details`}\n            >\n              {imageData?.UpdatesAvailable[0]?.Image?.Version}\n            </Link>\n          ) : hasError ? (\n            'unavailable'\n          ) : (\n            'Same as running'\n          ),\n        },\n        {\n          title: 'Rollback version',\n          value: isImageInfoLoading ? (\n            <Skeleton size={SkeletonSize.sm} />\n          ) : imageData?.RollbackImage?.ID ? (\n            <Link\n              to={`${paths['manage-images']}/${imageData?.RollbackImage?.ImageSetID}/versions/${imageData?.RollbackImage?.ID}/details`}\n            >\n              {imageData?.RollbackImage?.Version}\n            </Link>\n          ) : hasError ? (\n            'unavailable'\n          ) : (\n            'None'\n          ),\n        },\n      ]}\n    />\n  );\n};\n\nexport default ImageInformationCard;\n"],"names":["deviceId","useSelector","entityDetails","entity","id","useState","isImageInfoLoading","setIsImageInfoLoading","hasError","setHasError","imageData","setImageData","useEffect","getImageDataOnDevice","data","title","isLoading","items","value","size","SkeletonSize","Link","to","paths","Image","ImageSetID","Name","ID","Version","UpdatesAvailable","RollbackImage"],"sourceRoot":""}