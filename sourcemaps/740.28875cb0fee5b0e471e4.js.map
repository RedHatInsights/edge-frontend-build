{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/toArray.js","webpack:///./node_modules/@scalprum/core/dist/esm/index.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/async-loader.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/index.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-component.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-link.js","webpack:///./node_modules/@scalprum/react-core/dist/esm/scalprum-route.js","webpack:///./node_modules/abortcontroller-polyfill/dist/polyfill-patch-fetch.js","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/lodash/flatten.js"],"names":["arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","module","exports","arr","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","defineProperty","processManifest","injectScript","getAppsByRootLocation","getAppData","getApp","initializeApp","unmountAll","unmountAppsFromRoute","removeActiveApp","setActiveApp","initialize","setPendingInjection","getScalprum","GLOBAL_NAMESPACE","window","generateScalpletRoutes","scalpLets","routes","values","forEach","_a","rootLocation","name","id","callback","pendingInjections","api","apps","appsMetaData","activeApps","scalpletRoutes","route","unmount","entries","filter","configuration","mount","fullApi","update","nodeId","pathname","keys","key","map","appName","scriptLocation","skipPending","undefined","injectionPromise","res","rej","document","createElement","src","onload","onerror","args","_i","console","log","appendChild","url","scope","processor","manifest","fetch","json","all","flatMap","entry","__importDefault","mod","__esModule","loadComponent","react_1","DefaultErrorComponent","default","ErrorComponent","_this","Module","factory","e_1","init","get","error","__createBinding","create","o","m","k","k2","enumerable","__exportStar","useScalprum","core_1","applicationFeed","useState","initialized","config","state","setState","useEffect","prev","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","__","constructor","__setModuleDefault","__importStar","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","ScalprumComponent","isEqual_1","async_loader_1","LoadModule","_b","fallback","innerRef","props","_c","manifestLocation","_d","Component","setComponent","_e","mountedAt","setMountedAt","app","lazy","scriptMountedAt","catch","items","isArray","mounted","removeChild","Suspense","ref","BaseScalprumComponent","_super","hasError","getDerivedStateFromError","shouldComponentUpdate","nextProps","nextState","render","Fragment","defaultProps","forwardRef","ScalprumLink","react_router_dom_1","to","onClick","shouldUnmount","useLocation","Link","event","ScalprumRoute","react_dom_1","Placeholder","elementId","path","element","getElementById","node","unmountComponentAtNode","Route","_classCallCheck","instance","Constructor","_defineProperties","target","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","_getPrototypeOf","getPrototypeOf","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","_isNativeReflectConstruct","Super","NewTarget","_get","property","receiver","base","object","_superPropBase","desc","getOwnPropertyDescriptor","Emitter","type","options","listeners","stack","l","splice","stackToCall","slice","listener","once","removeEventListener","defaultPrevented","AbortSignal","_Emitter","aborted","onabort","AbortController","Event","createEvent","initEvent","createEventObject","bubbles","cancelable","signal","dispatchEvent","polyfillNeeded","__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL","Request","toStringTag","_abortableFetch","patchTargets","_patchTargets","_patchTargets$Request","NativeRequest","NativeAbortController","_patchTargets$__FORCE","input","request","realFetch","isPrototypeOf","abortError","DOMException","err","Error","cancellation","addEventListener","race","abortableFetchDecorator","warn","hasOwn","classNames","classes","arg","argType","inner","join","baseFlatten","array"],"mappings":"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","file":"js/740.f36bea48ac988d10a0a8.js","sourcesContent":["var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.processManifest = exports.injectScript = exports.getAppsByRootLocation = exports.getAppData = exports.getApp = exports.initializeApp = exports.unmountAll = exports.unmountAppsFromRoute = exports.removeActiveApp = exports.setActiveApp = exports.initialize = exports.setPendingInjection = exports.getScalprum = exports.GLOBAL_NAMESPACE = void 0;\nexports.GLOBAL_NAMESPACE = '__scalprum__';\nexports.getScalprum = function () { return window[exports.GLOBAL_NAMESPACE]; };\nvar generateScalpletRoutes = function (scalpLets) {\n    var routes = {};\n    Object.values(scalpLets).forEach(function (_a) {\n        var rootLocation = _a.rootLocation, name = _a.name;\n        if (rootLocation && routes[rootLocation]) {\n            routes[rootLocation].push(name);\n        }\n        else if (rootLocation) {\n            routes[rootLocation] = [name];\n        }\n    });\n    return routes;\n};\nexports.setPendingInjection = function (id, callback) {\n    window[exports.GLOBAL_NAMESPACE].pendingInjections[id] = callback;\n};\nexports.initialize = function (_a) {\n    var scalpLets = _a.scalpLets, api = _a.api;\n    window[exports.GLOBAL_NAMESPACE] = __assign({ apps: {}, appsMetaData: scalpLets, activeApps: {}, scalpletRoutes: generateScalpletRoutes(scalpLets), pendingInjections: {} }, api);\n};\nexports.setActiveApp = function (name) {\n    window[exports.GLOBAL_NAMESPACE].activeApps[name] = true;\n};\nexports.removeActiveApp = function (name) {\n    window[exports.GLOBAL_NAMESPACE].activeApps[name] = false;\n};\nexports.unmountAppsFromRoute = function (route) {\n    var _a;\n    (_a = window[exports.GLOBAL_NAMESPACE].scalpletRoutes[route]) === null || _a === void 0 ? void 0 : _a.forEach(function (name) { return window[exports.GLOBAL_NAMESPACE].apps[name].unmount(); });\n};\nexports.unmountAll = function () {\n    Object.entries(window[exports.GLOBAL_NAMESPACE].activeApps).filter(function (_a) {\n        var name = _a[0], isActive = _a[1];\n        if (isActive) {\n            window[exports.GLOBAL_NAMESPACE].apps[name].unmount();\n        }\n    });\n};\nfunction initializeApp(configuration) {\n    if (typeof window[exports.GLOBAL_NAMESPACE] === 'undefined') {\n        throw 'Cannot inititlize app. Scalprum was not inititliazed!';\n    }\n    window[exports.GLOBAL_NAMESPACE].apps[configuration.name] = {\n        mount: function (api) {\n            var fullApi = __assign(__assign({}, api), window[exports.GLOBAL_NAMESPACE]);\n            exports.setActiveApp(configuration.name);\n            return configuration.mount(fullApi);\n        },\n        unmount: function () {\n            exports.removeActiveApp(configuration.name);\n            configuration.unmount();\n        },\n        update: configuration.update,\n        nodeId: configuration.id,\n    };\n    window[exports.GLOBAL_NAMESPACE].pendingInjections[configuration.name]();\n}\nexports.initializeApp = initializeApp;\nexports.getApp = function (name) { return window[exports.GLOBAL_NAMESPACE].apps[name]; };\nexports.getAppData = function (name) { return window[exports.GLOBAL_NAMESPACE].appsMetaData[name]; };\nexports.getAppsByRootLocation = function (pathname) {\n    return Object.keys(window[exports.GLOBAL_NAMESPACE].appsMetaData)\n        .filter(function (key) { return window[exports.GLOBAL_NAMESPACE].appsMetaData[key].rootLocation === pathname; })\n        .map(function (key) { return (__assign(__assign({}, window[exports.GLOBAL_NAMESPACE].appsMetaData[key]), { name: key })); });\n};\nexports.injectScript = function (appName, scriptLocation, skipPending) {\n    if (skipPending === void 0) { skipPending = false; }\n    var s = undefined;\n    var injectionPromise = new Promise(function (res, rej) {\n        s = document.createElement('script');\n        s.src = scriptLocation;\n        s.id = appName;\n        if (skipPending) {\n            s.onload = function () {\n                res([name, s]);\n            };\n        }\n        else {\n            exports.setPendingInjection(appName, function () { return res([name, s]); });\n        }\n        s.onerror = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            console.log(args);\n            if (skipPending) {\n                rej([args, s]);\n            }\n            else {\n                exports.setPendingInjection(appName, function () { return rej([args, s]); });\n            }\n        };\n    });\n    if (typeof s !== 'undefined') {\n        document.body.appendChild(s);\n    }\n    return injectionPromise;\n};\nfunction processManifest(url, appName, scope, processor) {\n    return __awaiter(this, void 0, void 0, function () {\n        var manifest;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, fetch(url)];\n                case 1: return [4, (_a.sent()).json()];\n                case 2:\n                    manifest = _a.sent();\n                    return [2, Promise.all(Object.entries(manifest)\n                            .filter(function (_a) {\n                            var key = _a[0];\n                            return (scope ? key === scope : true);\n                        })\n                            .flatMap(processor || (function (value) { return value[1].entry || value; }))\n                            .map(function (scriptLocation) { return exports.injectScript(appName, scriptLocation, true); }))];\n            }\n        });\n    });\n}\nexports.processManifest = processManifest;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadComponent = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar DefaultErrorComponent = function () {\n    return react_1.default.createElement(\"span\", null, \"Error while loading component!\");\n};\nfunction loadComponent(scope, module, ErrorComponent) {\n    var _this = this;\n    if (ErrorComponent === void 0) { ErrorComponent = DefaultErrorComponent; }\n    return function () { return __awaiter(_this, void 0, void 0, function () {\n        var Module, container, factory, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 4, , 5]);\n                    return [4, __webpack_init_sharing__('default')];\n                case 1:\n                    _a.sent();\n                    container = window[scope];\n                    return [4, container.init(__webpack_share_scopes__.default)];\n                case 2:\n                    _a.sent();\n                    return [4, window[scope].get(module)];\n                case 3:\n                    factory = _a.sent();\n                    Module = factory();\n                    return [3, 5];\n                case 4:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    Module = {\n                        default: ErrorComponent,\n                    };\n                    return [3, 5];\n                case 5: return [2, Module];\n            }\n        });\n    }); };\n}\nexports.loadComponent = loadComponent;\n//# sourceMappingURL=async-loader.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useScalprum = void 0;\nvar react_1 = require(\"react\");\nvar core_1 = require(\"@scalprum/core\");\n__exportStar(require(\"./scalprum-route\"), exports);\n__exportStar(require(\"./scalprum-link\"), exports);\n__exportStar(require(\"./scalprum-component\"), exports);\nexports.useScalprum = function (applicationFeed, api) {\n    var _a = react_1.useState({\n        initialized: false,\n        config: {},\n        api: api,\n    }), state = _a[0], setState = _a[1];\n    react_1.useEffect(function () {\n        if (typeof applicationFeed === 'object') {\n            core_1.initialize({ scalpLets: applicationFeed, api: api });\n            setState(function (prev) { return (__assign(__assign({}, prev), { initialized: true, config: applicationFeed })); });\n        }\n        if (typeof applicationFeed === 'function') {\n            Promise.resolve(applicationFeed()).then(function (config) {\n                setState(function (prev) { return (__assign(__assign({}, prev), { initialized: true, config: config })); });\n                core_1.initialize({ scalpLets: config, api: api });\n            });\n        }\n    }, [applicationFeed]);\n    return state;\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScalprumComponent = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar core_1 = require(\"@scalprum/core\");\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\nvar async_loader_1 = require(\"./async-loader\");\nvar DefaultErrorComponent = function () { return react_1.default.createElement(\"span\", null, \"Error while loading component!\"); };\nvar LoadModule = function (_a) {\n    var _b = _a.fallback, fallback = _b === void 0 ? 'loading' : _b, appName = _a.appName, api = _a.api, scope = _a.scope, module = _a.module, ErrorComponent = _a.ErrorComponent, processor = _a.processor, innerRef = _a.innerRef, props = __rest(_a, [\"fallback\", \"appName\", \"api\", \"scope\", \"module\", \"ErrorComponent\", \"processor\", \"innerRef\"]);\n    var _c = core_1.getAppData(appName), scriptLocation = _c.scriptLocation, manifestLocation = _c.manifestLocation;\n    var _d = react_1.useState(undefined), Component = _d[0], setComponent = _d[1];\n    var _e = react_1.useState(), mountedAt = _e[0], setMountedAt = _e[1];\n    react_1.useEffect(function () {\n        var app = core_1.getApp(appName);\n        if (!app) {\n            if (scriptLocation) {\n                core_1.injectScript(appName, scriptLocation)\n                    .then(function (_a) {\n                    var scriptMountedAt = _a[1];\n                    var app = core_1.getApp(appName);\n                    app === null || app === void 0 ? void 0 : app.mount(api);\n                    setComponent(function () { return react_1.default.lazy(async_loader_1.loadComponent(scope, module, ErrorComponent)); });\n                    setMountedAt(function () { return scriptMountedAt; });\n                })\n                    .catch(function () {\n                    setComponent(function () { return ErrorComponent; });\n                });\n            }\n            else if (manifestLocation) {\n                core_1.processManifest(manifestLocation, appName, scope, processor)\n                    .then(function (items) {\n                    setMountedAt(function () { return items.map(function (value) { return value[1]; }); });\n                    var app = core_1.getApp(appName);\n                    app === null || app === void 0 ? void 0 : app.mount(api);\n                    setComponent(function () { return react_1.default.lazy(async_loader_1.loadComponent(scope, module, ErrorComponent)); });\n                })\n                    .catch(function () {\n                    setComponent(function () { return ErrorComponent; });\n                });\n            }\n        }\n        else {\n            app === null || app === void 0 ? void 0 : app.mount(api);\n            setComponent(function () { return react_1.default.lazy(async_loader_1.loadComponent(scope, module, ErrorComponent)); });\n        }\n        return function () {\n            var app = core_1.getApp(appName);\n            app === null || app === void 0 ? void 0 : app.unmount();\n            if (mountedAt) {\n                Array.isArray(mountedAt) ? mountedAt.forEach(function (mounted) { return document.body.removeChild(mounted); }) : document.body.removeChild(mountedAt);\n            }\n        };\n    }, []);\n    return react_1.default.createElement(react_1.Suspense, { fallback: fallback }, Component ? react_1.default.createElement(Component, __assign({ ref: innerRef }, props)) : fallback);\n};\nvar BaseScalprumComponent = (function (_super) {\n    __extends(BaseScalprumComponent, _super);\n    function BaseScalprumComponent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false };\n        return _this;\n    }\n    BaseScalprumComponent.getDerivedStateFromError = function () {\n        return { hasError: true };\n    };\n    BaseScalprumComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.state.hasError !== nextState.hasError) {\n            return true;\n        }\n        return !isEqual_1.default(nextProps, this.props);\n    };\n    BaseScalprumComponent.prototype.render = function () {\n        var _a = this.props, _b = _a.ErrorComponent, ErrorComponent = _b === void 0 ? react_1.default.createElement(DefaultErrorComponent, null) : _b, props = __rest(_a, [\"ErrorComponent\"]);\n        if (this.state.hasError) {\n            return ErrorComponent;\n        }\n        return react_1.default.createElement(LoadModule, __assign({}, props, { ErrorComponent: function () { return react_1.default.createElement(react_1.Fragment, null, ErrorComponent); } }));\n    };\n    BaseScalprumComponent.defaultProps = {\n        ErrorComponent: react_1.default.createElement(DefaultErrorComponent, null),\n    };\n    return BaseScalprumComponent;\n}(react_1.default.Component));\nexports.ScalprumComponent = react_1.default.forwardRef(function (props, ref) { return (react_1.default.createElement(BaseScalprumComponent, __assign({}, props, { innerRef: ref }))); });\n//# sourceMappingURL=scalprum-component.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScalprumLink = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar core_1 = require(\"@scalprum/core\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nexports.ScalprumLink = function (_a) {\n    var to = _a.to, onClick = _a.onClick, shouldUnmount = _a.shouldUnmount, unmount = _a.unmount, props = __rest(_a, [\"to\", \"onClick\", \"shouldUnmount\", \"unmount\"]);\n    var pathname = react_router_dom_1.useLocation().pathname;\n    return (react_1.default.createElement(react_router_dom_1.Link, __assign({ onClick: function (event) {\n            var unmountResult;\n            var unmountFunction = unmount || (function () { return core_1.unmountAppsFromRoute(pathname); });\n            if (typeof shouldUnmount === 'undefined') {\n                unmountResult = (typeof to === 'string' && pathname !== to) || (typeof to === 'object' && pathname !== to.pathname);\n            }\n            else if (typeof shouldUnmount === 'boolean') {\n                unmountResult = shouldUnmount;\n            }\n            else if (typeof shouldUnmount === 'function') {\n                unmountResult = shouldUnmount(pathname, to);\n            }\n            if (unmountResult) {\n            }\n            if (onClick) {\n                onClick(event);\n            }\n        }, to: to }, props)));\n};\n//# sourceMappingURL=scalprum-link.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScalprumRoute = void 0;\nvar core_1 = require(\"@scalprum/core\");\nvar react_1 = __importStar(require(\"react\"));\nvar react_dom_1 = require(\"react-dom\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nexports.ScalprumRoute = function (_a) {\n    var _b;\n    var _c = _a.Placeholder, Placeholder = _c === void 0 ? react_1.Fragment : _c, elementId = _a.elementId, appName = _a.appName, path = _a.path, api = _a.api, props = __rest(_a, [\"Placeholder\", \"elementId\", \"appName\", \"path\", \"api\"]);\n    var scriptLocation = ((_b = core_1.getAppsByRootLocation(path)) === null || _b === void 0 ? void 0 : _b[0]).scriptLocation;\n    react_1.useEffect(function () {\n        var app = core_1.getApp(appName);\n        var element = document.getElementById(elementId);\n        if (!app) {\n            core_1.injectScript(appName, scriptLocation).then(function () {\n                var app = core_1.getApp(appName);\n                var node = app.mount(api);\n                react_dom_1.render(node, element);\n            });\n        }\n        else {\n            var node = app.mount(api);\n            react_dom_1.render(node, element);\n        }\n        return function () {\n            var app = core_1.getApp(appName);\n            app.unmount();\n            react_dom_1.unmountComponentAtNode(element);\n        };\n    }, [path]);\n    return (react_1.default.createElement(react_router_dom_1.Route, __assign({}, props, { path: path }),\n        react_1.default.createElement(\"div\", { id: elementId },\n            react_1.default.createElement(Placeholder, null))));\n};\n//# sourceMappingURL=scalprum-route.js.map","(function (factory) {\n  typeof define === 'function' && define.amd ? define(factory) :\n  factory();\n}((function () { 'use strict';\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== \"undefined\" && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  var Emitter = /*#__PURE__*/function () {\n    function Emitter() {\n      _classCallCheck(this, Emitter);\n\n      Object.defineProperty(this, 'listeners', {\n        value: {},\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(Emitter, [{\n      key: \"addEventListener\",\n      value: function addEventListener(type, callback, options) {\n        if (!(type in this.listeners)) {\n          this.listeners[type] = [];\n        }\n\n        this.listeners[type].push({\n          callback: callback,\n          options: options\n        });\n      }\n    }, {\n      key: \"removeEventListener\",\n      value: function removeEventListener(type, callback) {\n        if (!(type in this.listeners)) {\n          return;\n        }\n\n        var stack = this.listeners[type];\n\n        for (var i = 0, l = stack.length; i < l; i++) {\n          if (stack[i].callback === callback) {\n            stack.splice(i, 1);\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        if (!(event.type in this.listeners)) {\n          return;\n        }\n\n        var stack = this.listeners[event.type];\n        var stackToCall = stack.slice();\n\n        for (var i = 0, l = stackToCall.length; i < l; i++) {\n          var listener = stackToCall[i];\n\n          try {\n            listener.callback.call(this, event);\n          } catch (e) {\n            Promise.resolve().then(function () {\n              throw e;\n            });\n          }\n\n          if (listener.options && listener.options.once) {\n            this.removeEventListener(event.type, listener.callback);\n          }\n        }\n\n        return !event.defaultPrevented;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  var AbortSignal = /*#__PURE__*/function (_Emitter) {\n    _inherits(AbortSignal, _Emitter);\n\n    var _super = _createSuper(AbortSignal);\n\n    function AbortSignal() {\n      var _this;\n\n      _classCallCheck(this, AbortSignal);\n\n      _this = _super.call(this); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n      // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n      // the parent constructor directly instead as a workaround. For general details, see babel bug:\n      // https://github.com/babel/babel/issues/3041\n      // This hack was added as a fix for the issue described here:\n      // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n      if (!_this.listeners) {\n        Emitter.call(_assertThisInitialized(_this));\n      } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n      Object.defineProperty(_assertThisInitialized(_this), 'aborted', {\n        value: false,\n        writable: true,\n        configurable: true\n      });\n      Object.defineProperty(_assertThisInitialized(_this), 'onabort', {\n        value: null,\n        writable: true,\n        configurable: true\n      });\n      return _this;\n    }\n\n    _createClass(AbortSignal, [{\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortSignal]';\n      }\n    }, {\n      key: \"dispatchEvent\",\n      value: function dispatchEvent(event) {\n        if (event.type === 'abort') {\n          this.aborted = true;\n\n          if (typeof this.onabort === 'function') {\n            this.onabort.call(this, event);\n          }\n        }\n\n        _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n      }\n    }]);\n\n    return AbortSignal;\n  }(Emitter);\n  var AbortController = /*#__PURE__*/function () {\n    function AbortController() {\n      _classCallCheck(this, AbortController);\n\n      // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n      // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n      Object.defineProperty(this, 'signal', {\n        value: new AbortSignal(),\n        writable: true,\n        configurable: true\n      });\n    }\n\n    _createClass(AbortController, [{\n      key: \"abort\",\n      value: function abort() {\n        var event;\n\n        try {\n          event = new Event('abort');\n        } catch (e) {\n          if (typeof document !== 'undefined') {\n            if (!document.createEvent) {\n              // For Internet Explorer 8:\n              event = document.createEventObject();\n              event.type = 'abort';\n            } else {\n              // For Internet Explorer 11:\n              event = document.createEvent('Event');\n              event.initEvent('abort', false, false);\n            }\n          } else {\n            // Fallback where document isn't available:\n            event = {\n              type: 'abort',\n              bubbles: false,\n              cancelable: false\n            };\n          }\n        }\n\n        this.signal.dispatchEvent(event);\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return '[object AbortController]';\n      }\n    }]);\n\n    return AbortController;\n  }();\n\n  if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n    // These are necessary to make sure that we get correct output for:\n    // Object.prototype.toString.call(new AbortController())\n    AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n    AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n  }\n\n  function polyfillNeeded(self) {\n    if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n      return true;\n    } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // so the below feature detection needs the !self.AbortController part.\n    // The Request.prototype check is also needed because Safari versions 11.1.2\n    // up to and including 12.1.x has a window.AbortController present but still\n    // does NOT correctly implement abortable fetch:\n    // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n    return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n  }\n\n  /**\n   * Note: the \"fetch.Request\" default value is available for fetch imported from\n   * the \"node-fetch\" package and not in browsers. This is OK since browsers\n   * will be importing umd-polyfill.js from that path \"self\" is passed the\n   * decorator so the default value will not be used (because browsers that define\n   * fetch also has Request). One quirky setup where self.fetch exists but\n   * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n   * on top of IE11; for this case the browser will try to use the fetch.Request\n   * default value which in turn will be undefined but then then \"if (Request)\"\n   * will ensure that you get a patched fetch but still no Request (as expected).\n   * @param {fetch, Request = fetch.Request}\n   * @returns {fetch: abortableFetch, Request: AbortableRequest}\n   */\n\n  function abortableFetchDecorator(patchTargets) {\n    if ('function' === typeof patchTargets) {\n      patchTargets = {\n        fetch: patchTargets\n      };\n    }\n\n    var _patchTargets = patchTargets,\n        fetch = _patchTargets.fetch,\n        _patchTargets$Request = _patchTargets.Request,\n        NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n        NativeAbortController = _patchTargets.AbortController,\n        _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n        __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n    if (!polyfillNeeded({\n      fetch: fetch,\n      Request: NativeRequest,\n      AbortController: NativeAbortController,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n    })) {\n      return {\n        fetch: fetch,\n        Request: Request\n      };\n    }\n\n    var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n    // defining window.Request, and this polyfill need to work on top of unfetch\n    // hence we only patch it if it's available. Also we don't patch it if signal\n    // is already available on the Request prototype because in this case support\n    // is present and the patching below can cause a crash since it assigns to\n    // request.signal which is technically a read-only property. This latter error\n    // happens when you run the main5.js node-fetch example in the repo\n    // \"abortcontroller-polyfill-examples\". The exact error is:\n    //   request.signal = init.signal;\n    //   ^\n    // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n    if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n      Request = function Request(input, init) {\n        var signal;\n\n        if (init && init.signal) {\n          signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n          delete init.signal;\n        }\n\n        var request = new NativeRequest(input, init);\n\n        if (signal) {\n          Object.defineProperty(request, 'signal', {\n            writable: false,\n            enumerable: false,\n            configurable: true,\n            value: signal\n          });\n        }\n\n        return request;\n      };\n\n      Request.prototype = NativeRequest.prototype;\n    }\n\n    var realFetch = fetch;\n\n    var abortableFetch = function abortableFetch(input, init) {\n      var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n      if (signal) {\n        var abortError;\n\n        try {\n          abortError = new DOMException('Aborted', 'AbortError');\n        } catch (err) {\n          // IE 11 does not support calling the DOMException constructor, use a\n          // regular error object on it instead.\n          abortError = new Error('Aborted');\n          abortError.name = 'AbortError';\n        } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n        if (signal.aborted) {\n          return Promise.reject(abortError);\n        } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n        var cancellation = new Promise(function (_, reject) {\n          signal.addEventListener('abort', function () {\n            return reject(abortError);\n          }, {\n            once: true\n          });\n        });\n\n        if (init && init.signal) {\n          // Never pass .signal to the native implementation when the polyfill has\n          // been installed because if we're running on top of a browser with a\n          // working native AbortController (i.e. the polyfill was installed due to\n          // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n          // fake AbortSignal to the native fetch will trigger:\n          // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n          delete init.signal;\n        } // Return the fastest promise (don't need to wait for request to finish)\n\n\n        return Promise.race([cancellation, realFetch(input, init)]);\n      }\n\n      return realFetch(input, init);\n    };\n\n    return {\n      fetch: abortableFetch,\n      Request: Request\n    };\n  }\n\n  (function (self) {\n\n    if (!polyfillNeeded(self)) {\n      return;\n    }\n\n    if (!self.fetch) {\n      console.warn('fetch() is not available, cannot install abortcontroller-polyfill');\n      return;\n    }\n\n    var _abortableFetch = abortableFetchDecorator(self),\n        fetch = _abortableFetch.fetch,\n        Request = _abortableFetch.Request;\n\n    self.fetch = fetch;\n    self.Request = Request;\n    Object.defineProperty(self, 'AbortController', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortController\n    });\n    Object.defineProperty(self, 'AbortSignal', {\n      writable: true,\n      enumerable: false,\n      configurable: true,\n      value: AbortSignal\n    });\n  })(typeof self !== 'undefined' ? self : global);\n\n})));\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n"],"sourceRoot":""}