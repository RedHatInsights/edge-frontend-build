{"version":3,"file":"js/10.1667419321069.ca7707435544704cafac.js","mappings":"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","sources":["webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/Routes.js","webpack:///./src/components/AuthModal.js","webpack:///./src/constants/routeMapper.js","webpack:///./src/store/polling.js","webpack:///./src/store/index.js"],"sourcesContent":["import React, { useEffect, Fragment, useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { RegistryContext } from './store';\nimport { Routes } from './Routes';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { NotificationPortal } from '@redhat-cloud-services/frontend-components-notifications/NotificationPortal';\nimport './App.scss';\nimport AuthModal from './components/AuthModal';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst App = (props) => {\n  const { getRegistry } = useContext(RegistryContext);\n  const [isLogged, setIsLogged] = useState(false);\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(null);\n  useEffect(() => {\n    insights.chrome.init();\n    // TODO change this to your appname\n    insights.chrome.identifyApp('fleet-management');\n\n    insights.chrome.on('APP_NAVIGATION', (event) =>\n      history.push(`/${event.navId}`)\n    );\n\n    const registered = getRegistry().register({\n      notifications: notificationsReducer,\n    });\n    (async () => {\n      await insights.chrome.auth.getUser();\n      setIsLogged(true);\n    })();\n\n    (async () => {\n      const data = await insights.chrome.auth.getUser();\n      setIsAuth(data.entitlements.smart_management.is_entitled);\n    })();\n\n    return () => {\n      registered();\n    };\n  }, []);\n\n  return (\n    <Fragment>\n      <NotificationPortal />\n      {isAuth && isLogged ? (\n        <Routes childProps={props} />\n      ) : isAuth === null ? (\n        <Bullseye>\n          <Spinner size=\"xl\" />\n        </Bullseye>\n      ) : (\n        <AuthModal />\n      )}\n    </Fragment>\n  );\n};\n\nexport default App;\n","import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init, RegistryContext } from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport logger from 'redux-logger';\n\nconst AppEntry = ({ hasLogger }) => {\n  // Initialize reducer registry only at initial render.\n  const registry = useMemo(() => (hasLogger ? init(logger) : init()), []);\n  return (\n    <RegistryContext.Provider\n      value={{\n        getRegistry: () => registry,\n      }}\n    >\n      <Provider store={registry.getStore()}>\n        <Router basename={getBaseName(window.location.pathname, 1)}>\n          <App />\n        </Router>\n      </Provider>\n    </RegistryContext.Provider>\n  );\n};\n\nAppEntry.propTypes = {\n  hasLogger: PropTypes.bool,\n};\n\nexport default AppEntry;\n","import { Redirect, Route, Switch } from 'react-router-dom';\n\nimport React, { Suspense } from 'react';\nimport { routes as paths } from './constants/routeMapper';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n// const Groups = React.lazy(() =>\n//   import(/* webpackChunkName: \"GroupsPage\" */ './Routes/Groups/Groups')\n// );\n// const GroupsDetail = React.lazy(() =>\n//   import(\n//     /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/GroupsDetail/GroupsDetail'\n//   )\n// );\n\nconst DeviceDetail = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/DeviceDetail/DeviceDetail'\n  )\n);\n\n// const Canaries = React.lazy(() =>\n//   import(\n//     /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/Canaries/Canaries'\n//   )\n// );\n\nconst Groups = React.lazy(() =>\n  import(/* webpackChunkName: \"GroupsDetailPage\" */ './Routes/Groups/Groups')\n);\n\nconst GroupsDetail = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/GroupsDetail/GroupsDetail'\n  )\n);\n\nconst Inventory = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/Devices/Inventory'\n  )\n);\n\nconst Images = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"GroupsDetailPage\" */ './Routes/ImageManager/Images'\n  )\n);\n\nconst ImageDetail = React.lazy(() =>\n  import('./Routes/ImageManagerDetail/ImageDetail')\n);\n\nconst Repositories = React.lazy(() =>\n  import('./Routes/Repositories/Repositories')\n);\n\nconst LearningResources = React.lazy(() =>\n  import('./Routes/LearningResources/LearningResources')\n);\n\nexport const Routes = () => {\n  return (\n    <Suspense\n      fallback={\n        <Bullseye>\n          <Spinner size=\"xl\" />\n        </Bullseye>\n      }\n    >\n      <Switch>\n        <Route exact path={paths.groups} component={Groups} />\n        <Route exact path={paths['groups-detail']} component={GroupsDetail} />\n        {/* <Route path={paths['device-detail']} component={DeviceDetail} /> */}\n        {/* <Route path={paths.canaries} component={Canaries} /> */}\n        <Route exact path={paths['fleet-management']} component={Groups} />\n        <Route\n          exact\n          path={paths['fleet-management-detail']}\n          component={GroupsDetail}\n        />\n        <Route exact path={paths['inventory']} component={Inventory} />\n        <Route path={paths['inventory-detail']} component={DeviceDetail} />\n        <Route\n          path={paths['manage-images-detail-version']}\n          component={ImageDetail}\n        />\n        <Route path={paths['manage-images-detail']} component={ImageDetail} />\n        <Route path={paths['manage-images']} component={Images} />\n\n        <Route exact path={paths['repositories']} component={Repositories} />\n\n        <Route\n          exact\n          path={paths['learning-resources']}\n          component={LearningResources}\n        />\n        <Route>\n          <Redirect to={paths['fleet-management']} />\n        </Route>\n      </Switch>\n    </Suspense>\n  );\n};\n","import React from 'react';\nimport { Modal, ModalBoxFooter, Button } from '@patternfly/react-core';\nimport edgeIcon from '../../static/images/Icon-Red_Hat-Edge-A-Red-RGB.png';\n\nconst AuthModal = () => {\n  return (\n    <Modal\n      style={{ padding: '15px' }}\n      isOpen={true}\n      variant=\"small\"\n      onClose={() => (window.location.href = 'https://console.redhat.com/')}\n      aria-label=\"auth-modal\"\n      header={\n        <h2 className=\"pf-u-pr-xl pf-u-pl-xl pf-u-font-size-2xl pf-u-text-align-center pf-u-font-weight-bold\">\n          Edge management requires a valid Smart Management subscription\n        </h2>\n      }\n      footer={\n        <ModalBoxFooter\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            width: '100%',\n            flexDirection: 'column',\n            paddingTop: 0,\n          }}\n        >\n          <Button\n            key=\"get-started\"\n            component=\"a\"\n            className=\"pf-u-mb-md\"\n            variant=\"primary\"\n            target=\"_blank\"\n            href=\"https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux/try-it\"\n          >\n            Get started\n          </Button>\n          <Button\n            component=\"a\"\n            key=\"interactive-demo\"\n            className=\"pf-u-mb-md\"\n            variant=\"secondary\"\n            target=\"_blank\"\n            href=\"https://red.ht/edgemanagementlab\"\n          >\n            Try the interactive demo\n          </Button>\n          <Button\n            component=\"a\"\n            key=\"not-now\"\n            variant=\"link\"\n            href=\"https://console.redhat.com/\"\n          >\n            Not now\n          </Button>\n        </ModalBoxFooter>\n      }\n      title=\"Edge management requires a valid subscription\"\n      width=\"640px\"\n    >\n      <img\n        style={{ margin: '0 auto', display: 'block' }}\n        src={edgeIcon}\n        width=\"200px\"\n        alt=\"edge icon\"\n      />\n      <p className=\"pf-u-pr-xl pf-u-pl-xl pf-u-text-align-center\">\n        Securely manage and scale deployments at the edge with zero-touch\n        provisioning, system health visibility, and quick security remediations\n        and more with a Red Hat Smart Management subscription\n      </p>\n    </Modal>\n  );\n};\n\nexport default AuthModal;\n","export const routes = {\n  groups: '/groups',\n  'groups-detail': '/groups/:uuid',\n  'device-detail': '/groups/:uuid/:inventoryId',\n  canaries: '/canaries',\n  'fleet-management': '/fleet-management',\n  'fleet-management-detail': '/fleet-management/:groupId',\n  inventory: '/inventory',\n  'inventory-detail': '/inventory/:deviceId',\n  'manage-images': '/manage-images',\n  'manage-images-detail': '/manage-images/:imageId',\n  'manage-images-detail-version':\n    '/manage-images/:imageId/versions/:imageVersionId',\n  repositories: '/repositories',\n  'learning-resources': '/learning-resources',\n};\n","const POLLING_SUFFIX = 'POLLING';\n\nconst hasPollingData = (polling = {}) => {\n  return polling?.id && polling?.fetcher && polling?.condition;\n};\n\nconst ofPollingType = (type) => type.endsWith(`_${POLLING_SUFFIX}`);\n\nexport const polling =\n  (pollHash = {}) =>\n  ({ dispatch }) =>\n  (next) =>\n  (action) => {\n    const { type, payload, meta } = action;\n    if (ofPollingType(type) && hasPollingData(payload)) {\n      const { id, fetcher, condition, onEvent } = payload;\n      if (pollHash[id]) {\n        return;\n      }\n      pollHash[id] = true;\n      setTimeout(() => {\n        dispatch({\n          type: id,\n          payload: fetcher().then((resp) => {\n            pollHash[id] = false;\n            const [toContinue, stateName] = condition(resp);\n            const nextActions = onEvent?.[stateName] || [];\n            nextActions.forEach((action) => action(dispatch));\n            if (toContinue) {\n              dispatch(action);\n            }\n          }),\n        }).catch(() => null);\n      }, 15 * 1000);\n      return;\n    }\n\n    if (hasPollingData(meta?.polling)) {\n      const { id, fetcher, condition, onEvent } = meta.polling;\n      dispatch({\n        type: `${id}_POLLING`,\n        payload: {\n          id,\n          fetcher,\n          condition,\n          onEvent,\n        },\n      });\n    }\n\n    next(action);\n  };\n","import { createContext } from 'react';\nimport { ReducerRegistry } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport promiseMiddleware from 'redux-promise-middleware';\nimport { notificationsMiddleware } from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport { polling } from './polling';\n\nexport const RegistryContext = createContext({\n  getRegistry: () => {},\n});\n\nexport function init(...middleware) {\n  return new ReducerRegistry({}, [\n    promiseMiddleware,\n    notificationsMiddleware({\n      errorDescriptionKey: ['detail', 'stack'],\n    }),\n    polling(),\n    ...middleware,\n  ]);\n}\n"],"names":["props","getRegistry","useContext","RegistryContext","useState","isLogged","setIsLogged","history","useHistory","isAuth","setIsAuth","useEffect","insights","chrome","init","identifyApp","on","event","push","navId","registered","register","notifications","notificationsReducer","auth","getUser","data","entitlements","smart_management","is_entitled","Fragment","childProps","size","AppEntry","hasLogger","registry","useMemo","logger","value","store","getStore","basename","getBaseName","window","location","pathname","propTypes","PropTypes","DeviceDetail","React","Groups","GroupsDetail","Inventory","Images","ImageDetail","Repositories","LearningResources","Routes","Suspense","fallback","Switch","Route","exact","path","paths","component","Redirect","to","style","padding","isOpen","variant","onClose","href","header","className","footer","display","justifyContent","width","flexDirection","paddingTop","key","target","title","margin","src","edgeIcon","alt","routes","groups","canaries","inventory","repositories","hasPollingData","polling","id","fetcher","condition","ofPollingType","type","endsWith","pollHash","dispatch","next","action","payload","meta","onEvent","setTimeout","then","resp","toContinue","stateName","forEach","createContext","middleware","ReducerRegistry","promiseMiddleware","notificationsMiddleware","errorDescriptionKey"],"sourceRoot":""}