{"version":3,"file":"js/UpdateSystem.f095be0bf76e7ed7e8b2.js","mappings":"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","sources":["webpack:///./src/Routes/Devices/UpdateSystem.js","webpack:///./src/hooks/useApi.js","webpack:///./src/utils/apiWithToast.js"],"sourcesContent":["import React, { useState } from 'react';\nimport GeneralTable from '../../components/general-table/GeneralTable';\nimport PropTypes from 'prop-types';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Button,\n  Card,\n  CardBody,\n  Divider,\n  Page,\n  PageSection,\n  Skeleton,\n  Text,\n  TextContent,\n  Title,\n} from '@patternfly/react-core';\nimport { getDeviceUpdates, updateSystem } from '../../api/devices';\nimport { distributionMapper } from '../../constants';\nimport { useDispatch } from 'react-redux';\nimport { routes as paths } from '../../constants/routeMapper';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport useApi from '../../hooks/useApi';\nimport {\n  TableComposable,\n  Thead,\n  Tr,\n  Th,\n  Tbody,\n  Td,\n  headerCol,\n} from '@patternfly/react-table';\nimport {\n  useParams,\n  useHistory,\n  useLocation,\n  useNavigate,\n  matchPath,\n} from 'react-router-dom';\nimport apiWithToast from '../../utils/apiWithToast';\nimport { createLink } from '../../utils';\n\nconst filters = [\n  { label: 'Version', type: 'text' },\n  { label: 'Release', type: 'text' },\n  { label: 'Additional packages', type: 'text' },\n  { label: 'All packages', type: 'text' },\n  { label: 'Systems running', type: 'text' },\n  { label: 'Created', type: 'text' },\n];\n\nconst columns = [\n  {\n    title: 'Version',\n    cellTransforms: [headerCol('selectable-radio')],\n  },\n  { title: 'Release' },\n  { title: 'Additional packages' },\n  { title: 'All packages' },\n  { title: 'Systems running' },\n  { title: 'Created' },\n];\n\nconst CurrentVersion = ({ image }) => {\n  const current_version = [\n    {\n      version: image.cells[0],\n      release: image.cells[1],\n      additionalPackages: image.cells[2],\n      allPackages: image.cells[3],\n      systemsRunning: image.cells[4],\n      created: image.cells[5],\n    },\n  ];\n  const columnNames = {\n    version: 'Version',\n    release: 'Release',\n    additionalPackages: 'Additional packages',\n    allPackages: 'All packages',\n    systemsRunning: 'Systems running',\n    created: 'Created',\n  };\n\n  return (\n    <>\n      <TextContent>\n        <Title headingLevel=\"h2\">\n          <Text>Current version</Text>\n        </Title>\n      </TextContent>\n      <TableComposable\n        aria-label=\"Current version table\"\n        variant={'compact'}\n        borders={false}\n      >\n        <Thead>\n          <Tr style={{ borderBottomStyle: 'hidden' }}>\n            <Th style={{ width: '3%' }}></Th>\n            <Th>{columnNames.version}</Th>\n            <Th>{columnNames.release}</Th>\n            <Th>{columnNames.additionalPackages}</Th>\n            <Th>{columnNames.allPackages}</Th>\n            <Th>{columnNames.systemsRunning}</Th>\n            <Th>{columnNames.created}</Th>\n          </Tr>\n        </Thead>\n        <Tbody>\n          {current_version.map((version, index) => (\n            <Tr key={index}>\n              <Td></Td>\n              <Td dataLabel={columnNames.version}>{version.version}</Td>\n              <Td dataLabel={columnNames.release}>{version.release}</Td>\n              <Td dataLabel={columnNames.additionalPackages}>\n                {version.additionalPackages}\n              </Td>\n              <Td dataLabel={columnNames.allPackages}>{version.allPackages}</Td>\n              <Td dataLabel={columnNames.systemsRunning}>\n                {version.systemsRunning}\n              </Td>\n              <Td dataLabel={columnNames.created}>{version.created}</Td>\n            </Tr>\n          ))}\n        </Tbody>\n      </TableComposable>\n    </>\n  );\n};\n\nCurrentVersion.propTypes = {\n  image: PropTypes.object,\n};\n\nconst UpdateSystemMain = ({\n  data,\n  fetchDevices,\n  isLoading,\n  hasError,\n  historyProp,\n  navigateProp,\n  locationProp,\n  currentId,\n  notificationProp,\n}) => {\n  const device = data?.Device;\n  const [selectedVersion, setSelectedVersion] = useState(null);\n  const [selectedCommitID, setSelectedCommitID] = useState(null);\n  const [isUpdateSubmitted, setIsUpdateSubmitted] = useState(false);\n  const dispatch = useDispatch();\n  const history = historyProp\n    ? historyProp()\n    : useHistory\n    ? useHistory()\n    : null;\n  const navigate = navigateProp\n    ? navigateProp()\n    : useNavigate\n    ? useNavigate()\n    : null;\n  const { pathname, search } = locationProp ? locationProp() : useLocation();\n  const setUpdateEvent = (value) => {\n    setSelectedVersion(value.cells[0]);\n    setSelectedCommitID(value);\n  };\n\n  const handleUpdateEvent = async () => {\n    setIsUpdateSubmitted(true);\n    const statusMessages = {\n      onInfo: {\n        title: 'Updating system',\n        description: ` ${selectedCommitID.deviceName} was added to the queue.`,\n      },\n      onError: {\n        title: 'Error',\n        description: `Failed to update the selected system(s)`,\n      },\n    };\n\n    await apiWithToast(\n      dispatch,\n      () =>\n        updateSystem({\n          CommitID: selectedCommitID.commitID,\n          DevicesUUID: [selectedCommitID.deviceUUID],\n        }),\n      statusMessages,\n      notificationProp\n    );\n\n    handleClose();\n    setIsUpdateSubmitted(false);\n  };\n\n  const handleClose = () => {\n    // Return either to the system detail, group detail, or inventory page,\n    // depending on path and from_details param\n    let destPath = paths.inventory;\n    const matchInventoryDetailUpdate = matchPath(pathname, {\n      path: paths.inventoryDetailUpdate,\n      exact: true,\n      strict: false,\n    });\n\n    const matchInsightsInventoryDetailUpdate = matchPath(pathname, {\n      path: paths.insightsInventoryDetailUpdate,\n      exact: true,\n      strict: false,\n    });\n    const matchInventoryDetail = matchPath(`/inventory/${currentId}`, {\n      path: paths.inventoryDetail,\n      exact: true,\n      strict: false,\n    });\n    if (pathname === matchInventoryDetailUpdate?.url) {\n      destPath = search.includes('from_details=true')\n        ? matchInventoryDetail.url\n        : paths.inventory;\n    }\n    if (pathname === matchInsightsInventoryDetailUpdate?.url) {\n      destPath = search.includes('from_details=true')\n        ? `/insights${matchInventoryDetail.url}`\n        : paths.insightsInventory;\n    }\n    if (pathname === paths.fleetManagementSystemDetailUpdate) {\n      destPath = search.includes('from_details=true')\n        ? paths.fleetManagementSystemDetail\n        : paths.fleetManagementDetail;\n    }\n\n    const isFederated = typeof navigateProp !== 'undefined';\n\n    if (isFederated) {\n      navigate({ pathname: destPath });\n    } else {\n      // Construct destination path\n      const pathLen = destPath.split('/').length;\n      const dest = pathname.split('/').slice(0, pathLen).join('/');\n\n      history.push({ pathname: dest });\n    }\n  };\n\n  const buildRow = (image) => {\n    const version = image?.Version;\n    const release = distributionMapper[image?.Distribution];\n    const additionalPackages = image?.Packages?.length || 0;\n    const allPackages = image?.TotalPackages;\n    const systemsRunning = image?.SystemsRunning;\n    const created = (\n      <span>\n        <DateFormat type=\"relative\" date={image?.CreatedAt} />\n      </span>\n    );\n    const commitID = image?.CommitID;\n    const deviceUUID = device?.UUID;\n    const deviceName = device?.DeviceName;\n    return {\n      cells: [\n        version,\n        release,\n        additionalPackages,\n        allPackages,\n        systemsRunning,\n        created,\n      ],\n      commitID,\n      deviceUUID,\n      deviceName,\n      selected: selectedVersion === version,\n    };\n  };\n  const currentImage = buildRow(data?.ImageInfo?.Image);\n  const newImages = data?.ImageInfo?.UpdatesAvailable?.map((update) =>\n    buildRow(update?.Image)\n  );\n\n  return (\n    <Page>\n      <PageSection isWidthLimited>\n        <Card>\n          <CardBody>\n            <CurrentVersion image={currentImage} />\n            <TextContent>\n              <Title headingLevel=\"h2\">\n                <Text className=\"pf-u-mt-md\">Select version to update to</Text>\n              </Title>\n            </TextContent>\n            <>\n              <GeneralTable\n                historyProp={historyProp}\n                navigateProp={navigateProp}\n                locationProp={locationProp}\n                className=\"pf-u-mt-sm\"\n                apiFilterSort={true}\n                isUseApi={true}\n                loadTableData={fetchDevices}\n                filters={filters}\n                tableData={{\n                  count: data?.ImageInfo?.Count,\n                  isLoading,\n                  hasError,\n                }}\n                columnNames={columns}\n                rows={newImages}\n                defaultSort={{ index: 0, direction: 'desc' }}\n                hasRadio={data?.ImageInfo?.Count > 0}\n                setRadioSelection={setUpdateEvent}\n                isFooterFixed={true}\n              />\n              <div\n                style={{\n                  background: 'white',\n                  left: '200px',\n                  position: 'fixed',\n                  height: '90px',\n                  width: '100%',\n                  bottom: '0px',\n                  paddingLeft: '80px',\n                  paddingBottom: '0px',\n                }}\n              >\n                <Divider\n                  style={{\n                    paddingBottom: '25px',\n                    width: '100%',\n                    paddingLeft: 0,\n                  }}\n                />\n\n                <Button\n                  style={{ left: '60px' }}\n                  key=\"confirm\"\n                  variant=\"primary\"\n                  isDisabled={!selectedVersion || isUpdateSubmitted}\n                  onClick={() => handleUpdateEvent()}\n                >\n                  Update system\n                </Button>\n                <Button\n                  style={{ left: '70px' }}\n                  key=\"cancel\"\n                  variant=\"link\"\n                  onClick={handleClose}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </>\n          </CardBody>\n        </Card>\n      </PageSection>\n    </Page>\n  );\n};\n\nUpdateSystemMain.propTypes = {\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  historyProp: PropTypes.func,\n  navigateProp: PropTypes.func,\n  locationProp: PropTypes.func,\n  routeMatchProp: PropTypes.func,\n  fetchDevices: PropTypes.func,\n  isLoading: PropTypes.bool,\n  hasError: PropTypes.bool,\n  currentId: PropTypes.string,\n  notificationProp: PropTypes.object,\n};\n\nconst UpdateSystem = ({\n  inventoryId,\n  historyProp,\n  navigateProp,\n  locationProp,\n  routeMatchProp,\n  paramsProp,\n  notificationProp,\n}) => {\n  const history = historyProp\n    ? historyProp()\n    : useHistory\n    ? useHistory()\n    : null;\n  const { deviceId, groupId } = paramsProp\n    ? paramsProp()\n    : useParams\n    ? useParams()\n    : null;\n  const currentId = inventoryId ? inventoryId : deviceId;\n  const currentInventoryPath =\n    window.location.pathname.indexOf('edge') > 0 ? 'edge' : paths.inventory;\n  const [{ data, isLoading, hasError }, fetchDevices] = useApi({\n    api: getDeviceUpdates,\n    id: currentId,\n    tableReload: true,\n  });\n\n  const device = data?.Device;\n  const groupName = groupId\n    ? device?.DevicesGroups?.find((group) => group.ID.toString() === groupId)\n        ?.Name\n    : null;\n\n  return (\n    <>\n      <PageHeader className=\"pf-m-light\">\n        {!groupName ? (\n          <Breadcrumb ouiaId=\"systems-list\">\n            <BreadcrumbItem>\n              {createLink({\n                pathname:\n                  currentInventoryPath === 'edge'\n                    ? `${currentInventoryPath}/inventory`\n                    : `insights${currentInventoryPath}/manage-edge-inventory`,\n                linkText: 'Systems',\n                history,\n              })}\n            </BreadcrumbItem>\n            <BreadcrumbItem>\n              {createLink({\n                pathname:\n                  currentInventoryPath === 'edge'\n                    ? `${currentInventoryPath}/inventory/${currentId}/`\n                    : `insights${currentInventoryPath}/${currentId}`,\n                linkText: device?.DeviceName || <Skeleton width=\"100px\" />,\n                history,\n              })}\n            </BreadcrumbItem>\n            <BreadcrumbItem>Update</BreadcrumbItem>\n          </Breadcrumb>\n        ) : (\n          <Breadcrumb ouiaId=\"groups-list\">\n            <BreadcrumbItem>\n              {createLink({\n                pathname: paths.fleetManagement,\n                linkText: 'Groups',\n                history,\n              })}\n            </BreadcrumbItem>\n            <BreadcrumbItem>\n              {createLink({\n                pathname: `${paths.fleetManagement}/${groupId}`,\n                linkText: groupName || <Skeleton width=\"100px\" />,\n                history,\n              })}\n            </BreadcrumbItem>\n            <BreadcrumbItem>\n              {createLink({\n                pathname: `${paths.fleetManagement}/${groupId}/systems/${currentId}/`,\n                linkText: device?.DeviceName,\n                history,\n              })}\n            </BreadcrumbItem>\n            <BreadcrumbItem>Update</BreadcrumbItem>\n          </Breadcrumb>\n        )}\n        <PageHeaderTitle title=\"Update\" />\n        <TextContent className=\"pf-u-mt-md\">\n          {device?.DeviceName ? (\n            <Text>\n              {'Update '}\n              <strong>{device?.DeviceName}</strong>\n              {' to a newer version of '}\n              <strong>{data?.ImageInfo?.Image?.Name}</strong>\n              {' by selecting a new version from the table below.'}\n            </Text>\n          ) : (\n            <Skeleton width=\"100px\" />\n          )}\n        </TextContent>\n      </PageHeader>\n      <section className=\"edge-devices pf-l-page__main-section pf-c-page__main-section\">\n        <UpdateSystemMain\n          data={data}\n          currentId={currentId}\n          fetchDevices={fetchDevices}\n          isLoading={isLoading}\n          hasError={hasError}\n          navigateProp={navigateProp}\n          histor\n          yProp={historyProp}\n          locationProp={locationProp}\n          routeMatchProp={routeMatchProp}\n          notificationProp={notificationProp}\n        />\n      </section>\n    </>\n  );\n};\n\nUpdateSystem.propTypes = {\n  historyProp: PropTypes.func,\n  navigateProp: PropTypes.func,\n  locationProp: PropTypes.func,\n  routeMatchProp: PropTypes.func,\n  paramsProp: PropTypes.func,\n  inventoryId: PropTypes.string,\n  notificationProp: PropTypes.object,\n};\n\nexport default UpdateSystem;\n","import { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { useState, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\n\nconst useApi = ({ api, id = null, statusMessages, tableReload = false }) => {\n  const dispatch = useDispatch();\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [apiFunc, setAPIFunc] = useState(() => api);\n\n  const hasSuccess = statusMessages?.onSuccess;\n  if (!statusMessages) {\n    statusMessages = {\n      onSuccess: {\n        title: 'Success',\n        description: 'The request has been made successfully',\n      },\n      onError: {\n        title: 'Error',\n        description: 'An error occurred making the request',\n      },\n    };\n  }\n\n  const fetchData = async (query = '') => {\n    setIsLoading(true);\n    try {\n      const data = await apiFunc({ id, query });\n      setData(data);\n\n      if (hasSuccess) {\n        dispatch({\n          ...addNotification({\n            variant: 'success',\n            ...statusMessages.onSuccess,\n          }),\n        });\n      }\n    } catch (err) {\n      setHasError(true);\n\n      dispatch({\n        ...addNotification({\n          variant: 'danger',\n          ...statusMessages.onError,\n        }),\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!tableReload) {\n      fetchData();\n    }\n  }, []);\n\n  return [{ data, isLoading, hasError }, fetchData, apiFunc, setAPIFunc];\n};\n\nexport default useApi;\n","import { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nconst apiWithToast = (dispatch, api, statusMessages, notificationProp) => {\n  const hasSuccess = statusMessages?.onSuccess;\n  const hasInfo = statusMessages?.onInfo;\n  const hasWarning = statusMessages?.onWarning;\n\n  if (!statusMessages) {\n    statusMessages = {\n      onSuccess: {\n        title: 'Success',\n        description: 'The request has been made successfully',\n      },\n      onError: {\n        title: 'Error',\n        description: 'An error occurred making the request',\n      },\n    };\n  }\n\n  const fetchData = async () => {\n    try {\n      const response = await api();\n      if (hasInfo) {\n        if (notificationProp) {\n          notificationProp.hasInfo(statusMessages.onInfo);\n        } else {\n          dispatch({\n            ...addNotification({\n              variant: 'info',\n              ...statusMessages.onInfo,\n            }),\n          });\n        }\n      }\n      if (hasSuccess) {\n        if (notificationProp) {\n          notificationProp.hasSuccess(statusMessages.onSuccess);\n        } else {\n          dispatch({\n            ...addNotification({\n              variant: 'success',\n              ...statusMessages.onSuccess,\n            }),\n          });\n        }\n      }\n      if (hasWarning) {\n        if (notificationProp) {\n          notificationProp.hasWarning(statusMessages.onWarning);\n        } else {\n          dispatch({\n            ...addNotification({\n              variant: 'warning',\n              ...statusMessages.onWarning,\n            }),\n          });\n        }\n      }\n      return response;\n    } catch (err) {\n      if (notificationProp) {\n        notificationProp.err(statusMessages.onError, err);\n      } else {\n        dispatch({\n          ...addNotification({\n            variant: 'danger',\n            ...statusMessages.onError,\n            // Add error message from API, if present\n            description: err?.Title\n              ? `${statusMessages.onError.description}: ${err.Title}`\n              : statusMessages.onError.description,\n          }),\n        });\n      }\n      return err;\n    }\n  };\n\n  return fetchData();\n};\n\nexport default apiWithToast;\n"],"names":["filters","label","type","columns","title","cellTransforms","headerCol","CurrentVersion","image","current_version","version","cells","release","additionalPackages","allPackages","systemsRunning","created","columnNames","headingLevel","TableComposable","variant","borders","Thead","Tr","style","borderBottomStyle","Th","width","Tbody","map","index","key","Td","dataLabel","propTypes","PropTypes","UpdateSystemMain","data","fetchDevices","isLoading","hasError","historyProp","navigateProp","locationProp","currentId","notificationProp","device","Device","useState","selectedVersion","setSelectedVersion","selectedCommitID","setSelectedCommitID","isUpdateSubmitted","setIsUpdateSubmitted","dispatch","useDispatch","history","useHistory","navigate","useNavigate","useLocation","pathname","search","handleUpdateEvent","statusMessages","onInfo","description","deviceName","onError","apiWithToast","updateSystem","CommitID","commitID","DevicesUUID","deviceUUID","handleClose","destPath","paths","matchInventoryDetailUpdate","matchPath","path","exact","strict","matchInsightsInventoryDetailUpdate","matchInventoryDetail","url","includes","pathLen","split","length","dest","slice","join","push","buildRow","Version","distributionMapper","Distribution","Packages","TotalPackages","SystemsRunning","date","CreatedAt","UUID","DeviceName","selected","currentImage","ImageInfo","Image","newImages","UpdatesAvailable","update","isWidthLimited","className","apiFilterSort","isUseApi","loadTableData","tableData","count","Count","rows","defaultSort","direction","hasRadio","setRadioSelection","value","isFooterFixed","background","left","position","height","bottom","paddingLeft","paddingBottom","isDisabled","onClick","routeMatchProp","UpdateSystem","inventoryId","paramsProp","useParams","deviceId","groupId","currentInventoryPath","window","location","indexOf","useApi","api","getDeviceUpdates","id","tableReload","groupName","DevicesGroups","find","group","ID","toString","Name","ouiaId","createLink","linkText","histor","yProp","setData","setIsLoading","setHasError","apiFunc","setAPIFunc","hasSuccess","onSuccess","fetchData","query","addNotification","useEffect","hasInfo","hasWarning","onWarning","response","err","Title"],"sourceRoot":""}