{"version":3,"file":"js/GroupsDetailPage.9a7354d0224d2182f653.js","mappings":"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","sources":["webpack:///./src/components/TitleWithPopover.js","webpack:///./src/components/GreenbootStatus.js","webpack:///./src/components/DeviceDetail.js","webpack:///./src/store/deviceDetail.js","webpack:///./src/Routes/DeviceDetail/Vulnerability.js","webpack:///./src/Routes/DeviceDetail/DeviceDetailTabs.js","webpack:///./src/Routes/DeviceDetail/DeviceDetail.js","webpack:///./src/components/DeviceSummaryTile.js","webpack:///./src/components/Tiles.js","webpack:///./src/Routes/Devices/DeviceStatus.js","webpack:///./src/Routes/Devices/Devices.js","webpack:///./src/Routes/ImageManager/ImageSetsTable.js","webpack:///./src/Routes/ImageManager/Images.js"],"sourcesContent":["import React from 'react';\nimport { Popover, Button } from '@patternfly/react-core';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport PropTypes from 'prop-types';\n\nconst TitleWithPopover = ({ title, content }) => (\n  <>\n    <span>{title}</span>\n    <Popover\n      headerContent={<div>{title}</div>}\n      bodyContent={<div>{content}</div>}\n    >\n      <Button\n        variant=\"plain\"\n        aria-label={`Action for ${title}`}\n        className=\"ins-active-general_information__popover-icon\"\n      >\n        <OutlinedQuestionCircleIcon />\n      </Button>\n    </Popover>\n  </>\n);\n\nTitleWithPopover.propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n};\n\nexport default TitleWithPopover;\n","import React from 'react';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport ExclamationCircleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-circle-icon';\nimport InProgressIcon from '@patternfly/react-icons/dist/js/icons/in-progress-icon';\nimport PropTypes from 'prop-types';\n\nconst GreenbootStatus = ({ status }) => {\n  if (status === 'green') {\n    return (\n      <>\n        <CheckCircleIcon color=\"green\" className=\"pf-u-mr-sm\" />\n        <span className=\"pf-u-success-color-200\">Passed</span>\n      </>\n    );\n  }\n\n  if (status === 'red') {\n    return (\n      <>\n        <ExclamationCircleIcon color=\"red\" className=\"pf-u-mr-sm\" />\n        <span className=\"pf-u-danger-color-200\">Failed and reverted</span>\n      </>\n    );\n  }\n  return (\n    <>\n      <InProgressIcon className=\"pf-u-mr-sm\" />\n      <span>Waiting for update</span>\n    </>\n  );\n};\n\nGreenbootStatus.propTypes = {\n  status: PropTypes.string,\n};\n\nexport default GreenbootStatus;\n","import React, { Suspense, lazy } from 'react';\nimport { useStore, useSelector } from 'react-redux';\nimport { OutlinedQuestionCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\nimport TitleWithPopover from './TitleWithPopover';\nimport GreenbootStatus from './GreenbootStatus';\n\nconst GeneralInformation = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/GeneralInformation'\n  )\n);\n\nconst SystemCard = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/SystemCard'\n  )\n);\nconst OperatingSystemCard = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/OperatingSystemCard'\n  )\n);\n\nconst BiosCard = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/BiosCard'\n  )\n);\n\nconst CollectionCard = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/CollectionCard'\n  )\n);\n\nconst InfrastructureCard = lazy(() =>\n  import(\n    '@redhat-cloud-services/frontend-components-inventory-general-info/InfrastructureCard'\n  )\n);\nconst ImageInformationCard = lazy(() => import('./ImageInformationCard'));\n\nimport { statusHelper } from '@redhat-cloud-services/frontend-components-inventory-general-info/dataMapper';\n\nconst GeneralInformationTab = () => {\n  const writePermissions = useSelector(\n    ({ permissionsReducer }) => permissionsReducer?.writePermissions\n  );\n\n  const { greenbootStatus, rhcHealth } = useSelector(\n    ({ systemProfileStore }) => ({\n      greenbootStatus: systemProfileStore?.systemProfile?.greenboot_status,\n      rhcHealth: null,\n    })\n  );\n\n  return (\n    <Suspense fallback=\"\">\n      <GeneralInformation\n        store={useStore()}\n        writePermissions={writePermissions}\n        SystemCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            <SystemCard\n              {...props}\n              hasCPUs={false}\n              hasSockets={false}\n              hasCores={false}\n              hasCPUFlags={false}\n              hasRAM={false}\n              hasSAP={false}\n              extra={[\n                {\n                  title: (\n                    <TitleWithPopover\n                      title=\"GreenBoot Status\"\n                      content=\"This is a description about greenboot status\"\n                    />\n                  ),\n                  value: <GreenbootStatus status={greenbootStatus} />,\n                },\n              ]}\n            />\n          </Suspense>\n        )}\n        OperatingSystemCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            {' '}\n            <InfrastructureCard {...props} />\n          </Suspense>\n        )}\n        BiosCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            {' '}\n            <ImageInformationCard {...props} />\n          </Suspense>\n        )}\n        InfrastructureCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            <BiosCard {...props} />\n          </Suspense>\n        )}\n        ConfigurationCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            <OperatingSystemCard {...props} hasKernelModules={true} />\n          </Suspense>\n        )}\n        CollectionCardWrapper={(props) => (\n          <Suspense fallback=\"\">\n            <CollectionCard\n              {...props}\n              extra={[\n                {\n                  title: 'RHC Health (broker functioning)',\n                  value: statusHelper[rhcHealth?.toUpperCase()] || (\n                    <Tooltip content=\"Unknown service status\">\n                      <OutlinedQuestionCircleIcon className=\"ins-c-inventory__detail--unknown\" />\n                    </Tooltip>\n                  ),\n                },\n              ]}\n            />\n          </Suspense>\n        )}\n      />\n    </Suspense>\n  );\n};\n\nexport default GeneralInformationTab;\n","import GeneralInformationTab from '../components/DeviceDetail';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\n\nconst entityLoaded = (state) => {\n  return {\n    ...state,\n    loaded: true,\n    activeApps: [\n      {\n        title: 'General information',\n        name: 'general_information',\n        component: GeneralInformationTab,\n      },\n    ],\n  };\n};\n\nexport const deviceDetail = applyReducerHash({\n  LOAD_ENTITY_FULFILLED: entityLoaded,\n});\n","import React, { useContext, useState, Suspense } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { RegistryContext } from '../../store';\nimport { Button, Bullseye, Spinner } from '@patternfly/react-core';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst UpdateImageWizard = React.lazy(() =>\n  import('../ImageManager/UpdateImageWizard')\n);\n\nconst VulnerabilityTab = ({ imageId }) => {\n  const [isUpdateWizardOpen, setIsUpdateWizardOpen] = useState(false);\n  const { params } = useRouteMatch('/fleet-management/:inventoryId');\n  const { getRegistry } = useContext(RegistryContext);\n  const history = useHistory();\n\n  const openUpdateWizard = () => {\n    history.push({\n      pathname: history.location.pathname,\n      search: new URLSearchParams({\n        update_image: true,\n      }).toString(),\n    });\n    setIsUpdateWizardOpen(true);\n  };\n\n  return (\n    <>\n      <AsyncComponent\n        appName=\"vulnerability\"\n        module=\"./SystemDetail\"\n        getRegistry={getRegistry}\n        customItnlProvider\n        entity={{ id: params.inventoryId }}\n        canSelect={false}\n        canEditStatus={false}\n        canManageColumns={false}\n        linkAdvisoriesToCustomerPortal\n        defaultColumns={[\n          'synopsis',\n          'public_date',\n          'impact',\n          'cvss_score',\n          'advisory',\n        ]}\n        filters={[\n          'filter',\n          'security_rule',\n          'known_exploit',\n          'impact',\n          'cvss_score',\n          'advisory',\n        ]}\n        customAction={\n          <Button\n            onClick={openUpdateWizard}\n            variant=\"primary\"\n            isDisabled={!imageId}\n          >\n            Update image\n          </Button>\n        }\n      />\n      {isUpdateWizardOpen && (\n        <Suspense\n          fallback={\n            <Bullseye>\n              <Spinner />\n            </Bullseye>\n          }\n        >\n          <UpdateImageWizard\n            navigateBack={() => {\n              history.push({ pathname: history.location.pathname });\n              setIsUpdateWizardOpen(false);\n            }}\n            updateImageID={imageId}\n          />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nVulnerabilityTab.propTypes = {\n  imageId: PropTypes.string,\n};\n\nexport default VulnerabilityTab;\n","import React, { useState } from 'react';\nimport { Tabs, Tab, TabTitleText } from '@patternfly/react-core';\nimport { AppInfo } from '@redhat-cloud-services/frontend-components/Inventory';\nimport VulnerabilityTab from './Vulnerability';\nimport PropTypes from 'prop-types';\n\nconst DeviceDetailTabs = ({ imageId }) => {\n  const [activeTabKey, setActiveTabkey] = useState(0);\n  const handleTabClick = (_event, tabIndex) => setActiveTabkey(tabIndex);\n  return (\n    <div className=\"edge-c-device--detail add-100vh\">\n      <Tabs\n        className=\"pf-u-ml-md pf-u-mb-md\"\n        activeKey={activeTabKey}\n        onSelect={handleTabClick}\n      >\n        <Tab eventKey={0} title={<TabTitleText>Details</TabTitleText>}>\n          <AppInfo showTags fallback=\"\" />\n        </Tab>\n        <Tab eventKey={1} title={<TabTitleText>Vulnerability</TabTitleText>}>\n          <VulnerabilityTab imageId={imageId} />\n        </Tab>\n      </Tabs>\n    </div>\n  );\n};\n\nDeviceDetailTabs.propTypes = {\n  imageId: PropTypes.string,\n};\n\nexport default DeviceDetailTabs;\n","import React, { useState, useEffect, useContext, Suspense } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Label,\n  Bullseye,\n  Spinner,\n} from '@patternfly/react-core';\nimport {\n  Skeleton,\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\nimport { PageHeader } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport {\n  InventoryDetailHead,\n  DetailWrapper,\n} from '@redhat-cloud-services/frontend-components/Inventory';\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { deviceDetail } from '../../store/deviceDetail';\nimport { RegistryContext } from '../../store';\nimport systemProfileStore from '@redhat-cloud-services/frontend-components-inventory-general-info/redux';\nimport DeviceDetailTabs from './DeviceDetailTabs';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport ExclamationTriangleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\nimport InProgressIcon from '@patternfly/react-icons/dist/js/icons/in-progress-icon';\nimport { getDeviceHasUpdate } from '../../api/index';\n\nconst UpdateDeviceModal = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"CreateImageWizard\" */ '../Devices/UpdateDeviceModal'\n  )\n);\n\nconst DeviceDetail = () => {\n  const [imageId, setImageId] = useState(null);\n  const { getRegistry } = useContext(RegistryContext);\n  const { inventoryId, uuid } = useParams();\n  const entity = useSelector(({ entityDetails }) => entityDetails?.entity);\n  const groupName = useSelector(\n    ({ groupsDetailReducer }) => groupsDetailReducer?.name\n  );\n  const deviceId = useSelector(\n    ({ entityDetails }) => entityDetails?.entity?.id\n  );\n\n  const [updateModal, setUpdateModal] = useState({\n    isOpen: false,\n    deviceData: null,\n  });\n  const [isDeviceStatusLoading, setIsDeviceStatusLoading] = useState(true);\n  useEffect(() => {\n    insights.chrome.registerModule('inventory');\n    insights.chrome?.hideGlobalFilter?.(true);\n    insights.chrome.appAction('system-detail');\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!entity?.display_name) {\n        return;\n      }\n      const image_data = await getDeviceHasUpdate(deviceId);\n      setIsDeviceStatusLoading(false);\n      setUpdateModal((prevState) => ({\n        ...prevState,\n        deviceData: {\n          display_name: entity.display_name,\n          id: entity.id,\n          system_profile: {\n            image_data,\n            status:\n              image_data?.UpdateTransactions?.[\n                image_data.UpdateTransactions.length - 1\n              ]?.Status,\n          },\n        },\n      }));\n      setImageId(image_data?.ImageInfo?.Image?.ID);\n    })();\n  }, [entity]);\n\n  useEffect(() => {\n    insights?.chrome?.appObjectId?.(inventoryId);\n  }, [inventoryId]);\n\n  return (\n    <>\n      <DetailWrapper\n        hideInvLink\n        showTags\n        onLoad={({ mergeWithDetail }) => {\n          getRegistry().register({\n            systemProfileStore,\n            ...mergeWithDetail(deviceDetail),\n          });\n        }}\n      >\n        <PageHeader>\n          <Breadcrumb ouiaId=\"systems-list\">\n            <BreadcrumbItem>\n              <Link to={uuid ? `/groups` : '/fleet-management'}>\n                {uuid ? 'Groups' : 'Fleet management'}\n              </Link>\n            </BreadcrumbItem>\n            {uuid && (\n              <BreadcrumbItem>\n                {groupName ? (\n                  <Link to={`/groups/${uuid}`}>{groupName}</Link>\n                ) : (\n                  <Skeleton size={SkeletonSize.xs} />\n                )}\n              </BreadcrumbItem>\n            )}\n            <BreadcrumbItem isActive>\n              <div className=\"ins-c-inventory__detail--breadcrumb-name\">\n                {entity?.display_name || <Skeleton size={SkeletonSize.xs} />}\n              </div>\n            </BreadcrumbItem>\n          </Breadcrumb>\n          <InventoryDetailHead\n            fallback=\"\"\n            actions={[\n              {\n                title: 'Update',\n                isDisabled:\n                  updateModal.deviceData?.system_profile?.image_data\n                    ?.UpdateTransactions?.[\n                    updateModal.deviceData?.system_profile?.image_data\n                      ?.UpdateTransactions.length - 1\n                  ]?.Status === 'BUILDING' ||\n                  updateModal.deviceData?.system_profile?.image_data\n                    ?.UpdateTransactions?.[\n                    updateModal.deviceData?.system_profile?.image_data\n                      ?.UpdateTransactions.length - 1\n                  ]?.Status === 'CREATED' ||\n                  !updateModal.deviceData?.system_profile?.image_data?.ImageInfo\n                    ?.UpdatesAvailable?.length > 0,\n                onClick: () => {\n                  setUpdateModal((prevState) => ({\n                    ...prevState,\n                    isOpen: true,\n                  }));\n                },\n              },\n            ]}\n            hideBack\n            hideInvDrawer\n          />\n\n          {isDeviceStatusLoading ? (\n            <Skeleton size={SkeletonSize.xs} />\n          ) : updateModal?.deviceData?.system_profile?.status === 'BUILDING' ||\n            updateModal?.deviceData?.system_profile?.status === 'CREATED' ? (\n            <Label\n              className=\"pf-u-mt-sm\"\n              color=\"blue\"\n              icon={<InProgressIcon />}\n            >\n              Updating\n            </Label>\n          ) : updateModal?.deviceData?.system_profile?.image_data?.ImageInfo\n              ?.UpdatesAvailable?.length > 0 ? (\n            <Label\n              className=\"pf-u-mt-sm\"\n              color=\"orange\"\n              icon={<ExclamationTriangleIcon />}\n            >\n              Update Available\n            </Label>\n          ) : (\n            <Label\n              className=\"pf-u-mt-sm\"\n              color=\"green\"\n              icon={<CheckCircleIcon color=\"green\" />}\n            >\n              Running\n            </Label>\n          )}\n        </PageHeader>\n        <Main className=\"edge-c-device--detail\">\n          <Grid gutter=\"md\">\n            <GridItem span={12}>\n              <DeviceDetailTabs imageId={imageId} />\n            </GridItem>\n          </Grid>\n        </Main>\n      </DetailWrapper>\n      {updateModal.isOpen && (\n        <Suspense\n          fallback={\n            <Bullseye>\n              <Spinner />\n            </Bullseye>\n          }\n        >\n          <UpdateDeviceModal\n            navigateBack={() => {\n              history.push({ pathname: history.location.pathname });\n              setUpdateModal((prevState) => {\n                return {\n                  ...prevState,\n                  isOpen: false,\n                };\n              });\n            }}\n            setUpdateModal={setUpdateModal}\n            updateModal={updateModal}\n          />\n        </Suspense>\n      )}\n    </>\n  );\n};\n\nexport default DeviceDetail;\n","import React from 'react';\nimport {\n  Card,\n  CardTitle,\n  CardBody,\n  Button,\n  Bullseye,\n  Spinner,\n  Grid,\n  GridItem,\n  Stack,\n  StackItem,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport { useSelector, shallowEqual } from 'react-redux';\n\nconst DeviceSummaryTileBase = ({\n  orphaned,\n  active,\n  noReports,\n  neverReported,\n}) => (\n  <Card className=\"tiles-card\">\n    <CardTitle>Device summary</CardTitle>\n    <CardBody>\n      <Grid>\n        <GridItem span={6}>\n          <Stack hasGutter>\n            <StackItem>\n              <Button isDisabled isInline className=\"pf-u-pr-md\" variant=\"link\">\n                {active}\n              </Button>{' '}\n              Active\n            </StackItem>\n            <StackItem>\n              <Button isDisabled isInline className=\"pf-u-pr-md\" variant=\"link\">\n                {orphaned}\n              </Button>{' '}\n              Orphaned\n            </StackItem>\n          </Stack>\n        </GridItem>\n        <GridItem span={6}>\n          <Stack hasGutter>\n            <StackItem>\n              <Button isDisabled isInline className=\"pf-u-pr-md\" variant=\"link\">\n                {noReports}\n              </Button>\n              Stale\n            </StackItem>\n            <StackItem>\n              <Button isDisabled isInline className=\"pf-u-pr-md\" variant=\"link\">\n                {neverReported}\n              </Button>\n              Registered but never reported\n            </StackItem>\n          </Stack>\n        </GridItem>\n      </Grid>\n    </CardBody>\n  </Card>\n);\n\nDeviceSummaryTileBase.propTypes = {\n  orphaned: PropTypes.number,\n  active: PropTypes.number,\n  noReports: PropTypes.number,\n  neverReported: PropTypes.number,\n};\n\nconst DeviceSummaryTile = () => {\n  const { isLoading, hasError, data } = useSelector(\n    ({ deviceSummaryReducer }) => ({\n      isLoading:\n        deviceSummaryReducer?.isLoading !== undefined\n          ? deviceSummaryReducer?.isLoading\n          : true,\n      hasError: deviceSummaryReducer?.hasError || false,\n      data: deviceSummaryReducer?.data || null,\n    }),\n    shallowEqual\n  );\n\n  if (isLoading) {\n    return (\n      <Card className=\"tiles-card\">\n        <CardTitle>Device summary information</CardTitle>\n        <CardBody>\n          <Bullseye>\n            <Spinner />\n          </Bullseye>\n        </CardBody>\n      </Card>\n    );\n  }\n  if (hasError) {\n    return (\n      <Card className=\"tiles-card\">\n        <CardTitle>Device summary information</CardTitle>\n        <CardBody>{data}</CardBody>\n      </Card>\n    );\n  }\n  return (\n    <DeviceSummaryTileBase\n      orphaned={data['orphaned']}\n      active={data['active']}\n      noReports={data['noReports']}\n      neverReported={data['neverReported']}\n    />\n  );\n};\n\nexport default DeviceSummaryTile;\n","import React, { useEffect, useContext } from 'react';\nimport { Flex, FlexItem } from '@patternfly/react-core';\nimport DeviceSummaryTile from './DeviceSummaryTile';\nimport { imagesReducer, deviceSummaryReducer } from '../store/reducers';\nimport { useDispatch } from 'react-redux';\nimport { loadImages, loadDeviceSummary } from '../store/actions';\nimport { RegistryContext } from '../store';\nimport PropTypes from 'prop-types';\n\nexport const Tiles = () => {\n  const { getRegistry } = useContext(RegistryContext);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const registered = getRegistry().register({\n      imagesReducer,\n      deviceSummaryReducer,\n    });\n    loadImages(dispatch);\n    loadDeviceSummary(dispatch);\n    return () => registered();\n  }, [dispatch]);\n  return (\n    <Flex className=\"tiles\">\n      <FlexItem>\n        <DeviceSummaryTile />\n      </FlexItem>\n    </Flex>\n  );\n};\n\nTiles.propTypes = {\n  onNewImageClick: PropTypes.func,\n};\n","import React from 'react';\nimport { Split, SplitItem } from '@patternfly/react-core';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport InProgressIcon from '@patternfly/react-icons/dist/js/icons/in-progress-icon';\nimport QuestionCircleIcon from '@patternfly/react-icons/dist/js/icons/question-circle-icon';\nimport ExclamationTriangleIcon from '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\nimport warningColor from '@patternfly/react-tokens/dist/esm/global_warning_color_100';\nimport infoColor from '@patternfly/react-tokens/dist/esm/global_active_color_300';\nimport PropTypes from 'prop-types';\n\nconst DeviceStatus = ({ imageData, rpm_ostree_deployments }) => {\n  const { UpdateTransactions, ImageInfo } = imageData || {};\n  if (rpm_ostree_deployments?.length === undefined) {\n    return (\n      <Split>\n        <SplitItem className=\"pf-u-mr-sm\">\n          <QuestionCircleIcon color=\"grey\" />\n        </SplitItem>\n        <SplitItem>Unspecified</SplitItem>\n      </Split>\n    );\n  }\n  const current_deployment = rpm_ostree_deployments[0];\n  if (!current_deployment.booted) {\n    return (\n      <Split>\n        <SplitItem className=\"pf-u-mr-sm\">\n          <InProgressIcon color=\"blue\" />\n        </SplitItem>\n        <SplitItem>Booting</SplitItem>\n      </Split>\n    );\n  }\n\n  if (\n    UpdateTransactions?.[UpdateTransactions.length - 1]?.Status ===\n      'BUILDING' ||\n    UpdateTransactions?.[UpdateTransactions.length - 1]?.Status === 'CREATED'\n  ) {\n    return (\n      <Split>\n        <SplitItem className=\"pf-u-mr-sm\">\n          <InProgressIcon color={infoColor.value} />\n        </SplitItem>\n        <SplitItem>Updating</SplitItem>\n      </Split>\n    );\n  }\n\n  if (ImageInfo?.UpdatesAvailable?.length > 0) {\n    return (\n      <Split>\n        <SplitItem className=\"pf-u-mr-sm\">\n          <ExclamationTriangleIcon color={warningColor.value} />\n        </SplitItem>\n        <SplitItem className=\"pf-u-warning-color-200\">\n          Update Available\n        </SplitItem>\n      </Split>\n    );\n  }\n  return (\n    <Split>\n      <SplitItem className=\"pf-u-mr-sm\">\n        <CheckCircleIcon color=\"green\" />\n      </SplitItem>\n      <SplitItem>Running</SplitItem>\n    </Split>\n  );\n};\n\nDeviceStatus.propTypes = {\n  id: PropTypes.string,\n  updateTransactions: PropTypes.array,\n  rpm_ostree_deployments: PropTypes.array,\n  imageData: PropTypes.object,\n};\n\nexport default DeviceStatus;\n","import React, {\n  Fragment,\n  useRef,\n  useEffect,\n  useContext,\n  useState,\n  Suspense,\n} from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/Inventory';\nimport { cleanEntities } from '../../store/actions';\nimport { RegistryContext } from '../../store';\nimport {\n  isEmptyFilters,\n  constructActiveFilters,\n  //onDeleteFilter,\n} from '../../constants';\nimport { Tiles } from '../../components/Tiles';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport DeviceStatus from './DeviceStatus';\nimport { getDeviceHasUpdate } from '../../api';\n\nconst UpdateDeviceModal = React.lazy(() =>\n  import(/* webpackChunkName: \"CreateImageWizard\" */ './UpdateDeviceModal')\n);\n\nconst defaultFilters = {\n  deviceStatus: {\n    label: 'Device status',\n    value: [],\n    titles: [],\n  },\n};\n\nconst deviceStatusMapper = [\n  {\n    value: 'approval',\n    label: 'Required approval',\n  },\n  {\n    value: 'ophaned',\n    label: 'Orphaned',\n  },\n  {\n    value: 'delivering',\n    label: 'On the way',\n  },\n];\n\nconst Devices = () => {\n  const [activeFilters] = useState(defaultFilters);\n  const [updateModal, setUpdateModal] = useState({\n    isOpen: false,\n    deviceData: null,\n  });\n  const { getRegistry } = useContext(RegistryContext);\n  const inventory = useRef(null);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const onRefresh = (options, callback) => {\n    if (!callback && inventory && inventory.current) {\n      inventory.current.onRefreshData(options);\n    } else if (callback) {\n      callback(options);\n    }\n  };\n\n  useEffect(() => {\n    insights.chrome.registerModule('inventory');\n    const searchParams = new URLSearchParams(history.location.search);\n    if (searchParams.get('update_device') === 'true') {\n      setUpdateModal((prevState) => {\n        return {\n          ...prevState,\n          isOpen: true,\n        };\n      });\n    }\n    return () => dispatch(cleanEntities());\n  }, []);\n\n  return (\n    <Fragment>\n      <PageHeader className=\"pf-m-light\">\n        <PageHeaderTitle title=\"Fleet management\" />\n      </PageHeader>\n      <Main className=\"edge-devices\">\n        <Tiles />\n        <InventoryTable\n          ref={inventory}\n          onRefresh={onRefresh}\n          tableProps={{\n            canSelectAll: false,\n            variant: 'compact',\n            actionResolver: (rowData) => {\n              return rowData?.system_profile?.image_data\n                ? [\n                    {\n                      title: 'Update',\n                      onClick: (_event, _index, rowData) => {\n                        setUpdateModal((prevState) => {\n                          return {\n                            ...prevState,\n                            isOpen: true,\n                            deviceData: rowData,\n                          };\n                        });\n                      },\n                    },\n                  ]\n                : rowData?.system_profile\n                ? [\n                    {\n                      title: 'No Action',\n                    },\n                  ]\n                : null;\n            },\n            areActionsDisabled: (rowData) => {\n              const updateTransactions =\n                rowData?.system_profile?.image_data?.UpdateTransactions || [];\n\n              return (\n                updateTransactions[updateTransactions.length - 1]?.Status ===\n                  'BUILDING' ||\n                updateTransactions[updateTransactions.length - 1]?.Status ===\n                  'CREATED' ||\n                !rowData?.system_profile?.image_data?.ImageInfo\n                  ?.UpdatesAvailable?.length > 0\n              );\n            },\n          }}\n          columns={(defaultColumns) => {\n            const newColumns = defaultColumns.filter((column) =>\n              ['display_name', 'updated'].includes(column.key)\n            );\n            newColumns.filter((col) => col.key === 'updated')[0].props = {\n              width: 20,\n            };\n\n            return [\n              ...newColumns,\n              {\n                key: 'system_profile',\n                title: 'Device status',\n                // eslint-disable-next-line react/display-name\n                renderFunc: (sysProf) => (\n                  <DeviceStatus\n                    rpm_ostree_deployments={sysProf.rpm_ostree_deployments}\n                    imageData={sysProf.image_data}\n                  />\n                ),\n                props: { width: 20, isStatic: true },\n              },\n            ];\n          }}\n          getEntities={async (\n            _items,\n            config,\n            _showTags,\n            defaultGetEntities\n          ) => {\n            const defaultData = await defaultGetEntities(undefined, {\n              ...config,\n              filter: {\n                ...config.filter,\n                system_profile: {\n                  ...config.filter?.system_profile,\n                  host_type: 'edge',\n                },\n              },\n              fields: {\n                ...config?.fields,\n                system_profile: [\n                  ...(config?.fields?.system_profile || []),\n                  'host_type',\n                  'operating_system',\n                  'greenboot_status',\n                  'greenboot_fallback_detected',\n                  'rpm_ostree_deployments',\n                ],\n              },\n            });\n\n            const promises = defaultData.results.map(async (device) => {\n              const getImageInfo = await getDeviceHasUpdate(device.id);\n              const imageInfo =\n                !getImageInfo || getImageInfo === 404\n                  ? { data: null }\n                  : getImageInfo;\n              return {\n                ...device,\n                system_profile: {\n                  ...device.system_profile,\n                  image_data: Object.prototype.hasOwnProperty.call(\n                    imageInfo,\n                    'data'\n                  )\n                    ? null\n                    : imageInfo,\n                },\n              };\n            });\n            const rows = await Promise.all(promises);\n            return { ...defaultData, results: rows };\n          }}\n          hideFilters={{ registeredWith: true }}\n          // NOTE: add back in when device status is sent with inventory data\n          //filterConfig={{\n          //  items: [\n          //    {\n          //      label: activeFilters?.deviceStatus?.label,\n          //      type: 'checkbox',\n          //      filterValues: {\n          //        onChange: (event, value) => {\n          //          setActiveFilters(() => ({\n          //            ...(activeFilters || {}),\n          //            deviceStatus: {\n          //              ...(activeFilters?.deviceStatus || {}),\n          //              value,\n          //            },\n          //          }));\n          //          inventory.current.onRefreshData();\n          //        },\n          //        items: deviceStatusMapper,\n          //        value: activeFilters?.deviceStatus?.value || [],\n          //      },\n          //    },\n          //  ],\n          //}}\n          hasCheckbox={false}\n          activeFiltersConfig={{\n            ...(isEmptyFilters(activeFilters) && {\n              filters: constructActiveFilters(\n                activeFilters,\n                (value) =>\n                  deviceStatusMapper.find((item) => item.value === value)?.label\n              ),\n            }),\n            // NOTE: Adding custom onDelete function overrides default inventory deletion behavior\n            //onDelete: (event, itemsToRemove, isAll) => {\n            //  if (isAll) {\n            //    setActiveFilters(defaultFilters);\n            //  } else {\n            //    setActiveFilters(() =>\n            //      onDeleteFilter(activeFilters, itemsToRemove)\n            //    );\n            //  }\n            //  inventory.current.onRefreshData();\n            //},\n          }}\n          onRowClick={(_e, id) => history.push(`/fleet-management/${id}`)}\n          onLoad={({ mergeWithEntities }) => {\n            getRegistry()?.register?.({\n              ...mergeWithEntities(),\n            });\n          }}\n        />\n      </Main>\n      {updateModal.isOpen && (\n        <Suspense\n          fallback={\n            <Bullseye>\n              <Spinner />\n            </Bullseye>\n          }\n        >\n          <UpdateDeviceModal\n            navigateBack={() => {\n              history.push({ pathname: history.location.pathname });\n              setUpdateModal((prevState) => {\n                return {\n                  ...prevState,\n                  isOpen: false,\n                };\n              });\n            }}\n            setUpdateModal={setUpdateModal}\n            updateModal={updateModal}\n            refreshTable={inventory.current.onRefreshData}\n          />\n        </Suspense>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Devices;\n","import React from 'react';\nimport GeneralTable from '../../components/general-table/GeneralTable';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { routes as paths } from '../../../package.json';\nimport { Link } from 'react-router-dom';\nimport { Text } from '@patternfly/react-core';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport StatusLabel from '../ImageManagerDetail/StatusLabel';\nimport { loadEdgeImageSets } from '../../store/actions';\nimport { cellWidth } from '@patternfly/react-table';\n\nconst defaultFilters = [\n  {\n    label: 'Name',\n    type: 'text',\n  },\n  {\n    label: 'Status',\n    type: 'checkbox',\n    options: [\n      { option: 'Building', value: 'BUILDING' },\n      { option: 'Created', value: 'CREATED' },\n      { option: 'Error', value: 'ERROR' },\n      { option: 'Ready', value: 'SUCCESS' },\n    ],\n  },\n];\n\nconst columnNames = [\n  {\n    title: 'Name',\n    type: 'name',\n    sort: true,\n    columnTransforms: [cellWidth(35)],\n  },\n  {\n    title: 'Current Version',\n    type: 'version',\n    sort: false,\n    columnTransforms: [cellWidth(15)],\n  },\n  {\n    title: 'Last Updated',\n    type: 'updated_at',\n    sort: true,\n    columnTransforms: [cellWidth(25)],\n  },\n  {\n    title: 'Status',\n    type: 'status',\n    sort: false,\n    columnTransforms: [cellWidth(30)],\n  },\n];\n\nconst createRows = (data) => {\n  return data.map(({ image_set, image_build_iso_url }) => ({\n    id: image_set?.ID,\n    cells: [\n      {\n        title: (\n          <Link to={`${paths['manage-images']}/${image_set?.ID}`}>\n            {image_set?.Name}\n          </Link>\n        ),\n      },\n      image_set?.Version,\n      {\n        title: <DateFormat date={image_set?.UpdatedAt} />,\n      },\n      {\n        title: (\n          <StatusLabel\n            status={image_set?.Images[image_set?.Images?.length - 1].Status}\n          />\n        ),\n      },\n    ],\n    imageStatus: image_set?.Images[image_set?.Images?.length - 1].Status,\n    isoURL: image_build_iso_url || null,\n    latestImageID: image_set?.Images[image_set?.Images?.length - 1].ID,\n  }));\n};\n\nconst ImageTable = ({ openCreateWizard, openUpdateWizard }) => {\n  const { count, data, isLoading, hasError } = useSelector(\n    ({ edgeImageSetsReducer }) => ({\n      count: edgeImageSetsReducer?.data?.Count || 0,\n      data: edgeImageSetsReducer?.data?.Data || null,\n      isLoading:\n        edgeImageSetsReducer?.isLoading === undefined\n          ? true\n          : edgeImageSetsReducer.isLoading,\n      hasError: edgeImageSetsReducer?.hasError,\n    }),\n    shallowEqual\n  );\n\n  const actionResolver = (rowData) => {\n    const actionsArray = [];\n    if (rowData?.isoURL) {\n      actionsArray.push({\n        title: (\n          <Text\n            className=\"force-text-black remove-underline\"\n            component=\"a\"\n            href={rowData.isoURL}\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            Download\n          </Text>\n        ),\n      });\n    }\n\n    if (\n      rowData?.imageStatus === 'SUCCESS' ||\n      rowData?.imageStatus === 'ERROR'\n    ) {\n      actionsArray.push({\n        title: 'Update Image',\n        onClick: (_event, _rowId, rowData) => {\n          openUpdateWizard(rowData.latestImageID);\n        },\n      });\n    }\n\n    if (rowData?.imageStatus === 'BUILDING' && rowData?.id) {\n      actionsArray.push({\n        title: '',\n      });\n    }\n\n    return actionsArray;\n  };\n\n  const areActionsDisabled = (rowData) => rowData?.imageStatus === 'BUILDING';\n\n  return (\n    <GeneralTable\n      apiFilterSort={true}\n      filters={defaultFilters}\n      loadTableData={loadEdgeImageSets}\n      tableData={{ count, data, isLoading, hasError }}\n      columnNames={columnNames}\n      rows={data ? createRows(data) : []}\n      emptyStateMessage=\"No images found\"\n      emptyStateActionMessage=\"Create new image\"\n      emptyStateAction={openCreateWizard}\n      actionResolver={actionResolver}\n      areActionsDisabled={areActionsDisabled}\n      defaultSort={{ index: 2, direction: 'desc' }}\n      toolbarButtons={[\n        {\n          title: 'Create new image',\n          click: () => openCreateWizard(),\n        },\n      ]}\n    />\n  );\n};\n\nImageTable.propTypes = {\n  clearFilters: PropTypes.func.isRequired,\n  openCreateWizard: PropTypes.func.isRequired,\n  openUpdateWizard: PropTypes.func.isRequired,\n  filters: PropTypes.array.isRequired,\n  pagination: PropTypes.shape({\n    page: PropTypes.number,\n    perPage: PropTypes.number,\n  }).isRequired,\n};\n\nexport default ImageTable;\n","import React, {\n  Fragment,\n  useState,\n  useEffect,\n  useContext,\n  Suspense,\n} from 'react';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { Spinner, Bullseye } from '@patternfly/react-core';\nimport { useHistory } from 'react-router-dom';\nimport { RegistryContext } from '../../store';\nimport { edgeImageSetsReducer } from '../../store/reducers';\nimport ImageSetsTable from './ImageSetsTable';\n\nconst CreateImageWizard = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"CreateImageWizard\" */ '../ImageManager/CreateImageWizard'\n  )\n);\n\nconst UpdateImageWizard = React.lazy(() =>\n  import(\n    /* webpackChunkName: \"UpdateImageWizard\" */ '../ImageManager/UpdateImageWizard'\n  )\n);\n\nconst Images = () => {\n  const { getRegistry } = useContext(RegistryContext);\n  const [isCreateWizardOpen, setIsCreateWizardOpen] = useState(false);\n  const [UpdateWizard, setUpdateWizard] = useState({\n    isOpen: false,\n    imageId: null,\n  });\n  const history = useHistory();\n\n  const openCreateWizard = () => {\n    history.push({\n      pathname: history.location.pathname,\n      search: new URLSearchParams({\n        create_image: true,\n      }).toString(),\n    });\n    setIsCreateWizardOpen(true);\n  };\n\n  const openUpdateWizard = (id) => {\n    history.push({\n      pathname: history.location.pathname,\n      search: new URLSearchParams({\n        update_image: true,\n      }).toString(),\n    });\n    setUpdateWizard({\n      isOpen: true,\n      imageId: id,\n    });\n  };\n  useEffect(() => {\n    const registered = getRegistry().register({ edgeImageSetsReducer });\n    return () => registered();\n  }, []);\n\n  return (\n    <Fragment>\n      <PageHeader className=\"pf-m-light\">\n        <PageHeaderTitle title=\"Images\" />\n      </PageHeader>\n      <Main className=\"edge-devices\">\n        <ImageSetsTable\n          openCreateWizard={openCreateWizard}\n          openUpdateWizard={openUpdateWizard}\n        />\n      </Main>\n      {isCreateWizardOpen && (\n        <Suspense\n          fallback={\n            <Bullseye>\n              <Spinner />\n            </Bullseye>\n          }\n        >\n          <CreateImageWizard\n            navigateBack={() => {\n              history.push({ pathname: history.location.pathname });\n              setIsCreateWizardOpen(false);\n            }}\n          />\n        </Suspense>\n      )}\n      {UpdateWizard.isOpen && (\n        <Suspense\n          fallback={\n            <Bullseye>\n              <Spinner />\n            </Bullseye>\n          }\n        >\n          <UpdateImageWizard\n            navigateBack={() => {\n              history.push({ pathname: history.location.pathname });\n              setUpdateWizard((prevState) => {\n                return {\n                  ...prevState,\n                  isOpen: false,\n                };\n              });\n            }}\n            updateImageID={UpdateWizard.imageId}\n          />\n        </Suspense>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Images;\n"],"names":["TitleWithPopover","title","content","Popover","headerContent","bodyContent","Button","variant","className","propTypes","PropTypes","GreenbootStatus","status","color","GeneralInformation","lazy","SystemCard","OperatingSystemCard","BiosCard","CollectionCard","InfrastructureCard","ImageInformationCard","writePermissions","useSelector","permissionsReducer","systemProfileStore","greenbootStatus","systemProfile","greenboot_status","rhcHealth","Suspense","fallback","store","useStore","SystemCardWrapper","props","hasCPUs","hasSockets","hasCores","hasCPUFlags","hasRAM","hasSAP","extra","value","OperatingSystemCardWrapper","BiosCardWrapper","InfrastructureCardWrapper","ConfigurationCardWrapper","hasKernelModules","CollectionCardWrapper","statusHelper","toUpperCase","Tooltip","deviceDetail","applyReducerHash","LOAD_ENTITY_FULFILLED","state","loaded","activeApps","name","component","GeneralInformationTab","UpdateImageWizard","React","VulnerabilityTab","imageId","useState","isUpdateWizardOpen","setIsUpdateWizardOpen","params","useRouteMatch","getRegistry","useContext","RegistryContext","history","useHistory","AsyncComponent","appName","module","customItnlProvider","entity","id","inventoryId","canSelect","canEditStatus","canManageColumns","linkAdvisoriesToCustomerPortal","defaultColumns","filters","customAction","onClick","push","pathname","location","search","URLSearchParams","update_image","toString","isDisabled","Bullseye","Spinner","navigateBack","updateImageID","DeviceDetailTabs","activeTabKey","setActiveTabkey","Tabs","activeKey","onSelect","_event","tabIndex","Tab","eventKey","TabTitleText","T","AppInfo","showTags","Vulnerability","UpdateDeviceModal","setImageId","useParams","uuid","entityDetails","groupName","groupsDetailReducer","deviceId","isOpen","deviceData","updateModal","setUpdateModal","isDeviceStatusLoading","setIsDeviceStatusLoading","useEffect","insights","chrome","registerModule","hideGlobalFilter","appAction","display_name","getDeviceHasUpdate","image_data","prevState","system_profile","UpdateTransactions","length","Status","ImageInfo","Image","ID","appObjectId","DetailWrapper","hideInvLink","onLoad","mergeWithDetail","register","PageHeader","Breadcrumb","ouiaId","BreadcrumbItem","Link","to","Skeleton","size","SkeletonSize","isActive","InventoryDetailHead","actions","UpdatesAvailable","hideBack","hideInvDrawer","Label","icon","Main","Grid","gutter","GridItem","span","DeviceSummaryTileBase","orphaned","active","noReports","neverReported","Card","CardTitle","CardBody","Stack","hasGutter","StackItem","isInline","deviceSummaryReducer","isLoading","undefined","hasError","data","shallowEqual","Tiles","dispatch","useDispatch","registered","imagesReducer","loadImages","loadDeviceSummary","Flex","FlexItem","onNewImageClick","DeviceStatus","imageData","rpm_ostree_deployments","Split","SplitItem","booted","infoColor","warningColor","updateTransactions","defaultFilters","deviceStatus","label","titles","deviceStatusMapper","activeFilters","inventory","useRef","get","cleanEntities","Fragment","PageHeaderTitle","InventoryTable","ref","onRefresh","options","callback","current","onRefreshData","tableProps","canSelectAll","actionResolver","rowData","_index","areActionsDisabled","columns","newColumns","filter","column","includes","key","col","width","renderFunc","sysProf","isStatic","getEntities","_items","config","_showTags","defaultGetEntities","host_type","fields","defaultData","promises","results","map","device","getImageInfo","imageInfo","Object","prototype","hasOwnProperty","call","Promise","all","rows","hideFilters","registeredWith","hasCheckbox","activeFiltersConfig","isEmptyFilters","constructActiveFilters","find","item","onRowClick","_e","mergeWithEntities","refreshTable","type","option","columnNames","sort","columnTransforms","cellWidth","createRows","image_set","image_build_iso_url","cells","paths","Name","Version","DateFormat","date","UpdatedAt","StatusLabel","Images","imageStatus","isoURL","latestImageID","ImageTable","openCreateWizard","openUpdateWizard","edgeImageSetsReducer","count","Count","Data","GeneralTable","apiFilterSort","loadTableData","loadEdgeImageSets","tableData","emptyStateMessage","emptyStateActionMessage","emptyStateAction","actionsArray","Text","href","rel","target","_rowId","defaultSort","index","direction","toolbarButtons","click","clearFilters","pagination","page","perPage","isRequired","CreateImageWizard","isCreateWizardOpen","setIsCreateWizardOpen","UpdateWizard","setUpdateWizard","ImageSetsTable","create_image"],"sourceRoot":""}