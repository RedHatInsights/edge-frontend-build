(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7633],{47906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(64124),c=n(96354),s=n(60722),u=n(87029),d=n(69957),p=n(37655),m=n(68340),f=n(32349),g=n(77760),v=function(e){return a().createElement(m.x,null,a().createElement("strong",null,e," "),"and all its data will be permanently deleted. Associated systems will be removed from the group but will not be deleted.")},b=function(e){return{fields:[{component:c.Z.PLAIN_TEXT,name:"warning-message",label:v(e)},{component:c.Z.CHECKBOX,name:"confirmation",label:"I understand that this action cannot be undone.",validate:[{type:l.Z.REQUIRED}]}]}},h=function(){return a().createElement(d.ZP,{color:p.Z.value})},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,o=e.modalState,i=o.id,l=o.name,c=(0,g.useDispatch)();return a().createElement(s.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Delete group",titleIconVariant:h,variant:"danger",submitLabel:"Delete",schema:b(l),onSubmit:function(){var e={onSuccess:{title:"Success",description:"".concat(l," has been removed successfully")},onError:{title:"Error",description:"Failed to delete group"}};(0,f.Z)(c,(function(){return(0,u.yq)(i)}),e)},reloadData:r})};y.propTypes={id:i().number,name:i().string,modalState:i().object,isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func};const O=y},23537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var r=n(15861),a=n(29439),o=n(64687),i=n.n(o),l=n(92950),c=n.n(l),s=n(28191),u=n(89376),d=n(39173),p=n(55140),m=n(4942),f=n(45697),g=n.n(f),v=n(73448),b=n(68519),h=n(5513),y=n(9192),O=n(52643),E=n(37619),S=n(75824),D=n(48903);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=c().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(9986),n.e(6681)]).then(n.bind(n,68940))})),Z=[{label:"Name",type:"text"}],j=[{title:"Name",type:"name",sort:!0},{title:"Systems",type:"name",sort:!1},{title:"Image",type:"name",sort:!1}],k=function(e){var t=e.data,n=e.count,o=e.isLoading,s=e.hasError,u=e.handleCreateModal,d=e.handleRenameModal,p=e.handleDeleteModal,m=e.hasModalSubmitted,f=e.setHasModalSubmitted,g=e.fetchGroups,w=(0,D.gV)("edge-management.hide-create-group"),k=(0,b.k6)(),_=(0,b.TH)().pathname,P=(0,l.useState)({isOpen:!1,deviceData:null,imageData:null}),x=(0,a.Z)(P,2),C=x[0],T=x[1],N=null==t?void 0:t.map((function(e){var t,n,r,a=e.DeviceGroup,o=a.ID,i=a.Name,l=a.Devices,s=e.DevicesImageInfo;s||(s=[]);var u=null!=l?l:[],d=c().createElement("div",null,c().createElement(S.u,{content:c().createElement("div",null,s.map((function(e,t){return c().createElement("p",{key:t},e.Name)})))},c().createElement("span",null,"Multiple images")));return{rowInfo:{id:o,title:i,image:0===s.length?"-":s.length>1?"Multiple images":null===(t=s[0])||void 0===t?void 0:t.Name,devicesImageInfo:e.DevicesImageInfo,devices:l,hasValidUpdate:null==e||null===(n=e.DeviceGroup)||void 0===n?void 0:n.ValidUpdate},cells:[{title:c().createElement(h.rU,{to:"".concat(y._.fleetManagement,"/").concat(o)},i)},{title:u.length},{title:0===s.length?"-":s.length>1?d:null===(r=s[0])||void 0===r?void 0:r.Name}]}}));return c().createElement(c().Fragment,null,c().createElement(v.Z,{apiFilterSort:!0,isUseApi:!0,loadTableData:g,filters:Z,tableData:{count:n,data:t,isLoading:o,hasError:s},columnNames:j,rows:N,actionResolver:function(e){var t;if(null==e||!e.rowInfo)return[];var n=e.rowInfo,r=n.id,a=n.title,o=n.devices,i=n.devicesImageInfo,l=null==i?void 0:i.some((function(e){return e.UpdateAvailable}));return r&&[{title:"Rename",onClick:function(){return d(r,a)}},{title:"Delete",onClick:function(){return p(r,a)}},{title:"Update",onClick:function(){return T((function(e){return M(M({},e),{},{deviceData:o.map((function(e){return{id:e.UUID,display_name:e.Name}})),imageId:o.find((function(e){return null==e?void 0:e.ImageID})).ImageID,isOpen:!0})}))},isDisabled:!(o.length>0&&null!=e&&null!==(t=e.rowInfo)&&void 0!==t&&t.hasValidUpdate&&l)}]},areActionsDisabled:function(){return!1},defaultSort:{index:0,direction:"asc"},emptyFilterState:{title:"No matching groups found",body:"To continue, edit your filter settings and try again"},toolbarButtons:w?[]:[{title:"Create group",click:u}],hasModalSubmitted:m,setHasModalSubmitted:f}),C.isOpen&&c().createElement(l.Suspense,{fallback:c().createElement(O.b,null,c().createElement(E.$,null))},c().createElement(I,{navigateBack:function(){k.push({pathname:_}),T((function(e){return M(M({},e),{},{isOpen:!1})}))},setUpdateModal:T,updateModal:C,refreshTable:(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:f(!0);case 3:case"end":return e.stop()}}),e)})))})))};k.propTypes={data:g().array,count:g().number,closeModal:g().func,isLoading:g().bool,hasError:g().bool,handleRenameModal:g().func,handleDeleteModal:g().func,handleCreateModal:g().func,hasModalSubmitted:g().bool,setHasModalSubmitted:g().func,fetchGroups:g().func};const _=k;var P=n(3035),x=n(87029),C=n(41825),T=n(61381),N=n(47906),R=n(96094);const U=function(){var e=(0,D.gV)("edge-management.hide-create-group"),t=(0,b.TH)().search,n=(0,R.Z)({api:x.jA,tableReload:!0}),o=(0,a.Z)(n,2),m=o[0],f=o[1],g=(0,p.Z)(),v=m.data,h=m.isLoading,y=m.hasError,O=(0,l.useState)({id:null,name:""}),E=(0,a.Z)(O,2),S=E[0],w=E[1],M=(0,l.useState)(!1),I=(0,a.Z)(M,2),Z=I[0],j=I[1],k=(0,l.useState)(!1),U=(0,a.Z)(k,2),G=U[0],L=U[1],A=(0,l.useState)(!1),H=(0,a.Z)(A,2),V=H[0],F=H[1],q=(0,l.useState)(!1),W=(0,a.Z)(q,2),X=W[0],B=W[1],Q=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:B(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var e;null==g||null===(e=g.updateDocumentTitle)||void 0===e||e.call(g,"Groups - Inventory | Edge management")}),[g]),c().createElement(c().Fragment,null,c().createElement(u.Z,{className:"pf-m-light"},c().createElement(d.Z,{title:"Groups"})),c().createElement("section",{className:"edge-groups pf-l-page__main-section pf-c-page__main-section"},(0,D.G0)(h,null==v?void 0:v.count,t)?c().createElement(s.k,{justifyContent:{default:"justifyContentCenter"}},e,"?",":",c().createElement(P.Z,{icon:"plus",title:"Create a system group",body:"Create system groups to help manage your systems more effectively.",primaryAction:{text:"Create group",click:function(){return j(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):c().createElement(_,{data:(null==v?void 0:v.data)||[],count:null==v?void 0:v.count,isLoading:h,hasError:y,handleRenameModal:function(e,t){w({id:e,name:t}),L(!0)},handleDeleteModal:function(e,t){w({id:e,name:t}),F(!0)},handleCreateModal:function(){return j(!0)},hasModalSubmitted:X,setHasModalSubmitted:B,fetchGroups:f})),Z&&c().createElement(C.Z,{isModalOpen:Z,setIsModalOpen:j,reloadData:Q}),G&&c().createElement(T.Z,{isModalOpen:G,setIsModalOpen:L,reloadData:Q,modalState:S}),V&&c().createElement(N.Z,{isModalOpen:V,setIsModalOpen:F,reloadData:Q,modalState:S}))}},61381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(15861),a=n(64687),o=n.n(a),i=n(92950),l=n.n(i),c=n(45697),s=n.n(c),u=n(64124),d=n(96354),p=n(60722),m=n(87029),f=n(48903),g=n(32349),v=n(77760),b=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Tb)(t);case 2:if(!e.sent.data.isValid){e.next=5;break}return e.abrupt("return","Group name already exists");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={fields:[{component:d.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.Z.REQUIRED},{type:u.Z.MAX_LENGTH,threshold:50},f.qg,b]}]},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.modalState,o=a.id,i=a.name,c=(0,v.useDispatch)();return l().createElement(p.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Rename group",submitLabel:"Save",schema:h,initialValues:a,onSubmit:function(e){var t={onSuccess:{title:"Success",description:"".concat(i," has been renamed to ").concat(e.name," successfully")},onError:{title:"Error",description:"Failed to rename group"}};(0,g.Z)(c,(function(){return(0,m.OS)(o,e)}),t)},reloadData:r})};y.propTypes={id:s().number,modalState:s().object,isModalOpen:s().bool,setIsModalOpen:s().func,reloadData:s().func};const O=y},42559:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,h:()=>r});var r="edgeParity.inventory-groups-enabled",a="edge-management.hide_groups_actions"},32349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(4942),a=n(15861),o=n(64687),i=n.n(o),l=n(83215);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n,r){var o,c,u,d=null===(o=n)||void 0===o?void 0:o.onSuccess,p=null===(c=n)||void 0===c?void 0:c.onInfo,m=null===(u=n)||void 0===u?void 0:u.onWarning;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var f=function(){var o=(0,a.Z)(i().mark((function a(){var o;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t();case 3:return o=a.sent,p&&(r?r.hasInfo(n.onInfo):e(s({},(0,l.wN)(s({variant:"info"},n.onInfo))))),d&&(r?r.hasSuccess(n.onSuccess):e(s({},(0,l.wN)(s({variant:"success"},n.onSuccess))))),m&&(r?r.hasWarning(n.onWarning):e(s({},(0,l.wN)(s({variant:"warning"},n.onWarning))))),a.abrupt("return",o);case 10:return a.prev=10,a.t0=a.catch(0),r?r.err(n.onError,a.t0):e(s({},(0,l.wN)(s(s({variant:"danger"},n.onError),{},{description:null!==a.t0&&void 0!==a.t0&&a.t0.Title?"".concat(n.onError.description,": ").concat(a.t0.Title):n.onError.description})))),a.abrupt("return",a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return o.apply(this,arguments)}}();return f()}},21078:(e,t,n)=>{var r=n(62488),a=n(37285);e.exports=function e(t,n,o,i,l){var c=-1,s=t.length;for(o||(o=a),l||(l=[]);++c<s;){var u=t[c];n>0&&o(u)?n>1?e(u,n-1,o,i,l):r(l,u):i||(l[l.length]=u)}return l}},37285:(e,t,n)=>{var r=n(62705),a=n(35694),o=n(1469),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},91993:()=>{},45987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(63366);function a(e,t){if(null==e)return{};var n,a,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}}}]);
//# sourceMappingURL=../sourcemaps/Groups.85e4034dd4194646f63af05bed05f839.js.map