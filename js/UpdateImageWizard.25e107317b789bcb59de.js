(self.webpackChunkedge=self.webpackChunkedge||[]).push([[7154],{34932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}},47422:(e,t,r)=>{var n=r(31769),a=r(77797);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[a(t[r++])];return r&&r==i?e:void 0}},77556:(e,t,r)=>{var n=r(51873),a=r(34932),i=r(56449),o=r(44394),s=n?n.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},31769:(e,t,r)=>{var n=r(56449),a=r(28586),i=r(61802),o=r(13222);e.exports=function(e,t){return n(e)?e:a(e,t)?[e]:i(o(e))}},28586:(e,t,r)=>{var n=r(56449),a=r(44394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},62224:(e,t,r)=>{var n=r(50104);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},61802:(e,t,r)=>{var n=r(62224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,r,n,a){t.push(n?a.replace(i,"$1"):r||e)})),t}));e.exports=o},77797:(e,t,r)=>{var n=r(44394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},58156:(e,t,r)=>{var n=r(47422);e.exports=function(e,t,r){var a=null==e?void 0:n(e,t);return void 0===a?r:a}},44394:(e,t,r)=>{var n=r(72552),a=r(40346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==n(e)}},50104:(e,t,r)=>{var n=r(53661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(a.Cache||n),r}a.Cache=n,e.exports=a},13222:(e,t,r)=>{var n=r(77556);e.exports=function(e){return null==e?"":n(e)}},23114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(93345),a=r.n(n),i=r(47957),o=r(57502),s=r(72043),u=r(11879),c=r(76959),l=r(80475),m=r(5556),p=r.n(m),f=r(62710),d=r(36870),g=r(66171),y=r(55833),v=r(55270),b=r(88993),h=r(78259);const A=({navigateBack:e,updateImageID:t,reload:r,notificationProp:m,locationProp:p})=>{const[A,S]=(0,n.useState)(),I=(0,d.wA)(),w=()=>{e(),r&&r()};(0,n.useEffect)((()=>{(async()=>{insights?.chrome?.auth?.getUser().then((e=>S(null!=e?e:{})))})()}),[]);const[x]=(0,h.A)({api:g.iI,id:t}),{data:k,isLoading:P}=x,D=(0,y.h)("fleet-management.temporary-releases"),E=(0,y.h)("edge-management.image_wizard_ui"),j={onSuccess:{title:"Successfully started image update"},onError:{title:"Error",description:"Failed to create image"}};return A&&k&&!P?a().createElement(i.A,{onClose:w,customComponentMapper:{review:f.A},onSubmit:({values:e,setIsSaving:t})=>{t((()=>!0));const r={...e,Id:k?.image?.ID,name:k?.image?.Name,version:k?.image?.Version+1,architecture:"x86_64",credentials:e.credentials?e.credentials:k?.image?.Installer.SshKey,username:e.username?e.username:k?.image?.Installer.Username};(0,v.A)(I,(()=>(0,g.mF)(r)),j,m),w()},defaultArch:"x86_64",initialValues:{imageID:k?.image.ID,name:k?.image?.Name,isUpdate:!0,description:k?.image?.Description,credentials:k?.image?.Installer.SshKey,username:k?.image?.Installer.Username,version:k?.image?.Version,activationKey:k?.image?.activationKey,release:k?.image?.Distribution,release_options:D?(0,y.nh)(k?.image?.Distribution,[...b.t9,...b.gA]):(0,y.nh)(k?.image?.Distribution),imageType:["rhel-edge-commit"],"selected-packages":k?.image?.Packages?.map((e=>({...e,name:e.Name}))),"third-party-repositories":k?.image?.ThirdPartyRepositories?.map((e=>({id:e.ID,name:e.Name,...e}))),"initial-custom-repositories":k?.image?.ThirdPartyRepositories?.map((e=>({id:e.ID,name:e.Name,...e}))),"custom-packages":k?.image?.CustomPackages?.map((e=>({...e,name:e.Name})))},test:"",schema:{fields:[{component:o.A.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Update image"},showTitles:!0,title:`Update image: ${k?.image?.Name}`,crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[s.kI,s.Rb,s.An,(0,s.bN)(E,p),s.U$,s.iH,s.NQ,s.tZ,s.gz]}]}}):a().createElement(c.Backdrop,null,a().createElement(u.Bullseye,null,a().createElement(l.Spinner,{diameter:"100px"})))};A.propTypes={navigateBack:p().func,updateImageID:p().number,reload:p().func,notificationProp:p().object,locationProp:p().object},A.defaultProps={navigateBack:()=>{}};const S=A},43145:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{A:()=>n})},9417:(e,t,r)=>{"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{A:()=>n})},92901:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(20816);function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,n.A)(a.key),a)}}function i(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}},64467:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(20816);function a(e,t,r){return(t=(0,n.A)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},73893:(e,t,r)=>{"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{A:()=>n})},60436:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(43145),a=r(73893),i=r(27800);function o(e){return function(e){if(Array.isArray(e))return(0,n.A)(e)}(e)||(0,a.A)(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},20816:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(82284);function a(e){var t=function(e){if("object"!=(0,n.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=(0,n.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,n.A)(t)?t:t+""}},82284:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{A:()=>n})},27800:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(43145);function a(e,t){if(e){if("string"==typeof e)return(0,n.A)(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.A)(e,t):void 0}}}}]);