(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[2049],{58689:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(44914),o=r.n(n),a=r(75253),l=r(5556),i=r.n(l),s=r(30083),c=r(17427),u=r(45523),d=r(63767),p=r(46634),m=r(72511),g=r(61574),f=r(71519),b=r(71544),h=r(91153),v=r(51343),y=function(e){var t=e.index;return o().createElement("div",null,o().createElement(u.m,{content:o().createElement("div",null,"More options"),triggerRef:function(){return document.getElementById("pf-dropdown-toggle-id-".concat(t))}}))};y.propTypes={index:i().number};var E=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],P=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Release",type:"distribution",options:v.WT,sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Target",type:"outputTypes",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Created/Updated",type:"updated_at",sort:!0,columnTransforms:[(0,p.cellWidth)(35)]}],I=function(e,t,r,n){return e.map((function(e,a){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,distribution:null==e?void 0:e.Distribution,outputType:null==e?void 0:e.OutputTypes,isoURL:(null==e?void 0:e.ImageBuildIsoURL)||null,latestImageID:null==e?void 0:e.ImageID},cells:[{title:(0,c.d)({pathname:"".concat(t,"/").concat(null==e?void 0:e.ID),linkText:null==e?void 0:e.Name,history:r,navigate:n})},null==e?void 0:e.Version,{title:v.WT[null==e?void 0:e.Distribution]},2==(null==e?void 0:e.OutputTypes.length)?"Bare Metal Installer":"Update Only",{title:o().createElement(o().Fragment,null,o().createElement(y,{index:a}),o().createElement(b.A,{type:null==e?void 0:e.Status.toLowerCase()}))},{title:null!=e&&e.UpdatedAt?o().createElement(d.A,{date:null==e?void 0:e.UpdatedAt}):"Unknown"}]}}))},O=function(e){var t=e.pathPrefix,r=e.urlName,n=e.historyProp,l=e.locationProp,i=e.navigateProp,u=e.data,d=e.count,p=e.isLoading,b=e.docLinkProp,v=e.hasError,y=e.fetchImageSets,O=e.openCreateWizard,S=e.openUpdateWizard,k=e.hasModalSubmitted,w=e.setHasModalSubmitted,C=void 0===b?"https://access.redhat.com/documentation/en-us/edge_management/2022/html/create_rhel_for_edge_images_and_configure_automated_management/index":b,x=(l?l():g.zy?(0,g.zy)():null).search,A=n?n():g.W6?(0,g.W6)():null,_=i?i():f.useNavigate?(0,f.useNavigate)():null,T=(0,h.l)("edge".concat(s.J.manageImages),t,r);return o().createElement(o().Fragment,null,(0,c.Rj)(p,d,x)?o().createElement(m.A,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Create an OSTree image",body:["Image builder is a tool to compose customized RHEL (rpm-ostree) images optimized for Edge. ","With OSTree, you can manage the system software by referencing a central image repository. Images contain a complete operating system ready to be remotely installed at scale. Updates to images are tracked through commits and enable secure updates that only address changes and keep the operating system unchanged. Image updates are quick, and rollbacks are easy."],secondaryActions:[{type:"link",title:"Learn more about OSTree.",link:"https://ostreedev.github.io/ostree/"},{variant:"primary",className:"edge-stretched-button",onClick:function(){return O()},type:"button",title:"Create image."},{type:"link",iconPosition:"left",title:"Image builder for OSTree documentation",link:C}]}):o().createElement(a.A,{apiFilterSort:!0,historyProp:n,locationProp:l,navigateProp:i,isUseApi:!0,filters:E,loadTableData:y,tableData:{count:d,data:u,isLoading:p,hasError:v},columnNames:P,rows:u?I(u,T,A,_):[],actionResolver:function(e){var t,r,n,o,a,l=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&l.push({title:"Download",onClick:function(e,t,r){var n;window.open(null===(n=r.rowInfo)||void 0===n?void 0:n.isoURL)}}),"SUCCESS"!==(null===(r=e.rowInfo)||void 0===r?void 0:r.imageStatus)&&"ERROR"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)||l.push({title:"Update Image",onClick:function(e,t,r){var n;S(null===(n=r.rowInfo)||void 0===n?void 0:n.latestImageID)}}),"BUILDING"===(null===(o=e.rowInfo)||void 0===o?void 0:o.imageStatus)&&null!==(a=e.rowInfo)&&void 0!==a&&a.id&&l.push({title:""}),l},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:5,direction:"desc"},toolbarButtons:[{title:"Create new image",click:function(){return O()}}],hasModalSubmitted:k,setHasModalSubmitted:w}))};O.propTypes={pathPrefix:i().string,urlName:i().string,historyProp:i().func,locationProp:i().func,navigateProp:i().func,data:i().array,count:i().number,isLoading:i().bool,hasError:i().bool,fetchImageSets:i().func,clearFilters:i().func,openCreateWizard:i().func,openUpdateWizard:i().func,filters:i().array,pagination:i().shape({page:i().number,perPage:i().number}),hasModalSubmitted:i().bool,setHasModalSubmitted:i().func,docLinkProp:i().string};const S=O},56259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(10467),o=r(64467),a=r(5544),l=r(54756),i=r.n(l),s=r(44914),c=r.n(s),u=r(932),d=r(55318),p=r(83241),m=r(16401),g=r(20881),f=r(61574),b=r(71519),h=r(58689),v=r(17427),y=r(36513),E=r(43085),P=r(5556),I=r.n(P);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=c().lazy((function(){return Promise.all([r.e(9775),r.e(4018),r.e(6286),r.e(6863),r.e(6043),r.e(2793),r.e(6503)]).then(r.bind(r,42259))})),w=c().lazy((function(){return Promise.all([r.e(9775),r.e(4018),r.e(6286),r.e(6863),r.e(6043),r.e(2793),r.e(7154)]).then(r.bind(r,32780))})),C=function(e){var t=e.pathPrefix,r=e.urlName,o=e.historyProp,l=e.locationProp,P=e.navigateProp,I=e.docLinkProp,O=e.notificationProp,C=e.showHeaderProp,x=(0,g.A)(),A=o?o():f.W6?(0,f.W6)():null,_=P?P():b.useNavigate?(0,b.useNavigate)():null,T=l?l():(0,f.zy)(),D=T.pathname,j=T.search,N=void 0===C||C,U=(0,E.A)({api:y.d6,tableReload:!0}),L=(0,a.A)(U,2),R=L[0],W=L[1],F=R.data,z=R.isLoading,B=R.hasError,H=(0,s.useState)(!1),M=(0,a.A)(H,2),q=M[0],G=M[1],V=(0,s.useState)({isOpen:!1,imageId:null}),J=(0,a.A)(V,2),K=J[0],Q=J[1],X=(0,s.useState)(!1),Y=(0,a.A)(X,2),Z=Y[0],$=Y[1],ee={pathname:D,search:(0,v.AH)("create_image=true",!0,j)},te={pathname:D,search:(0,v.AH)("update_image=true",!0,j)},re=function(){var e=(0,n.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:$(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e;null==x||null===(e=x.updateDocumentTitle)||void 0===e||e.call(x,"Images")}),[x]),c().createElement(s.Fragment,null,N&&c().createElement(p.A,{className:"pf-m-light"},c().createElement(m.A,{title:"Images"})),c().createElement("section",{className:"edge-images pf-l-page__main-section pf-c-page__main-section"},c().createElement(h.default,{pathPrefix:t,urlName:r,historyProp:o,locationProp:l,navigateProp:P,data:(null==F?void 0:F.data)||[],count:null==F?void 0:F.count,isLoading:z,hasError:B,fetchImageSets:W,docLinkProp:I,openCreateWizard:function(){P?_(S(S({},ee),{},{replace:!0})):A.push(S({},ee)),G(!0)},openUpdateWizard:function(e){P?_(S(S({},te),{},{replace:!0})):A.push(S({},te)),Q({isOpen:!0,imageId:e})},hasModalSubmitted:Z,setHasModalSubmitted:$})),q&&c().createElement(s.Suspense,{fallback:c().createElement(d.a,null,c().createElement(u.y,null))},c().createElement(k,{navigateBack:function(){P?_(S(S({},ee),{},{replace:!0})):A.push({pathname:D,search:(0,v.AH)("create_image=true",!1,j)}),G(!1)},reload:re,notificationProp:O,locationProp:l})),K.isOpen&&c().createElement(s.Suspense,{fallback:c().createElement(d.a,null,c().createElement(u.y,null))},c().createElement(w,{navigateBack:function(){P?_(S(S({},te),{},{replace:!0})):A.push({pathname:D,search:(0,v.AH)("update_image=true",!1,j)}),Q((function(e){return S(S({},e),{},{isOpen:!1})}))},reload:re,updateImageID:K.imageId,notificationProp:O,locationProp:l})))};C.propTypes={pathPrefix:I().string,urlName:I().string,historyProp:I().func,locationProp:I().func,navigateProp:I().func,notificationProp:I().object,showHeaderProp:I().bool,docLinkProp:I().string};const x=C},91153:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,l:()=>n});var n=function(e,t,r){var n=e;if(t||r){var o=[];t&&o.push(t),r&&o.push(r),n=o.join("/")}return n},o=function(e,t){return!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")}},71544:(e,t,r)=>{"use strict";r.d(t,{A:()=>f,N:()=>m});var n=r(44914),o=r.n(n),a=r(5556),l=r.n(a),i=r(55639),s=r(45523),c=r(30666),u=r(93973),d=r(51343),p={booting:{text:"Booting",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.l_.exclamationTriangle,color:d.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:d.l_.timesCircle,color:d.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:d.l_.unknown},interrupted:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"}},m=function(e,t,r){return"ERROR"===r?"error":"UNRESPONSIVE"===r?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},g=function(e){var t=e.id,r=e.type,n=e.isLabel,a=void 0!==n&&n,l=e.toolTipContent,d=void 0===l?"":l,m=e.className,g=void 0===m?"":m,f=e.isLink,b=Object.prototype.hasOwnProperty.call(p,r)?p[r]:p.default,h=b.text,v=b.Icon,y=b.color,E=b.labelColor;return o().createElement(o().Fragment,null,a?o().createElement(i.J,{id:t,color:E,icon:o().createElement(v,null),className:g},h):o().createElement(c.B,{id:t,style:{color:y},className:g},o().createElement(u.o,{className:"pf-u-mr-sm"},d?o().createElement(s.m,{content:"blargh"},o().createElement(v,null)):o().createElement(v,null)),o().createElement(u.o,null,o().createElement("p",{style:f?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},h))))};const f=g;g.propTypes={id:l().string,type:l().string,isLabel:l().bool,toolTipContent:l().string,className:l().string,isLink:l().bool},g.defaultProps={id:"status"}},43085:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(64467),o=r(10467),a=r(5544),l=r(54756),i=r.n(l),s=r(11830),c=r(44914),u=r(45321);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m=function(e){var t,r=e.api,n=e.id,l=void 0===n?null:n,d=e.statusMessages,m=e.tableReload,g=void 0!==m&&m,f=(0,u.useDispatch)(),b=(0,c.useState)([]),h=(0,a.A)(b,2),v=h[0],y=h[1],E=(0,c.useState)(!0),P=(0,a.A)(E,2),I=P[0],O=P[1],S=(0,c.useState)(!1),k=(0,a.A)(S,2),w=k[0],C=k[1],x=(0,c.useState)((function(){return r})),A=(0,a.A)(x,2),_=A[0],T=A[1],D=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var j=function(){var e=(0,o.A)(i().mark((function e(){var t,r,n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",O(!0),e.prev=2,e.next=5,_({id:l,query:t});case 5:r=e.sent,y(r),D&&f(p({},(0,s.z8)(p({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),C(!0),f(p({},(0,s.z8)(p({variant:"danger"},d.onError))));case 14:return e.prev=14,O(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){g||j()}),[]),[{data:v,isLoading:I,hasError:w},j,_,T]}},86151:()=>{},51225:()=>{},98469:()=>{},36752:()=>{},83696:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2049.75cf18deaca78551eb2684f185bdda4b.js.map