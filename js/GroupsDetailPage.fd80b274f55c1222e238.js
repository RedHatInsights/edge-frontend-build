"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[673],{63875:(e,t,n)=>{n.r(t),n.d(t,{default:()=>de});var r=n(87757),a=n.n(r),o=n(59713),i=n.n(o),l=n(48926),c=n.n(l),u=n(63038),s=n.n(u),p=n(1427),d=n.n(p),m=n(16530),f=n(50693),v=n(16475),g=n(64029),E=n(32835),b=n(69174),y=n(52643),O=n(2372),h=n(56455),P=n(48716),j=n(86350),D=n(38775),w=n(53895),S=n(80962),L=n(67154),_=n.n(L),I=n(91290),k=n(44479),R=n(22210),N=n(47173),C=n(45697),T=n.n(C),U=function(e){var t=e.title,n=e.content;return d().createElement(d().Fragment,null,d().createElement("span",null,t),d().createElement(R.J,{headerContent:d().createElement("div",null,t),bodyContent:d().createElement("div",null,n)},d().createElement(N.zx,{variant:"plain","aria-label":"Action for ".concat(t),className:"ins-active-general_information__popover-icon"},d().createElement(I.ZP,null))))};U.propTypes={title:T().string,content:T().string};const F=U;var A=n(35451),Z=n(84564),G=n(18802),x=function(e){var t=e.status;return"green"===t?d().createElement(d().Fragment,null,d().createElement(A.ZP,{color:"green",className:"pf-u-mr-sm"}),d().createElement("span",{className:"pf-u-success-color-200"},"Passed")):"red"===t?d().createElement(d().Fragment,null,d().createElement(Z.ZP,{color:"red",className:"pf-u-mr-sm"}),d().createElement("span",{className:"pf-u-danger-color-200"},"Failed and reverted")):d().createElement(d().Fragment,null,d().createElement(G.ZP,{className:"pf-u-mr-sm"}),d().createElement("span",null,"Waiting for update"))};x.propTypes={status:T().string};const z=x;var B=n(58753),J=(0,p.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(736)]).then(n.bind(n,92373))})),W=(0,p.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(736)]).then(n.bind(n,44621))})),q=(0,p.lazy)((function(){return n.e(252).then(n.bind(n,18569))})),M=(0,p.lazy)((function(){return n.e(252).then(n.bind(n,91768))})),H=(0,p.lazy)((function(){return n.e(252).then(n.bind(n,38514))})),K=(0,p.lazy)((function(){return n.e(252).then(n.bind(n,10392))})),V=(0,p.lazy)((function(){return Promise.all([n.e(252),n.e(570)]).then(n.bind(n,89190))}));const Q=function(){var e=(0,S.useSelector)((function(e){var t=e.permissionsReducer;return null==t?void 0:t.writePermissions})),t=(0,S.useSelector)((function(e){var t,n=e.systemProfileStore;return{greenbootStatus:null==n||null===(t=n.systemProfile)||void 0===t?void 0:t.greenboot_status,rhcHealth:null}})),n=t.greenbootStatus,r=t.rhcHealth;return d().createElement(p.Suspense,{fallback:""},d().createElement(J,{store:(0,S.useStore)(),writePermissions:e,SystemCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""},d().createElement(W,_()({},e,{hasCPUs:!1,hasSockets:!1,hasCores:!1,hasCPUFlags:!1,hasRAM:!1,hasSAP:!1,extra:[{title:d().createElement(F,{title:"GreenBoot Status",content:"This is a description about greenboot status"}),value:d().createElement(z,{status:n})}]})))},OperatingSystemCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""}," ",d().createElement(K,e))},BiosCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""}," ",d().createElement(V,e))},InfrastructureCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""},d().createElement(M,e))},ConfigurationCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""},d().createElement(q,_()({},e,{hasKernelModules:!0})))},CollectionCardWrapper:function(e){return d().createElement(p.Suspense,{fallback:""},d().createElement(H,_()({},e,{extra:[{title:"RHC Health (broker functioning)",value:B.qi[null==r?void 0:r.toUpperCase()]||d().createElement(k.u,{content:"Unknown service status"},d().createElement(I.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))}}))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=(0,n(18546).Gg)({LOAD_ENTITY_FULFILLED:function(e){return X(X({},e),{},{loaded:!0,activeApps:[{title:"General information",name:"general_information",component:Q}]})}}),ee=n(59245),te=n(32002),ne=n(41316),re=n(48099),ae=n(29873),oe=n(33902);const ie=function(){var e=(0,p.useState)(0),t=s()(e,2),n=t[0],r=t[1];return d().createElement("div",{className:"edge-c-device--detail add-100vh"},d().createElement(ne.m,{className:"pf-u-ml-md pf-u-mb-md",activeKey:n,onSelect:function(e,t){return r(t)}},d().createElement(re.O,{eventKey:0,title:d().createElement(ae.T,null,"Details")},d().createElement(oe.Z,{showTags:!0,fallback:""}))))};var le=n(19694),ce=n(66702);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=d().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,79358))}));const de=function(){var e,t,n,r,o,i,l,u,L,_,I,k,R,N,C,T,U=(0,p.useContext)(ee.g).getRegistry,F=(0,m.useParams)(),Z=F.inventoryId,x=F.uuid,z=(0,S.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.display_name})),B=(0,S.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.name})),J=(0,S.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.id})),W=(0,p.useState)({isOpen:!1,deviceData:null}),q=s()(W,2),M=q[0],H=q[1],K=(0,p.useState)(!0),V=s()(K,2),Q=V[0],$=V[1];return(0,p.useEffect)((function(){var e,t;insights.chrome.registerModule("inventory"),null===(e=insights.chrome)||void 0===e||null===(t=e.hideGlobalFilter)||void 0===t||t.call(e,!0),insights.chrome.appAction("system-detail")}),[]),(0,p.useEffect)((function(){c()(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ce.Z4)(J);case 4:t=e.sent,$(!1),H((function(e){var n;return se(se({},e),{},{deviceData:{display_name:z,system_profile:{image_data:t,status:null==t||null===(n=t.UpdateTransactions)||void 0===n?void 0:n.filter((function(e){return"BUILDING"===e.Status||"CREATED"===e.Status}))}}})}));case 7:case"end":return e.stop()}}),e)})))()}),[z]),(0,p.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appObjectId)||void 0===n||n.call(t,Z)}),[Z]),d().createElement(d().Fragment,null,d().createElement(D.Z,{hideInvLink:!0,showTags:!0,onLoad:function(e){var t=e.mergeWithDetail;U().register(se({systemProfileStore:te.ZP},t(Y)))}},d().createElement(P.Z,null,d().createElement(g.a,{ouiaId:"systems-list"},d().createElement(E.g,null,d().createElement(m.Link,{to:x?"/groups":"/fleet-management"},x?"Groups":"Fleet management")),x&&d().createElement(E.g,null,B?d().createElement(m.Link,{to:"/groups/".concat(x)},B):d().createElement(h.Z,{size:h.i.xs})),d().createElement(E.g,{isActive:!0},d().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},z||d().createElement(h.Z,{size:h.i.xs})))),d().createElement(w.Z,{fallback:"",actions:[{title:"Update",isDisabled:(null===(e=M.deviceData)||void 0===e||null===(t=e.system_profile)||void 0===t||null===(n=t.image_data)||void 0===n||null===(r=n.UpdateTransactions)||void 0===r?void 0:r.filter((function(e){return"BUILDING"===e.Status||"CREATED"===e.Status})).length)>0||!(null===(o=M.deviceData)||void 0===o||null===(i=o.system_profile)||void 0===i||null===(l=i.image_data)||void 0===l||null===(u=l.ImageInfo)||void 0===u?void 0:u.UpdatesAvailable),onClick:function(){H((function(e){return se(se({},e),{},{isOpen:!0})}))}}],hideBack:!0,hideInvDrawer:!0}),Q?d().createElement(h.Z,{size:h.i.xs}):(null==M||null===(L=M.deviceData)||void 0===L||null===(_=L.system_profile)||void 0===_||null===(I=_.status)||void 0===I?void 0:I.length)>0?d().createElement(b._,{className:"pf-u-mt-sm",color:"blue",icon:d().createElement(G.ZP,null)},"Updating"):(null==M||null===(k=M.deviceData)||void 0===k||null===(R=k.system_profile)||void 0===R||null===(N=R.image_data)||void 0===N||null===(C=N.ImageInfo)||void 0===C||null===(T=C.UpdatesAvailable)||void 0===T?void 0:T.length)>0?d().createElement(b._,{className:"pf-u-mt-sm",color:"orange",icon:d().createElement(le.ZP,null)},"Update Available"):d().createElement(b._,{className:"pf-u-mt-sm",color:"green",icon:d().createElement(A.ZP,{color:"green"})},"Running")),d().createElement(j.Z,{className:"edge-c-device--detail"},d().createElement(f.r,{gutter:"md"},d().createElement(v.P,{span:12},d().createElement(ie,null))))),M.isOpen&&d().createElement(p.Suspense,{fallback:d().createElement(y.b,null,d().createElement(O.$,null))},d().createElement(pe,{navigateBack:function(){history.push({pathname:history.location.pathname}),H((function(e){return se(se({},e),{},{isOpen:!1})}))},setUpdateModal:H,updateModal:M})))}},75220:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ae});var r=n(87757),a=n.n(r),o=n(48926),i=n.n(o),l=n(319),c=n.n(l),u=n(59713),s=n.n(u),p=n(63038),d=n.n(p),m=n(1427),f=n.n(m),v=n(80962),g=n(16530),E=n(48716),b=n(39173),y=n(86350),O=n(33739),h=n(94778),P=n(59245),j=n(58061),D=n(28191),w=n(92298),S=n(32203),L=n(70),_=n(62394),I=n(47173),k=n(52643),R=n(2372),N=n(50693),C=n(16475),T=n(49739),U=n(83826),F=n(45697),A=n.n(F),Z=function(e){var t=e.orphaned,n=e.active,r=e.noReports,a=e.neverReported;return f().createElement(S.Z,{className:"tiles-card"},f().createElement(L.l,null,"Device summary"),f().createElement(_.e,null,f().createElement(N.r,null,f().createElement(C.P,{span:6},f().createElement(T.K,{hasGutter:!0},f().createElement(U.v,null,f().createElement(I.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},n)," ","Active"),f().createElement(U.v,null,f().createElement(I.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},t)," ","Orphaned"))),f().createElement(C.P,{span:6},f().createElement(T.K,{hasGutter:!0},f().createElement(U.v,null,f().createElement(I.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},r),"Stale"),f().createElement(U.v,null,f().createElement(I.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},a),"Registered but never reported"))))))};Z.propTypes={orphaned:A().number,active:A().number,noReports:A().number,neverReported:A().number};const G=function(){var e=(0,v.useSelector)((function(e){var t=e.deviceSummaryReducer;return{isLoading:void 0===(null==t?void 0:t.isLoading)||(null==t?void 0:t.isLoading),hasError:(null==t?void 0:t.hasError)||!1,data:(null==t?void 0:t.data)||null}}),v.shallowEqual),t=e.isLoading,n=e.hasError,r=e.data;return t?f().createElement(S.Z,{className:"tiles-card"},f().createElement(L.l,null,"Device summary information"),f().createElement(_.e,null,f().createElement(k.b,null,f().createElement(R.$,null)))):n?f().createElement(S.Z,{className:"tiles-card"},f().createElement(L.l,null,"Device summary information"),f().createElement(_.e,null,r)):f().createElement(Z,{orphaned:r.orphaned,active:r.active,noReports:r.noReports,neverReported:r.neverReported})};var x=n(96667),z=function(){var e=(0,m.useContext)(P.g).getRegistry,t=(0,v.useDispatch)();return(0,m.useEffect)((function(){var n=e().register({imagesReducer:x.b4,deviceSummaryReducer:x.mR});return(0,h.lL)(t),(0,h.MB)(t),function(){return n()}}),[t]),f().createElement(D.k,{className:"tiles"},f().createElement(w.B,null,f().createElement(G,null)))};z.propTypes={onNewImageClick:A().func};var B=n(79851),J=n(34512),W=n(35451),q=n(18802),M=n(87673),H=n(19694),K=n(37655),V=n(17860),Q=function(e){var t,n=e.imageData,r=e.rpm_ostree_deployments,a=n||{},o=a.UpdateTransactions,i=a.ImageInfo;if(void 0===(null==r?void 0:r.length))return f().createElement(B.P,null,f().createElement(J.J,{className:"pf-u-mr-sm"},f().createElement(M.ZP,{color:"grey"})),f().createElement(J.J,null,"Unspecified"));if(!r[0].booted)return f().createElement(B.P,null,f().createElement(J.J,{className:"pf-u-mr-sm"},f().createElement(q.ZP,{color:"blue"})),f().createElement(J.J,null,"Booting"));var l=null==o?void 0:o.filter((function(e){return"BUILDING"===e.Status||"CREATED"===e.Status}));return(null==l?void 0:l.length)>0?f().createElement(B.P,null,f().createElement(J.J,{className:"pf-u-mr-sm"},f().createElement(q.ZP,{color:V.Z.value})),f().createElement(J.J,null,"Updating")):(null==i||null===(t=i.UpdatesAvailable)||void 0===t?void 0:t.length)>0?f().createElement(B.P,null,f().createElement(J.J,{className:"pf-u-mr-sm"},f().createElement(H.ZP,{color:K.Z.value})),f().createElement(J.J,{className:"pf-u-warning-color-200"},"Update Available")):f().createElement(B.P,null,f().createElement(J.J,{className:"pf-u-mr-sm"},f().createElement(W.ZP,{color:"green"})),f().createElement(J.J,null,"Running"))};Q.propTypes={id:A().string,updateTransactions:A().array,rpm_ostree_deployments:A().array,imageData:A().object};const $=Q;var X=n(66702);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=f().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,79358))})),ne={deviceStatus:{label:"Device status",value:[],titles:[]}},re=[{value:"approval",label:"Required approval"},{value:"ophaned",label:"Orphaned"},{value:"delivering",label:"On the way"}];const ae=function(){var e=(0,m.useState)(ne),t=d()(e,1)[0],n=(0,m.useState)({isOpen:!1,deviceData:null}),r=d()(n,2),o=r[0],l=r[1],u=(0,m.useContext)(P.g).getRegistry,s=(0,m.useRef)(null),p=(0,g.useHistory)(),D=(0,v.useDispatch)();return(0,m.useEffect)((function(){return insights.chrome.registerModule("inventory"),"true"===new URLSearchParams(p.location.search).get("update_device")&&l((function(e){return ee(ee({},e),{},{isOpen:!0})})),function(){return D((0,h.Qo)())}}),[]),f().createElement(m.Fragment,null,f().createElement(E.Z,{className:"pf-m-light"},f().createElement(b.Z,{title:"Fleet management"})),f().createElement(y.Z,{className:"edge-devices"},f().createElement(z,null),f().createElement(O.Z,{ref:s,onRefresh:function(e,t){!t&&s&&s.current?s.current.onRefreshData(e):t&&t(e)},tableProps:{canSelectAll:!1,variant:"compact",actionResolver:function(e){return e.system_profile.image_data?[{title:"Update",onClick:function(e,t,n){l((function(e){return ee(ee({},e),{},{isOpen:!0,deviceData:n})}))}}]:[{title:"No Action"}]},areActionsDisabled:function(e){var t,n,r,a,o,i;return(null==e||null===(t=e.system_profile)||void 0===t||null===(n=t.image_data)||void 0===n||null===(r=n.UpdateTransactions)||void 0===r?void 0:r.filter((function(e){return"BUILDING"===e.Status||"CREATED"===e.Status})).length)>0||!(null==e||null===(a=e.system_profile)||void 0===a||null===(o=a.image_data)||void 0===o||null===(i=o.ImageInfo)||void 0===i?void 0:i.UpdatesAvailable)}},columns:function(e){var t=e.filter((function(e){return["display_name","updated"].includes(e.key)}));return t.filter((function(e){return"updated"===e.key}))[0].props={width:20},[].concat(c()(t),[{key:"system_profile",title:"Device status",renderFunc:function(e){return f().createElement($,{rpm_ostree_deployments:e.rpm_ostree_deployments,imageData:e.image_data})},props:{width:20,isStatic:!0}}])},getEntities:function(){var e=i()(a().mark((function e(t,n,r,o){var l,u,s,p,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(void 0,ee(ee({},n),{},{filter:ee(ee({},n.filter),{},{system_profile:ee(ee({},null===(l=n.filter)||void 0===l?void 0:l.system_profile),{},{host_type:"edge"})}),fields:ee(ee({},null==n?void 0:n.fields),{},{system_profile:[].concat(c()((null==n||null===(u=n.fields)||void 0===u?void 0:u.system_profile)||[]),["host_type","operating_system","greenboot_status","greenboot_fallback_detected","rpm_ostree_deployments"])})}));case 2:return s=e.sent,p=s.results.map(function(){var e=i()(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,X.Z4)(t.id);case 2:return n=e.sent,r=n&&404!==n?n:{data:null},e.abrupt("return",ee(ee({},t),{},{system_profile:ee(ee({},t.system_profile),{},{image_data:Object.prototype.hasOwnProperty.call(r,"data")?null:r})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(p);case 6:return d=e.sent,e.abrupt("return",ee(ee({},s),{},{results:d}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),hideFilters:{registeredWith:!0},hasCheckbox:!1,activeFiltersConfig:ee({},(0,j.pM)(t)&&{filters:(0,j.I)(t,(function(e){var t;return null===(t=re.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}))}),onRowClick:function(e,t){return p.push("/fleet-management/".concat(t))},onLoad:function(e){var t,n,r=e.mergeWithEntities;null===(t=u())||void 0===t||null===(n=t.register)||void 0===n||n.call(t,ee({},r()))}})),o.isOpen&&f().createElement(m.Suspense,{fallback:f().createElement(k.b,null,f().createElement(R.$,null))},f().createElement(te,{navigateBack:function(){p.push({pathname:p.location.pathname}),l((function(e){return ee(ee({},e),{},{isOpen:!1})}))},setUpdateModal:l,updateModal:o,refreshTable:s.current.onRefreshData})))}},98364:(e,t,n)=>{n.r(t),n.d(t,{default:()=>te});var r=n(63038),a=n.n(r),o=n(59713),i=n.n(o),l=n(1427),c=n.n(l),u=n(48716),s=n(39173),p=n(86350),d=n(86748),m=n(9947),f=n(38424),v=n(35293),g=n(60485),E=n(47173),b=n(2372),y=n(52643),O=n(68340),h=n(68920),P=n(16530),j=n(62410),D=n(9043),w=n(94778),S=n(80962),L=n(7081),_=n(80810),I=n(4147);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(null==t||null===(e=t.chips)||void 0===e?void 0:e.map((function(e){return e.value})).join("."))||void 0},C=n(45697),T=n.n(C);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.filters,n=e.pagination,r=e.clearFilters,o=e.openCreateWizard,u=e.openUpdateWizard,s=(0,l.useState)({index:4,direction:"desc"}),p=a()(s,2),k=p[0],C=p[1],T=(0,S.useDispatch)(),U=(0,S.useSelector)((function(e){var t=e.edgeImagesReducer;return{data:(null==t?void 0:t.data)||null,isLoading:void 0===(null==t?void 0:t.isLoading)||t.isLoading,hasError:null==t?void 0:t.hasError}}),S.shallowEqual),A=U.data,Z=U.isLoading,G=U.hasError,x=[{title:"Name",type:"name",transforms:z?[]:[d.sortable]},"Version",{title:"Distribution",type:"distribution",transforms:z?[]:[d.sortable]},{title:"Type",type:"image_type",transforms:[]},{title:"Created",type:"created_at",transforms:z?[]:[d.sortable]},{title:"Status",type:"status",transforms:z?[]:[d.sortable]}],z=Z||G||!(null==A?void 0:A.length)&&J;(0,l.useEffect)((function(){var e,r;(0,w.Z5)(T,F(F(F({},function(e){return e.reduce((function(e,t){return t.chipKey&&0!==t.chips.length?R(R({},e),{},i()({},t.chipKey,t.chips.map((function(e){return e.value})))):e}),{})}(t)),function(e){var t=e.perPage;return{limit:t,offset:(e.page-1)*t}}(n)),(r=(e={direction:k.direction,name:x[k.index].type}).name,{sort_by:"asc"===e.direction?r:"-".concat(r)})))}),[n.perPage,n.page,k.index,k.direction,N(t[0]),N(t[1]),N(t[2])]);var B,J=Object.keys(t).some((function(e){return e})),W=[{heightAuto:!0,cells:[{props:{colSpan:8},title:c().createElement(y.b,null,c().createElement(m.u,{variant:"small"},c().createElement(f.k,{icon:b.$})))}]}];return!1===Z&&!1===G&&((null==A?void 0:A.length)||J||(W=[{heightAuto:!0,cells:[{props:{colSpan:8},title:c().createElement(y.b,null,c().createElement(m.u,{variant:"small"},c().createElement(f.k,{icon:L.ZP}),c().createElement(g.D,{headingLevel:"h2",size:"lg"},"No images found"),c().createElement(E.zx,{onClick:o,isDisabled:!1!==Z},"Create new images")))}]}]),!(null==A?void 0:A.length)&&J&&(W=[{heightAuto:!0,cells:[{props:{colSpan:8},title:c().createElement(y.b,null,c().createElement(m.u,{variant:"small"},c().createElement(f.k,{icon:_.ZP}),c().createElement(g.D,{headingLevel:"h2",size:"lg"},"No match found"),c().createElement(v.i,null,c().createElement(E.zx,{onClick:r,variant:"link"},"Clear all filters"))))}]}]),(null==A||null===(B=A.data)||void 0===B?void 0:B.length)&&(W=A.data.map((function(e){var t;return{id:e.ID,cells:[{title:c().createElement(P.Link,{to:"".concat(I._j.gb,"/").concat(e.ID)},e.Name)},null==e?void 0:e.Version,{title:h.aN[null==e?void 0:e.Distribution]},{title:h.bd[null==e?void 0:e.ImageType]},{title:c().createElement(j.Z,{date:null==e?void 0:e.CreatedAt})},{title:c().createElement(D.Z,{status:null==e?void 0:e.Status})}],imageStatus:null==e?void 0:e.Status,isoURL:null==e||null===(t=e.Installer)||void 0===t?void 0:t.ImageBuildISOURL}})))),c().createElement(d.Table,{variant:"compact","aria-label":"Manage Images table",sortBy:k,onSort:function(e,t,n){C({index:t,direction:n})},actionResolver:function(e){var t=[];return(null==e?void 0:e.isoURL)&&t.push({title:c().createElement(O.x,{className:"force-text-black remove-underline",component:"a",href:e.isoURL,rel:"noopener noreferrer",target:"_blank"},"Download")}),"SUCCESS"===(null==e?void 0:e.imageStatus)&&t.push({title:"Update Image",onClick:function(e,t,n){u(n.id)}}),"SUCCESS"!==(null==e?void 0:e.imageStatus)&&t.push({title:""}),t},areActionsDisabled:function(e){return"SUCCESS"!==(null==e?void 0:e.imageStatus)},cells:x,rows:W},c().createElement(d.TableHeader,null),c().createElement(d.TableBody,null))};A.propTypes={clearFilters:T().func.isRequired,openCreateWizard:T().func.isRequired,openUpdateWizard:T().func.isRequired,filters:T().array.isRequired,pagination:T().shape({page:T().number,perPage:T().number}).isRequired};const Z=A;var G=n(57277),x=n(58061);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.setPagination,n=e.pagination,r=e.filterConfig,a=e.activeFilters,o=e.dispatchActiveFilters,i=e.defaultFilters,l=e.openCreateWizard,u=(0,S.useSelector)((function(e){var t,n=e.edgeImagesReducer;return{isLoading:void 0===(null==n?void 0:n.isLoading)||n.isLoading,count:(null==n||null===(t=n.data)||void 0===t?void 0:t.count)||0}}),S.shallowEqual),s=u.count,p=u.isLoading;return c().createElement(G.Z,{filterConfig:r,pagination:B(B({itemCount:s},n),{},{onSetPage:function(e,r){return t(B(B({},n),{},{page:r}))},onPerPageSelect:function(e,n){return t({page:1,perPage:n})}}),activeFiltersConfig:{filters:(0,x.pM)(a)?(0,x.I)(a):[],onDelete:function(e,t,n){o(n?{type:"DELETE_FILTER",payload:i}:{type:"DELETE_FILTER",payload:(0,x.Jr)(a,t)})}},dedicatedAction:c().createElement(E.zx,{onClick:l,isDisabled:!1!==p},"Create new image")})};J.propTypes={setPagination:T().func.isRequired,filterConfig:T().shape({items:T().array}),defaultFilters:T().shape({name:T().object,distribution:T().object,status:T().object}),activeFilters:T().shape({name:T().object,distribution:T().object,status:T().object}),dispatchActiveFilters:T().func.isRequired,openCreateWizard:T().func.isRequired,filters:T().array.isRequired,pagination:T().shape({page:T().number,perPage:T().number}).isRequired};const W=J;var q=n(18546),M=n(59245),H=n(96667);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=c().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,49477))})),$=c().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(46)]).then(n.bind(n,53010))})),X={name:{label:"Name",key:"name",value:""},distribution:{label:"Distribution",key:"distribution",value:[]},status:{label:"Status",key:"status",value:[]}},Y={UPDATE_FILTER:function(e,t){return V(V({},e),{},i()({},t.property,V(V({},e[t.property]||{}),{},{value:t.value})))},DELETE_FILTER:function(e,t){return t.payload}},ee=(0,q.Gg)(Y,X);const te=function(){var e,t,n,r=(0,l.useContext)(M.g).getRegistry,o=(0,l.useState)({page:1,perPage:100}),i=a()(o,2),d=i[0],m=i[1],f=(0,l.useState)(!1),v=a()(f,2),g=v[0],E=v[1],O=(0,l.useState)({isOpen:!1,imageId:null}),j=a()(O,2),D=j[0],w=j[1],S=(0,P.useHistory)(),L=(0,l.useReducer)(ee,X),_=a()(L,2),I=_[0],k=_[1],R=function(){S.push({pathname:S.location.pathname,search:new URLSearchParams({create_image:!0}).toString()}),E(!0)},N={items:[{label:X.name.label,type:"text",filterValues:{key:"name-filter",onChange:function(e,t){return k({type:"UPDATE_FILTER",property:"name",value:t})},value:(null==I||null===(e=I.name)||void 0===e?void 0:e.value)||"",placeholder:"Filter by name"}},{label:X.distribution.label,type:"checkbox",filterValues:{key:"distribution-filter",onChange:function(e,t){return k({type:"UPDATE_FILTER",property:"distribution",value:t})},items:Object.entries(h.aN).map((function(e){var t=a()(e,2),n=t[0];return{label:t[1],value:n}})),value:(null==I||null===(t=I.distribution)||void 0===t?void 0:t.value)||""}},{label:X.status.label,type:"checkbox",filterValues:{key:"status-filter",onChange:function(e,t){return k({type:"UPDATE_FILTER",property:"status",value:t})},items:h.sX.map((function(e){return{label:e,value:e}})),value:(null==I||null===(n=I.status)||void 0===n?void 0:n.value)||[]}}]};return(0,l.useEffect)((function(){var e=r().register({edgeImagesReducer:H.QJ});return function(){return e()}}),[]),c().createElement(l.Fragment,null,c().createElement(u.Z,{className:"pf-m-light"},c().createElement(s.Z,{title:"Manage images"})),c().createElement(p.Z,{className:"edge-devices"},c().createElement(W,{setPagination:m,pagination:d,filterConfig:N,activeFilters:I,dispatchActiveFilters:k,defaultFilters:X,openCreateWizard:R}),c().createElement(Z,{clearFilters:function(){return k({type:"DELETE_FILTER",payload:X})},openCreateWizard:R,openUpdateWizard:function(e){S.push({pathname:S.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),w({isOpen:!0,imageId:e})},filters:(0,x.pM)(I)?(0,x.I)(I):[],pagination:d})),g&&c().createElement(l.Suspense,{fallback:c().createElement(y.b,null,c().createElement(b.$,null))},c().createElement(Q,{navigateBack:function(){S.push({pathname:S.location.pathname}),E(!1)}})),D.isOpen&&c().createElement(l.Suspense,{fallback:c().createElement(y.b,null,c().createElement(b.$,null))},c().createElement($,{navigateBack:function(){S.push({pathname:S.location.pathname}),w((function(e){return V(V({},e),{},{isOpen:!1})}))},updateImageID:D.imageId})))}},70102:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var r=n(63038),a=n.n(r),o=n(1427),i=n.n(o),l=n(48716),c=n(16530),u=n(49739),s=n(83826),p=n(68340),d=n(2372),m=n(52643),f=n(80962),v=n(59245),g=n(94778),E=n(96667),b=n(45697),y=n.n(b),O=n(25834),h=n(78140),P=n(68774),j=n(15209),D=n(64029),w=n(32835),S=n(79851),L=n(34512),_=n(9043),I=n(47173),k=n(56787),R=n(84457),N=n(91845),C=function(e){var t,n,r=e.imageData,l=e.openUpdateWizard,c=(0,o.useState)(!1),u=a()(c,2),s=u[0],d=u[1],m=[i().createElement(R.h,{href:null==r||null===(t=r.Installer)||void 0===t?void 0:t.ImageBuildISOURL,key:"link"},i().createElement(p.x,{className:"force-text-black"},"Download"))];return i().createElement(i().Fragment,null,i().createElement(L.J,null,i().createElement(I.zx,{onClick:function(){l(r.ID)},variant:"secondary"},"Update"),(null==r||null===(n=r.Installer)||void 0===n?void 0:n.ImageBuildISOURL)?i().createElement(k.L,{position:"right",onSelect:function(){d((function(e){return!e}))},toggle:i().createElement(N.a,{onToggle:function(e){return d(e)},id:"image-detail-kebab"}),isOpen:s,isPlain:!0,dropdownItems:m}):null))};C.propTypes={openUpdateWizard:y().func,imageData:y().shape({ID:y().number,Name:y().string,Status:y().string,Installer:y().shape({ImageBuildISOURL:y().string})})};const T=C;var U=n(4147),F=function(e){var t=e.imageData,n=e.openUpdateWizard;return i().createElement(i().Fragment,null,i().createElement(D.a,null,i().createElement(w.g,null,i().createElement(c.Link,{to:U._j.gb},"Manage Images")),i().createElement(w.g,{isActive:!0},null==t?void 0:t.Name)),i().createElement(P.D,null,i().createElement(S.P,null,i().createElement(L.J,null,i().createElement(O.G,{component:"dl"},i().createElement(h.T,{component:"h1",className:"grid-align-center"},null==t?void 0:t.Name),i().createElement(h.T,{component:"dd"},(null==t?void 0:t.Status)?i().createElement(_.Z,{status:null==t?void 0:t.Status}):i().createElement(j.O,null)))),i().createElement(L.J,{isFilled:!0}),"SUCCESS"===(null==t?void 0:t.Status)?i().createElement(T,{imageData:t,openUpdateWizard:n}):null)))};F.propTypes={openUpdateWizard:y().func,imageData:y().shape({ID:y().number,Name:y().string,Status:y().string})};const A=F;var Z=n(41316),G=n(48099),x=n(29873),z=n(62410),B=n(68920);const J=function(){var e,t=(0,f.useSelector)((function(e){var t=e.imageDetailReducer;return{data:(null==t?void 0:t.data)||null}}),f.shallowEqual).data,n={"Image name":"Name",Version:"Version",Created:function(){return i().createElement(z.Z,{date:t.CreatedAt})},Release:function(){return B.aN[t.Distribution]},"Output type":function(){return B.bd[t.ImageType]},"Added packages":function(){return t.Commit.Packages.length}};return(null==t||null===(e=t.Installer)||void 0===e?void 0:e.Checksum)&&(n.Checksum=function(){var e;return null==t||null===(e=t.Installer)||void 0===e?void 0:e.Checksum}),i().createElement(P.D,{className:"pf-u-ml-lg pf-u-mt-md"},i().createElement(O.G,{component:O.F.dl},t?Object.entries(n).map((function(e){var n=a()(e,2),r=n[0],o=n[1];return i().createElement(i().Fragment,null,i().createElement(h.T,{component:h.v.dt},r),i().createElement(h.T,{component:h.v.dd},"function"==typeof o?o():t[o]))})):null))};var W=n(9947),q=n(60485),M=n(86748),H=n(57277),K=n(85564),V=n.n(K);const Q=function(){var e=(0,o.useState)(10),t=a()(e,2),n=t[0],r=t[1],l=(0,o.useState)(1),c=a()(l,2),u=c[0],s=c[1],d=(0,o.useState)({}),v=a()(d,2),g=v[0],E=v[1],b=(0,o.useState)([]),y=a()(b,2),O=y[0],h=y[1],j=(0,f.useSelector)((function(e){var t,n,r,a=e.imageDetailReducer;return{data:(null==a||null===(t=a.data)||void 0===t||null===(n=t.Commit)||void 0===n?void 0:n.Packages)||null,imageName:(null==a||null===(r=a.data)||void 0===r?void 0:r.Name)||null}}),f.shallowEqual),D=j.data,w=j.imageName,S=[{title:"Name",type:"name",transforms:[M.sortable]}],L=function(e){return e.map((function(e){return[{id:null==e?void 0:e.ID,rowArray:[e.Name],cells:[{title:i().createElement(P.D,null,i().createElement(p.x,{component:p.q.p},null==e?void 0:e.Name))}]}]}))};return(0,o.useEffect)((function(){h(null!==D&&D.length>0?V()(L(D.slice(0,n))):[{heightAuto:!0,cells:[{props:{colSpan:8},title:i().createElement(m.b,null,i().createElement(W.u,{variant:"small"},i().createElement(q.D,{headingLevel:"h2",size:"lg"},w," has no packages")))}]}])}),[D]),i().createElement(o.Fragment,null,D?i().createElement(H.Z,{pagination:{itemCount:(null==D?void 0:D.length)||0,page:u,perPage:n,onSetPage:function(e,t,n,r,a){s(t),h(V()(L(D.slice(r,a))))},onPerPageSelect:function(e,t,n,a,o){r(t),s(n),h(V()(L(D.slice(a,o))))},isCompact:!0}}):null,i().createElement(M.Table,{"aria-label":"Image packages table",ariaLabel:"packages table",variant:"compact",sortBy:g,onSort:function(e,t,r){var a=D.sort((function(e,t){return e.Name<t.Name?-1:e.Name>t.Name?1:0}));E({index:t,direction:r}),h(V()(L(r===M.SortByDirection.asc?a:a.reverse()).slice(0,n))),s(0)},cells:S,rows:O},i().createElement(M.TableHeader,null),i().createElement(M.TableBody,null)))},$=function(){var e=(0,o.useState)(0),t=a()(e,2),n=t[0],r=t[1];return i().createElement("div",{className:"edge-c-device--detail add-100vh"},i().createElement(Z.m,{className:"pf-u-ml-md",activeKey:n,onSelect:function(e,t){return r(t)}},i().createElement(G.O,{eventKey:0,title:i().createElement(x.T,null,"Details")},i().createElement(J,null)),i().createElement(G.O,{eventKey:1,title:i().createElement(x.T,null,"Packages")},i().createElement(Q,null))))};var X=i().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(46)]).then(n.bind(n,53010))}));const Y=function(){var e=(0,c.useParams)().imageId,t=(0,o.useContext)(v.g).getRegistry,n=(0,f.useDispatch)(),r=(0,c.useHistory)(),b=(0,o.useState)(!1),y=a()(b,2),O=y[0],h=y[1],P=(0,o.useState)({}),j=a()(P,2),D=j[0],w=j[1],S=(0,f.useSelector)((function(e){var t=e.imageDetailReducer;return{data:(null==t?void 0:t.data)||null}}),f.shallowEqual).data;return(0,o.useEffect)((function(){w(S)}),[S]),(0,o.useEffect)((function(){var r=t().register({imageDetailReducer:E.OD});return(0,g.J_)(n,e),function(){return r()}}),[n]),i().createElement(o.Fragment,null,i().createElement(l.Z,{className:"pf-m-light"},i().createElement(u.K,{hasGutter:!0},i().createElement(s.v,null,i().createElement(A,{imageData:D,openUpdateWizard:function(){r.push({pathname:r.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),h(!0)}}))),i().createElement(s.v,null,i().createElement(p.x,null,null==S?void 0:S.Description))),i().createElement($,null),O&&i().createElement(o.Suspense,{fallback:i().createElement(m.b,null,i().createElement(d.$,null))},i().createElement(X,{navigateBack:function(){r.push({pathname:r.location.pathname}),h(!1)},updateImageID:null==S?void 0:S.ID})))}},9043:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(1427),a=n.n(r),o=n(79851),i=n(34512),l=n(45697),c=n.n(l),u=n(68920),s=function(e){var t=e.status,n=u.Jl.unknown,r=u.Bh.unknown,l="Unknown";return u.sX.includes(t)&&(n=u.Jl[t],r=u.Bh[t],l=(l=u.mq[t]).charAt(0).toUpperCase()+l.slice(1).toLowerCase()),a().createElement(o.P,null,a().createElement(i.J,{className:"pf-u-mr-sm"},n(r)),a().createElement(i.J,null,l))};s.propTypes={status:c().oneOf(u.sX)};const p=s},68920:(e,t,n)=>{n.d(t,{sX:()=>u,az:()=>s,Jl:()=>p,Bh:()=>d,mq:()=>m,aN:()=>f,Ei:()=>v,bd:()=>g});var r=n(1427),a=n.n(r),o=n(35451),i=n(18802),l=n(77669),c=n(87673),u=["CREATED","BUILDING","ERROR","SUCCESS"],s="rhel-84",p={unknown:function(e){return a().createElement(c.ZP,{color:e})},CREATED:function(e){return a().createElement(o.ZP,{color:e})},BUILDING:function(e){return a().createElement(i.ZP,{color:e})},ERROR:function(e){return a().createElement(l.ZP,{color:e})},SUCCESS:function(e){return a().createElement(o.ZP,{color:e})}},d={unknown:"grey",CREATED:"green",BUILDING:"blue",ERROR:"red",SUCCESS:"green"},m={CREATED:"CREATED",BUILDING:"Image build in progress",ERROR:"ERROR",SUCCESS:"SUCCESS"},f={"rhel-84":"RHEL 8.4"},v={"rhel-84":"Red Hat Enterprise Linux (RHEL) 8.4"},g={"rhel-edge-commit":"RHEL for Edge Commit (.tar)","rhel-edge-installer":"RHEL for Edge Installer (.iso)"}},66702:(e,t,n)=>{n.d(t,{oj:()=>h,ot:()=>P,eK:()=>j,EV:()=>D,Bi:()=>w,py:()=>S,EC:()=>L,Z4:()=>_,g5:()=>I,Dk:()=>k});var r=n(50008),a=n.n(r),o=n(63038),i=n.n(o),l=n(87757),c=n.n(l),u=n(48926),s=n.n(u),p=n(59713),d=n.n(p),m=(n(319),n(58061)),f=n(93454),v=n(68004),g=n(35240);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y="/api/image-builder/v1",O="/api/edge/v1",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.limit,n=void 0===t?100:t,r=e.offset,a=void 0===r?0:r;return f.eE.get("".concat(y,"/composes?limit=").concat(n,"&offset=").concat(a))},P=function(e){var t=e.id;return f.eE.get("".concat(O,"/images/").concat(t))},j=function(){var e=s()(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v.HostsApi(void 0,"/api/inventory/v1/",f.eE),e.next=3,Promise.all([t.apiHostGetHostList(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,["fresh"],void 0,void 0,void 0,void 0,{query:b(b({},(0,g.h3)(m.Dx)),(0,g.h3)({system_profile:["host_type"]},"fields"))}),t.apiHostGetHostList(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,["stale"],void 0,void 0,void 0,void 0,{query:b(b({},(0,g.h3)(m.Dx)),(0,g.h3)({system_profile:["host_type"]},"fields"))}),t.apiHostGetHostList(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,["stale_warning"],void 0,void 0,void 0,void 0,{query:b(b({},(0,g.h3)(m.Dx)),(0,g.h3)({system_profile:["host_type"]},"fields"))}),t.apiHostGetHostList(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,["unknown"],void 0,void 0,void 0,void 0,{query:b(b({},(0,g.h3)(m.Dx)),(0,g.h3)({system_profile:["host_type"]},"fields"))})]).then((function(e){return e.reduce((function(e,t,n){return b(b({},e),{},d()({},m.k7[n],t.total))}),{})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=s()(c().mark((function e(t,n,r){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({distribution:t,architecture:n,search:r}),e.abrupt("return",(0,f.eE)("".concat(y,"/packages?").concat(a.toString())));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=function(e){var t=e.Id,n=e.name,r=e.version,a=e.description,o=e.release,l=e.architecture,c=e.username,u=e.credentials,s=e.imageType,p=e["selected-packages"],d=s||[],m=i()(d,1)[0];s.length>1&&(m="rhel-edge-installer");var v={name:n,version:r,description:a,distribution:o,imageType:m,outputTypes:s,commit:{arch:l,packages:p.map((function(e){return{name:e.name}}))},installer:{username:c,sshkey:u}},g="".concat(O,"/images");return r>1&&(g+="/".concat(t,"/update")),f.eE.post(g,v)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:100,offset:0,sort_by:"-created_at"},t=Object.keys(e).reduce((function(t,n){var r=void 0;return"object"===a()(e[n])&&"number"==typeof e[n].length&&e[n].length>0&&(r=e[n].reduce((function(e,t){return""===e?"".concat(n,"=").concat(t):"".concat(e,"&").concat(n,"=").concat(t)}),"")),["string","number"].includes(a()(e[n]))&&""!==e[n]&&(r="".concat(n,"=").concat(e[n])),void 0===r?t:""===t?"".concat(r):"".concat(t,"&").concat(r)}),"");return f.eE.get("".concat(O,"/images?").concat(t))},L=function(e){return f.eE.get("".concat(O,"/images/").concat(e,"/status"))},_=function(){var e=s()(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.eE.get("".concat(O,"/devices/").concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=s()(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.eE.post("".concat(O,"/updates"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return f.eE.get("".concat(O,"/updates/device/").concat(e,"/image"))}},58061:(e,t,n)=>{n.d(t,{Op:()=>O,E5:()=>h,pM:()=>P,I:()=>j,Jr:()=>D,k7:()=>w,Dx:()=>S});var r=n(59713),a=n.n(r),o=n(63038),i=n.n(o),l=n(68778),c=n(43047),u=n(69957),s=n(34143),p=n(53636),d=n(54340),m=n(17542),f=n(12990),v=n(37655),g=n(4088),E=n(14206);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=["done","error","pending","unknown","updating","warning","notification"],h={done:{icon:l.ZP,color:g.Z.value,title:"Fully adopted"},error:{icon:c.ZP,color:f.Z.value,title:"Error while adopting"},pending:{icon:p.ZP,title:"Pending adoption"},updating:{icon:d.ZP,title:"Updating"},unknown:{icon:m.ZP,title:"Unknown state"},warning:{icon:u.ZP,color:v.Z.value,title:"Warning while adopting"},notification:{icon:s.ZP,color:E.Z.value,title:"Delivering"}},P=function(e){return Object.values(e).find((function(e){var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.length)>0||(null==e?void 0:e.length)>0}))},j=function(e,t){return Object.entries(e).map((function(e){var n=i()(e,2),r=n[0],a=n[1],o=(a=void 0===a?{}:a).label,l=a.value;return{category:o,chipKey:r,chips:(null==l?void 0:l.length)>0?Array.isArray(l)?l.map((function(e){return{name:(null==t?void 0:t(e))||e,value:e}})):[{name:(null==t?void 0:t(l))||l,value:l}]:[]}}))},D=function(e,t){var n,r,o,i=t[0];return y(y({},e),{},a()({},null==i?void 0:i.chipKey,y(y({},e[null==i?void 0:i.chipKey]||{}),{},{value:Array.isArray(null===(n=e[null==i?void 0:i.chipKey])||void 0===n?void 0:n.value)?null===(r=e[null==i?void 0:i.chipKey])||void 0===r||null===(o=r.value)||void 0===o?void 0:o.filter((function(e){var t;return!(null==i||null===(t=i.chips)||void 0===t?void 0:t.find((function(t){return t.value===e})))})):""})))},w=["active","noReports","neverReported","orphaned"],S={system_profile:{host_type:"edge"}}},59086:(e,t,n)=>{n.d(t,{Cx:()=>l,Th:()=>c,sK:()=>u,wg:()=>s,tG:()=>p,FA:()=>d,zN:()=>m,Nv:()=>f,RD:()=>v,W5:()=>g,rQ:()=>E,Oi:()=>b,G:()=>y,Cz:()=>O,B_:()=>P});var r=n(24350),a=n.n(r),o=n(94654),i=n.n(o),l="LOAD_DEVICE_SUMMARY",c="LOAD_ACTIVE_IMAGES",u="LOAD_EDGE_IMAGES",s="LOAD_GROUPS",p="LOAD_GROUP_DETAIL",d="LOAD_TRESHOLD",m="LOAD_DEVICES_INFO",f="LOAD_CANARIES_INFO",v="LOAD_GROUP_DEVICES_INFO",g="LOAD_IMAGE_STATUS",E="LOAD_IMAGE_DETAIL",b="CREATE_NEW_IMAGE",y="".concat(b,"_RESET"),O="POLLING_IMAGES",h=i()([u,c,s,p,d,m,f,v,g,E,b],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),P=(a()(h,(function(e){return e})),"CLEAN_ENTITIES")},94778:(e,t,n)=>{n.d(t,{Qo:()=>o,lL:()=>i,MB:()=>l,J_:()=>c,Es:()=>u,Z5:()=>s,Fj:()=>p}),n(59713);var r=n(59086),a=n(66702),o=function(){return{type:r.B_}},i=function(e,t){e({type:r.Th,payload:(0,a.oj)(t),meta:{notifications:{rejected:{variant:"danger",title:"Can not show images data",description:"Failed receiving images from image-builder"}}}}).catch((function(){return null}))},l=function(e){e({type:r.Cx,payload:a.eK,meta:{notifications:{rejected:{variant:"danger",title:"Can not show device summary data",description:"Failed receiving device summary data from inventory"}}}}).catch((function(){return null}))},c=function(e,t){e({type:r.rQ,payload:(0,a.ot)({id:t})}).catch((function(){return null}))},u=function(e,t,n){e({type:r.Oi,payload:(0,a.Bi)(t)}).then(n).catch((function(){return null}))},s=function(e,t){e({type:r.sK,payload:(0,a.py)(t)}).catch((function(){return null}))},p=function(e){var t=e.id,n=e.name;return{type:"".concat(r.Cz,"_ADD"),payload:{name:n,id:t}}}},96667:(e,t,n)=>{n.d(t,{Ch:()=>te,mR:()=>s,QJ:()=>b,OD:()=>w,b4:()=>f});var r,a=n(59713),o=n.n(a),i=n(18546),l=n(59086);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s=(0,i.Gg)((r={},o()(r,"".concat(l.Cx,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,data:null}})),o()(r,"".concat(l.Cx,"_FULFILLED"),(function(e,t){var n=t.payload;return u(u({},e),{},{isLoading:!1,hasError:!1,data:n})})),o()(r,"".concat(l.Cx,"_REJECTED"),(function(){return{isLoading:!1,hasError:!0,data:"No device summary data to view"}})),r),{});var p;function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=(0,i.Gg)((p={},o()(p,"".concat(l.Th,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,data:null}})),o()(p,"".concat(l.Th,"_FULFILLED"),(function(e,t){var n=t.payload;return m(m({},e),{},{isLoading:!1,hasError:!1,data:n})})),o()(p,"".concat(l.Th,"_REJECTED"),(function(){return{isLoading:!1,hasError:!0,data:"No images to view"}})),p),{});var v;function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const b=(0,i.Gg)((v={},o()(v,"".concat(l.sK,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,data:null}})),o()(v,"".concat(l.sK,"_FULFILLED"),(function(e,t){var n=t.payload;return E(E({},e),{},{isLoading:!1,hasError:!1,data:n})})),o()(v,"".concat(l.sK,"_REJECTED"),(function(e,t){var n=t.payload;return E(E({},e),{},{isLoading:!1,hasError:!0,data:n})})),v),{});var y,O;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,i.Gg)((y={},o()(y,"".concat(l.W5,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,data:null}})),o()(y,"".concat(l.W5,"_FULFILLED"),(function(e,t){var n=t.payload;return P(P({},e),{},{isLoading:!1,hasError:!1,data:n})})),o()(y,"".concat(l.W5,"_REJECTED"),(function(){return{isLoading:!1,hasError:!0,data:"No image status to view"}})),y),{});const w=(0,i.Gg)((O={},o()(O,"".concat(l.rQ,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,data:null}})),o()(O,"".concat(l.rQ,"_FULFILLED"),(function(e,t){var n=t.payload;return D(D({},e),{},{isLoading:!1,hasError:!1,data:n})})),o()(O,"".concat(l.rQ,"_REJECTED"),(function(){return{isLoading:!1,hasError:!0,data:"No image detail to view"}})),O),{});var S,L,_,I;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,i.Gg)((S={},o()(S,"".concat(l.wg,"_PENDING"),(function(e){return R(R({},e),{},{groups:[],isLoading:!0})})),o()(S,"".concat(l.wg,"_FULFILLED"),(function(e,t){var n=t.payload;return R(R({},e),{},{isLoading:!1,groups:(null==n?void 0:n.results)||[],meta:(null==n?void 0:n.meta)||{}})})),S),{}),(0,i.Gg)((L={},o()(L,"".concat(l.FA,"_PENDING"),(function(e){return C(C({},e),{},{threshold:{},isLoading:!0})})),o()(L,"".concat(l.FA,"_FULFILLED"),(function(e,t){var n=t.payload;return C(C({},e),{},{threshold:(null==n?void 0:n.results)||{},isLoading:!1})})),L),{}),(0,i.Gg)((_={},o()(_,"".concat(l.zN,"_PENDING"),(function(e){return U(U({},e),{},{devicesInfo:{},isLoading:!0})})),o()(_,"".concat(l.zN,"_FULFILLED"),(function(e,t){var n=t.payload;return U(U({},e),{},{devicesInfo:(null==n?void 0:n.results)||{},isLoading:!1})})),_),{}),(0,i.Gg)((I={},o()(I,"".concat(l.Nv,"_PENDING"),(function(e){return A(A({},e),{},{canariesInfo:[],isLoading:!0})})),o()(I,"".concat(l.Nv,"_FULFILLED"),(function(e,t){var n=t.payload;return A(A({},e),{},{canariesInfo:(null==n?void 0:n.results)||[],isLoading:!1})})),I),{}),n(63038);var Z=n(1427),G=n.n(Z),x=(n(67154),n(6479)),z=n.n(x),B=n(45697),J=n.n(B),W=n(58061);n(17542),n(44479);J().oneOf(W.Op);var q,M,H,K=n(99332),V=n(21314),Q=function(e){var t=e.isSecure,n=z()(e,["isSecure"]),r=t?K.ZP:V.ZP;return G().createElement(r,n)};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Q.propTypes={isSecure:J().bool},Q.defaultProps={isSecure:!1},(0,i.Gg)((q={},o()(q,"".concat(l.tG,"_PENDING"),(function(e){return X(X({},e),{},{isLoading:!0})})),o()(q,"".concat(l.tG,"_FULFILLED"),(function(e,t){var n=t.payload;return X(X({},e),{},{isLoading:!1,name:(null==n?void 0:n.name)||"",uuid:(null==n?void 0:n.uuid)||"",devices:(null==n?void 0:n.results)||[],meta:(null==n?void 0:n.meta)||{}})})),q),{}),(0,i.Gg)((M={},o()(M,"".concat(l.RD,"_PENDING"),(function(e){return ee(ee({},e),{},{devicesInfo:{},isLoading:!0})})),o()(M,"".concat(l.RD,"_FULFILLED"),(function(e,t){var n=t.payload;return ee(ee({},e),{},{devicesInfo:n,isLoading:!1})})),M),{});const te=(0,i.Gg)((H={},o()(H,"".concat(l.Oi,"_PENDING"),(function(){return{isLoading:!0,hasError:!1,error:null}})),o()(H,"".concat(l.Oi,"_FULFILLED"),(function(){return{isLoading:!1,hasError:!1,error:null}})),o()(H,"".concat(l.Oi,"_REJECTED"),(function(e,t){return{isLoading:!1,hasError:!0,error:t.payload}})),o()(H,"".concat(l.Oi,"_RESET"),(function(){return{isLoading:!1,hasError:!1,error:null}})),H),{})}}]);
//# sourceMappingURL=../sourcemaps/GroupsDetailPage.56c2857ff2bc3e25e39d.js.map