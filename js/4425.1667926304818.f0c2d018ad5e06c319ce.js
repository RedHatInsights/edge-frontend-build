(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[4425,46],{44008:(e,t,n)=>{"use strict";n.d(t,{Fg:()=>l,TI:()=>i,ZP:()=>o});var a=n(40400);const l={name:"CopyIcon",height:512,width:448,svgPath:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z",yOffset:0,xOffset:0},i=(0,a.IU)(l),o=i},2466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(37625);const a={button:"pf-c-button",clipboardCopy:"pf-c-clipboard-copy",clipboardCopyActions:"pf-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-c-clipboard-copy__group",clipboardCopyText:"pf-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-c-clipboard-copy__toggle-icon",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-theme-dark"}},53010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var a=n(93433),l=n(4942),i=n(15861),o=n(29439),r=n(64687),c=n.n(r),u=n(92950),s=n.n(u),d=n(69185),m=n(96354),v=n(52251),p=n(52643),g=n(29390),f=n(2372),E=n(45697),h=n.n(E),b=n(20873),y=n(94778),I=n(86706),S=n(59245),k=n(5230),D=n(93597),w=n(83215),O=n(48903),C=n(98309);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t,n,l,r,E,h,T,L,N,P,_,Z,j,x,A,V,R,F=e.navigateBack,B=e.updateImageID,W=e.reload,z=(0,u.useState)(),G=(0,o.Z)(z,2),H=G[0],M=G[1],q=(0,I.I0)(),K=function(){F(),W&&W()},J=(0,O.gV)("fleet-management.temporary-releases"),$=(0,u.useContext)(S.g).getRegistry,Y=(0,I.v9)((function(e){var t=e.imageDetailReducer;return{data:(null==t?void 0:t.data)||null}}),I.wU).data;return(0,u.useEffect)((function(){var e=$().register({imageDetailReducer:k.OD});return B&&(0,y.J_)(q,B),function(){return e()}}),[q]),(0,u.useEffect)((function(){(0,i.Z)(c().mark((function e(){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=insights)||void 0===t||null===(n=t.chrome)||void 0===n||null===(a=n.auth)||void 0===a||a.getUser().then((function(e){return M(null!=e?e:{})}));case 1:case"end":return e.stop()}}),e)})))()}),[]),H&&Y?s().createElement(d.Z,{onClose:K,customComponentMapper:{review:b.Z},onSubmit:function(e){var t,n,a,l,i,o=e.values;(0,e.setIsSaving)((function(){return!0}));var r=U(U({},o),{},{Id:null==Y||null===(t=Y.image)||void 0===t?void 0:t.ID,name:null==Y||null===(n=Y.image)||void 0===n?void 0:n.Name,version:(null==Y||null===(a=Y.image)||void 0===a?void 0:a.Version)+1,architecture:"x86_64",credentials:o.credentials?o.credentials:null==Y||null===(l=Y.image)||void 0===l?void 0:l.Installer.SshKey,username:o.username?o.username:null==Y||null===(i=Y.image)||void 0===i?void 0:i.Installer.Username});(0,y.Es)(q,r,(function(e){q(U(U({},(0,w.wN)({variant:"info",title:"Update image",description:"".concat(e.value.Name," image was added to the queue.")})),{},{meta:{polling:{id:"FETCH_IMAGE_".concat(e.value.ID,"_BUILD_STATUS"),fetcher:function(){return(0,D.EC)(e.value.ID)},condition:function(e){switch(e.Status){case"BUILDING":return[!0,""];case"ERROR":return[!1,"failure"];default:return[!1,"success"]}},onEvent:{failure:[function(t){return t((0,w.wN)({variant:"danger",title:"Image build failed",description:"".concat(e.value.Name," image build is completed unsuccessfully")}))}],success:[function(t){return t((0,w.wN)({variant:"success",title:"Image is ready",description:"".concat(e.value.Name," image build is completed")}))}]}}}})),K(),q((0,y.Fj)({name:Y.value.Name,id:Y.value.ID}))}))},defaultArch:"x86_64",initialValues:{imageID:null==Y?void 0:Y.image.ID,name:null==Y||null===(t=Y.image)||void 0===t?void 0:t.Name,isUpdate:!0,description:null==Y||null===(n=Y.image)||void 0===n?void 0:n.Description,credentials:null==Y||null===(l=Y.image)||void 0===l?void 0:l.Installer.SshKey,username:null==Y||null===(r=Y.image)||void 0===r?void 0:r.Installer.Username,version:null==Y||null===(E=Y.image)||void 0===E?void 0:E.Version,release:null==Y||null===(h=Y.image)||void 0===h?void 0:h.Distribution,release_options:J?(0,O.pS)(null==Y||null===(T=Y.image)||void 0===T?void 0:T.Distribution,[].concat((0,a.Z)(C.vk),(0,a.Z)(C.R8))):(0,O.pS)(null==Y||null===(L=Y.image)||void 0===L?void 0:L.Distribution),imageType:["rhel-edge-commit"],"selected-packages":null==Y||null===(N=Y.image)||void 0===N||null===(P=N.Packages)||void 0===P?void 0:P.map((function(e){return U(U({},e),{},{name:e.Name})})),"third-party-repositories":null==Y||null===(_=Y.image)||void 0===_||null===(Z=_.ThirdPartyRepositories)||void 0===Z?void 0:Z.map((function(e){return U({id:e.ID,name:e.Name},e)})),"initial-custom-repositories":null==Y||null===(j=Y.image)||void 0===j||null===(x=j.ThirdPartyRepositories)||void 0===x?void 0:x.map((function(e){return U({id:e.ID,name:e.Name},e)})),"custom-packages":null==Y||null===(A=Y.image)||void 0===A||null===(V=A.CustomPackages)||void 0===V?void 0:V.map((function(e){return U(U({},e),{},{name:e.Name})}))},test:"",schema:{fields:[{component:m.Z.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Update image"},showTitles:!0,title:"Update image: ".concat(null==Y||null===(R=Y.image)||void 0===R?void 0:R.Name),crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[v.bR,v.Ud,v.l9,v.jS,v.B9,v.jS,v.j7,v.Sp]}]}}):s().createElement(g.Y,null,s().createElement(p.b,null,s().createElement(f.$,{isSVG:!0,diameter:"100px"})))};L.propTypes={navigateBack:h().func,updateImageID:h().number,reload:h().func},L.defaultProps={navigateBack:function(){}};const N=L},12877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>be});var a=n(4942),l=n(29439),i=n(92950),o=n.n(i),r=n(80123),c=n(49739),u=n(83826),s=n(2372),d=n(52643),m=n(96620),v=n(45697),p=n.n(v),g=n(68340),f=n(25834),E=n(78140),h=n(68774),b=n(15209),y=n(64029),I=n(32835),S=n(79851),k=n(34512),D=n(56787),w=n(84457),O=n(75728),C=n(99355),T=n(16545),U=n(35681),L=n(9192),N=n(5964),P=n(62410),_=function(e,t,n,a){var l,i=t||(null==e?void 0:e.LastImageDetails),r=[];return(null==i||null===(l=i.image)||void 0===l?void 0:l.ID)&&r.push(o().createElement(w.h,{key:"create-new-version-button",component:"button",onClick:function(){var e;return a(null==i||null===(e=i.image)||void 0===e?void 0:e.ID)}},"Create new version")),n&&r.push(o().createElement(w.h,{key:"download-button",component:"button"},o().createElement(g.x,{className:"force-text-black remove-underline",component:"a",href:n,rel:"noopener noreferrer",target:"_blank"},"Download installable .iso for newest image"))),r},Z=function(e){var t,n,a,r,c,u,s,d,v,p,g,w,Z,j,x,A,V,R,F,B=e.imageData,W=e.imageVersion,z=e.openUpdateWizard,G=(0,i.useState)(!1),H=(0,l.Z)(G,2),M=H[0],q=H[1],K=(0,i.useState)({}),J=(0,l.Z)(K,2),$=J[0],Y=J[1];(0,i.useEffect)((function(){Y(null==B?void 0:B.data)}),[B]);var Q="Actions for image set details view",X="image-set-details-dropdown";return o().createElement(o().Fragment,null,!B.isLoading&&B.hasError?o().createElement(y.a,null,o().createElement(I.g,null,o().createElement(m.Link,{to:L._["manage-images"]},"Back to Manage Images"))):o().createElement(o().Fragment,null,o().createElement(y.a,null,o().createElement(I.g,null,o().createElement(m.Link,{to:L._["manage-images"]},"Manage Images")),W?o().createElement(I.g,null,o().createElement(m.Link,{to:"".concat(L._["manage-images"],"/").concat(null==$||null===(t=$.ImageSet)||void 0===t?void 0:t.ID)},null==$||null===(n=$.ImageSet)||void 0===n?void 0:n.Name)):o().createElement(I.g,{isActive:!0},(null==$||null===(a=$.ImageSet)||void 0===a?void 0:a.Name)||o().createElement(b.O,{width:"100px"})),W&&o().createElement(I.g,{isActive:!0},null==W||null===(r=W.image)||void 0===r?void 0:r.Version)),o().createElement(h.D,null,o().createElement(S.P,null,o().createElement(k.J,null,o().createElement(f.G,{component:"dl"},o().createElement(E.T,{component:"h1",className:"grid-align-center pf-u-mb-0"},(null==$||null===(c=$.ImageSet)||void 0===c?void 0:c.Name)||o().createElement(b.O,{width:"150px"})),o().createElement(E.T,{className:"pf-u-pt-sm",component:"dd"},null!=W&&null!==(u=W.image)&&void 0!==u&&u.Status||null!=$&&null!==(s=$.LastImageDetails)&&void 0!==s&&null!==(d=s.image)&&void 0!==d&&d.Status?o().createElement(U.Z,{type:W?null==W||null===(v=W.image)||void 0===v?void 0:v.Status.toLowerCase():null==$||null===(p=$.LastImageDetails)||void 0===p||null===(g=p.image)||void 0===g?void 0:g.Status.toLowerCase()}):o().createElement(b.O,{width:"100px"})),null!=W&&null!==(w=W.image)&&void 0!==w&&w.UpdatedAt||null!=$&&null!==(Z=$.LastImageDetails)&&void 0!==Z&&null!==(j=Z.image)&&void 0!==j&&j.UpdatedAt?o().createElement(E.T,{component:"p"},"Last updated ",o().createElement(P.Z,{date:W?null==W||null===(x=W.image)||void 0===x?void 0:x.UpdatedAt:null==$||null===(A=$.LastImageDetails)||void 0===A||null===(V=A.image)||void 0===V?void 0:V.UpdatedAt})):o().createElement(b.O,{width:"200px"}))),o().createElement(k.J,{isFilled:!0}),o().createElement(k.J,null,o().createElement(D.L,{position:C.ir.right,toggle:o().createElement(O.Z,{id:X,toggleIndicator:N.ZP,onToggle:function(e){return q(e)},isDisabled:"BUILDING"===(W?null==W||null===(R=W.image)||void 0===R?void 0:R.Status:null==$||null===(F=$.LastImageDetails)||void 0===F?void 0:F.image.Status)||!1,"aria-label":Q},o().createElement(T.u,{content:Q,reference:function(){return document.getElementById(X)}}),"Actions"),isOpen:M,dropdownItems:_($,W,null==$?void 0:$.ImageBuildIsoURL,z)}))))))};Z.propTypes={imageData:p().object,imageVersion:p().object,openUpdateWizard:p().func};const j=Z;var x=n(35262),A=n(28883),V=n(29873),R=n(93433),F=n(50693),B=n(16475),W=n(66435),z=n(98309),G=function(e){var t,n,a,r,c=e.imageData,u=e.imageVersion,s=(0,i.useState)({}),d=(0,l.Z)(s,2),v=d[0],p=d[1];(0,i.useEffect)((function(){var e;p(u||(null==c||null===(e=c.data)||void 0===e?void 0:e.LastImageDetails))}),[c,u]);var y=function(e){return(0,R.Z)(Array(2*e)).map((function(e,t){return o().createElement(b.O,{width:"180px",key:t})}))},I={Version:"Version",Created:function(){return o().createElement(P.Z,{date:null==v||null===(e=v.image)||void 0===e?void 0:e.CreatedAt});var e},"Type(s)":function(){var e,t;return null==v||null===(e=v.image)||void 0===e||null===(t=e.OutputTypes)||void 0===t?void 0:t.map((function(e,t){return o().createElement("div",{key:t},e)}))},Release:function(){var e;return null===z.aN||void 0===z.aN?void 0:z.aN[null==v||null===(e=v.image)||void 0===e?void 0:e.Distribution]},Description:"Description"},S={Username:function(){var e,t;return null==v||null===(e=v.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Username},"SSH key":function(){var e,t;return null==v||null===(e=v.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.SshKey}},k={"Total additional packages":function(){var e,t;return o().createElement(m.Link,{to:"".concat(L._["manage-images"],"/").concat(null==v||null===(e=v.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==v||null===(t=v.image)||void 0===t?void 0:t.ID,"/packages/additional")},null==v?void 0:v.additional_packages)},"Total packages":function(){var e,t;return o().createElement(m.Link,{to:"".concat(L._["manage-images"],"/").concat(null==v||null===(e=v.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==v||null===(t=v.image)||void 0===t?void 0:t.ID,"/packages/all")},null==v?void 0:v.packages)}},D={Added:function(){return null==v?void 0:v.update_added},Removed:function(){return null==v?void 0:v.update_removed},Updated:function(){return null==v?void 0:v.update_updated}};null!=v&&null!==(t=v.image)&&void 0!==t&&null!==(n=t.Installer)&&void 0!==n&&n.Checksum&&(I["SHA-256 checksum"]=function(){var e,t;return null==v||null===(e=v.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Checksum}),null!=v&&null!==(a=v.image)&&void 0!==a&&null!==(r=a.Commit)&&void 0!==r&&r.OSTreeCommit&&(I["Ostree commit hash"]=function(){var e,t;return null==v||null===(e=v.image)||void 0===e||null===(t=e.Commit)||void 0===t?void 0:t.OSTreeCommit});var w=function(e){return v?Object.entries(e).map((function(e,t){var n,a,r=(0,l.Z)(e,2),c=r[0],u=r[1];return o().createElement(i.Fragment,{key:t},o().createElement(E.T,{className:"details-label",component:E.v.dt},c),"SHA-256 checksum"===c||"Ostree commit hash"===c||"SSH key"===c&&u()?o().createElement(E.T,{component:E.v.dd},o().createElement(W.M5,{hoverTip:"Copy",clickTip:"Copied",variant:"expansion",className:"pf-u-text-break-word",id:"".concat(c.replace(/\s+/g,"-").toLowerCase(),"-clipboard-copy")},"function"==typeof u?u()||"Unavailable":(null==v||null===(n=v.image)||void 0===n?void 0:n[u])||"Unavailable")):o().createElement(E.T,{className:"pf-u-text-break-word",component:E.v.dd},"function"==typeof u?0===u()?0:u()||"Unavailable":(null==v||null===(a=v.image)||void 0===a?void 0:a[u])||"Unavailable"))})):null};return o().createElement(h.D,{className:"pf-u-ml-lg pf-u-mt-md"},o().createElement(F.r,{span:12},o().createElement(B.P,{span:5},o().createElement(g.x,{component:g.q.h2},u?"Details":"Most recent image"),o().createElement(f.G,{component:f.F.dl},w(I)||y(6)),o().createElement(g.x,{component:g.q.h2},"User information "),o().createElement(f.G,{component:f.F.dl},w(S)||y(2))),o().createElement(B.P,{span:1}),o().createElement(B.P,{span:6},o().createElement(g.x,{component:g.q.h2},"Packages "),o().createElement(f.G,{component:f.F.dl},w(k)||y(3)),o().createElement(g.x,{component:g.q.h2},"Changes from previous version"),o().createElement(f.G,{component:f.F.dl},w(D)||y(3)))))};G.propTypes={imageData:p().object,imageVersion:p().object};const H=G;var M=n(73448),q=n(93597),K=n(94973),J=n(14748),$=n(48903),Y=n(96094),Q=[{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],X=[{title:"Version",type:"version",sort:!0,columnTransforms:[(0,K.cellWidth)(15)]},{title:"Output",type:"image_type",sort:!1,columnTransforms:[(0,K.cellWidth)(25)]},{title:"Ostree commit hash",type:"ostree_commit_hash",sort:!1,columnTransforms:[(0,K.cellWidth)(20)]},{title:"Created",type:"created_at",sort:!0,columnTransforms:[(0,K.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,K.cellWidth)(35)]}],ee=function(e,t,n){return null==e?void 0:e.map((function(e){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,isoURL:null==e?void 0:e.ImageBuildIsoURL,latestImageVersion:n,currentImageVersion:e.Version},noApiSortFilter:[null==e?void 0:e.Version,z.bd[null==e?void 0:e.ImageType],null==e?void 0:e.CreatedAt,null==e?void 0:e.Status],cells:[{title:o().createElement(m.Link,{to:"".concat(L._["manage-images"],"/").concat(t,"/versions/").concat(e.ID,"/details")},null==e?void 0:e.Version)},{title:z.bd[null==e?void 0:e.ImageType]},{title:null!=e&&e.CommitCheckSum?o().createElement(T.u,{content:o().createElement("div",null,e.CommitCheckSum)},o().createElement("span",null,(0,$.aS)(e.CommitCheckSum,5,5))):o().createElement(g.x,null,"Unavailable")},{title:o().createElement(P.Z,{date:null==e?void 0:e.CreatedAt})},{title:o().createElement(U.Z,{type:null==e?void 0:e.Status.toLowerCase()})}]}}))},te=function(e){var t,n,a,i,r=e.imageData,c=e.openUpdateWizard,u=null==r||null===(t=r.data)||void 0===t||null===(n=t.ImageSet)||void 0===n?void 0:n.ID,s=null==r||null===(a=r.data)||void 0===a||null===(i=a.ImageSet)||void 0===i?void 0:i.Version,d=(0,Y.Z)({api:function(e){var t=e.query;return(0,q.dj)({imageSetID:u,query:t})},tableReload:!0}),m=(0,l.Z)(d,2),v=m[0],p=m[1],f=v.data,E=v.isLoading,h=v.hasError;return o().createElement(J.Z,{className:"add-100vh"},o().createElement(M.Z,{apiFilterSort:!0,isUseApi:!0,filters:Q,loadTableData:p,tableData:{count:null==f?void 0:f.count,data:null==f?void 0:f.data,isLoading:E,hasError:h},columnNames:X,rows:ee(null==f?void 0:f.data,u,s),actionResolver:function(e){var t,n,a,l,i,r,u,s=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&s.push({title:o().createElement(g.x,{className:"force-text-black remove-underline",component:"a",href:e.rowInfo.isoURL,rel:"noopener noreferrer",target:"_blank"},"Download")}),("SUCCESS"===(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)||"ERROR"===(null===(a=e.rowInfo)||void 0===a?void 0:a.imageStatus))&&s.push({title:"Update Image",onClick:function(e,t,n){c(n.rowInfo.id)},isDisabled:(null==e||null===(r=e.rowInfo)||void 0===r?void 0:r.latestImageVersion)!==(null==e||null===(u=e.rowInfo)||void 0===u?void 0:u.currentImageVersion)}),"BUILDING"===(null===(l=e.rowInfo)||void 0===l?void 0:l.imageStatus)&&null!==(i=e.rowInfo)&&void 0!==i&&i.id&&s.push({title:""}),s},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:3,direction:"desc"}}))};te.propTypes={imageData:p().object,urlParam:p().string,imageSetID:p().number,createRows:p().func,openUpdateWizard:p().func};const ne=te;var ae=n(47173),le=n(15265),ie=n(3035),oe=[{label:"Name",type:"text"}],re=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,K.cellWidth)(35)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,K.cellWidth)(25)]},{title:"Release",type:"release",sort:!1,columnTransforms:[(0,K.cellWidth)(35)]}],ce=function(e){var t=e.distribution,n=e.installedPackages,a=e.addedPackages;return(0===e.showAll?n.filter((function(e){return(null==a?void 0:a.filter((function(t){return e.name===t.Name})).length)>0})):n).map((function(e){return{noApiSortFilter:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release],cells:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release,{title:o().createElement("a",{href:"https://access.redhat.com/downloads/content/rhel---".concat(t,"/x86_64/7416/").concat(null==e?void 0:e.name,"/").concat(null==e?void 0:e.version,"-").concat(null==e?void 0:e.release,"/").concat(null==e?void 0:e.arch,"/fd431d51/package"),target:"_blank",rel:"noopener noreferrer"},o().createElement(ae.zx,{variant:"link",isSmall:!0,icon:o().createElement(le.ZP,null),iconPosition:"right"},"More information"))}]}}))},ue={0:"additional",1:"all"},se={additional:0,all:1},de=function(e){var t,n,a,r,c,u,s,d,v,p=e.imageVersion,g=(0,m.useLocation)(),f=(0,m.useHistory)(),E=g.pathname.split("/"),h=7===E.length?se[E[6]]:1,b=null==p||null===(t=p.image)||void 0===t||null===(n=t.Distribution)||void 0===n?void 0:n.split("-")[1].slice(0,-1),y=(0,i.useState)({}),I=(0,l.Z)(y,2),S=I[0],k=I[1],D=(0,i.useState)(h),w=(0,l.Z)(D,2),O=w[0],C=w[1];return(0,i.useEffect)((function(){k(p)}),[p]),(0,i.useEffect)((function(){E[5]!==ue[O]&&C(h)}),[E]),"SUCCESS"===(null==p||null===(a=p.image)||void 0===a||null===(r=a.Commit)||void 0===r?void 0:r.Status)?o().createElement(J.Z,{className:"add-100vh"},o().createElement(M.Z,{apiFilterSort:!1,filters:oe,tableData:{count:0===O?null==S?void 0:S.additional_packages:null==S?void 0:S.packages,isLoading:!1,hasError:!1},columnNames:re,rows:null!=S&&null!==(c=S.image)&&void 0!==c&&null!==(u=c.Commit)&&void 0!==u&&u.InstalledPackages?ce({distribution:b,installedPackages:null==S||null===(s=S.image)||void 0===s||null===(d=s.Commit)||void 0===d?void 0:d.InstalledPackages,addedPackages:null==S||null===(v=S.image)||void 0===v?void 0:v.Packages,showAll:O}):[],actionResolver:function(){return[]},areActionsDisabled:function(){return!0},defaultSort:{index:0,direction:"asc"},toggleButton:[{title:"Additional",key:0},{title:"All",key:1}],toggleAction:function(e){var t,n=null===(t=E[5])||void 0===t?void 0:t.toLowerCase();C(e),"packages"===n&&(7===E.length?E[6]=ue[e]:E.push(ue[e]),f.push(E.join("/")))},toggleState:O,emptyFilterState:{icon:"search",title:"No packages to display"}})):o().createElement(J.Z,{className:"add-100vh"},o().createElement(ie.Z,{bgColor:"white",title:"Package data currently unavailable",body:"Packages will be displayed as soon as the image is finished being built.",primaryAction:null,secondaryActions:[]}))};de.propTypes={imageVersion:p().object};const me=de;var ve={details:0,packages:1,versions:1},pe=function(e){var t=e.imageData,n=e.openUpdateWizard,a=e.imageVersion,r=e.isLoading,c=(0,m.useLocation)(),u=(0,m.useHistory)(),s=(0,i.useState)(ve.details),d=(0,l.Z)(s,2),v=d[0],p=d[1],g=a?"imageTab":"imageSetTab",f=(0,$.Ff)(c.pathname,["baseURL","imageSetVersion","imageSetTab","imageVersion","imageTab","packagesToggle"]);return(0,i.useEffect)((function(){f.imageTab?p(ve[f.imageTab]):p(ve[f.imageSetTab])}),[c.pathname]),o().createElement(o().Fragment,null,!t.isLoading&&t.hasError?o().createElement(ie.Z,{icon:"question",title:"Image not found",body:"Please check you have the correct link with the correct image Id.",primaryAction:{text:"Back to Manage Images",href:L._["manage-images"]},secondaryActions:[]}):o().createElement("div",{className:"edge-c-device--detail add-100vh"},o().createElement(x.m,{className:"pf-u-ml-md",activeKey:v,onSelect:function(e,t){var n=0===t?"details":a?"packages":"versions";f[g]=n,u.push(f.buildUrl()),p(t)}},o().createElement(A.O,{eventKey:ve.details,title:o().createElement(V.T,null,"Details")},o().createElement(H,{imageData:t,imageVersion:a})),r?o().createElement(A.O,{title:o().createElement(V.T,null,o().createElement(b.O,{width:"75px"}))}):a?o().createElement(A.O,{eventKey:ve.packages,title:o().createElement(V.T,null,"Packages")},o().createElement(me,{imageVersion:a})):o().createElement(A.O,{eventKey:ve.versions,title:o().createElement(V.T,null,"Versions")},o().createElement(ne,{imageData:t,openUpdateWizard:n})))))};pe.propTypes={imageData:p().object,imageVersion:p().object,openUpdateWizard:p().func,isLoading:p().bool};const ge=pe;var fe=n(53010);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const be=function(){var e=(0,m.useParams)(),t=e.imageId,n=e.imageVersionId,a=(0,m.useHistory)(),v=(0,i.useState)({isOpen:!1,updateId:null}),p=(0,l.Z)(v,2),g=p[0],f=p[1],E=(0,i.useState)(null),h=(0,l.Z)(E,2),b=h[0],y=h[1],I=(0,Y.Z)({api:q.L0,id:n?"".concat(t,"/versions/").concat(n):"".concat(t),tableReload:!0}),S=(0,l.Z)(I,2),k=S[0],D=S[1],w=k.data,O=k.isLoading,C=function(e){a.push({pathname:a.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),f((function(t){return he(he({},t),{},{isOpen:!t.isLoading,updateId:e})}))};return(0,i.useEffect)((function(){y(n?null==w?void 0:w.ImageDetails:null)}),[k,n]),(0,i.useEffect)((function(){D()}),[t,n]),o().createElement(i.Fragment,null,o().createElement(r.Z,{className:"pf-m-light"},o().createElement(c.K,{hasGutter:!0},o().createElement(u.v,null,o().createElement(j,{imageData:k,imageVersion:b,openUpdateWizard:C})))),o().createElement(ge,{imageData:k,urlParam:t,imageVersion:b,openUpdateWizard:C,isLoading:O}),g.isOpen&&o().createElement(i.Suspense,{fallback:o().createElement(d.b,null,o().createElement(s.$,null))},o().createElement(fe.default,{navigateBack:function(){a.push({pathname:a.location.pathname}),f((function(e){return he(he({},e),{},{isOpen:!1})}))},updateImageID:g.updateId})))}},37625:()=>{}}]);