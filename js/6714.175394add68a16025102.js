(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[6714],{37560:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(74848),a=n(44914),o=n.n(a),c=n(66576),i=n(55318),s=n(932),u=n(46942),l=n.n(u),p=function(){return p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},p.apply(this,arguments)},d=function(e){var t=e.appName,n=e.scope,a=e.module,o=e.fallback,u=void 0===o?(0,r.jsx)(i.a,{children:(0,r.jsx)(s.y,{size:"xl"})}):o,d=e.innerRef,f=e.className,m=e.component,v=void 0===m?"section":m,g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["appName","scope","module","fallback","innerRef","className","component"]),y=p({className:f,appName:t,module:a,scope:null!=n?n:t,ref:d,fallback:u},g);return(0,r.jsx)(v,{className:l()(f,t),children:(0,r.jsx)(c.ScalprumComponent,p({},y))})};const f=o().forwardRef((function(e,t){return(0,r.jsx)(d,p({innerRef:t},e))}))},10912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ce});var r=n(60436),a=n(10467),o=n(64467),c=n(5544),i=n(58168),s=n(54756),u=n.n(s),l=n(44914),p=n.n(l),d=n(83241),f=n(16401),m=n(20881),v=n(37742),g=n(5556),y=n.n(g),h=n(95658),b=n(57502),E=n(56899),A=n(38221),O=n.n(A),D=n(59257),I=n(49318),S=n(5029),w=n(18960),_=n(38877),k=n(81558),M=n(43085),P=n(27471),j=n(76021),T=n(17427),N=n(39440);const L=function(e){(0,_.A)(e);var t=(0,j.A)(!1),n=(0,c.A)(t,1)[0],r=(0,T.h)(N.QX),a=(0,k.default)().change,o=(0,l.useState)(!1),i=(0,c.A)(o,2),s=i[0],u=i[1],d=(0,l.useState)(null),f=(0,c.A)(d,2),m=f[0],v=f[1],g=(0,M.A)({api:n?P.Df:P.f,tableReload:!0}),y=(0,c.A)(g,4),h=y[0],b=h.data,E=h.isLoading,A=y[1],L=y[2],x=y[3],G=(0,l.useState)(""),R=(0,c.A)(G,2),C=R[0],U=R[1],F=function(e){v(e),u(!1),a("group",e)},H=function(){U(""),A(),F(null)};(0,l.useEffect)((function(){x((function(){return n?P.Df:P.f}))}),[n]),(0,l.useEffect)((function(){H()}),[L]);var V=(n?null==b?void 0:b.results:null==b?void 0:b.data)||[],Q=(n?null==b?void 0:b.total:null==b?void 0:b.count)||0;return p().createElement(p().Fragment,null,p().createElement(D.E,null,!E&&!m&&s&&Q>V.length?p().createElement(I.j,{variant:"warning",className:"pf-u-font-weight-bold"},"Over ",V.length," results found. Refine your search."):p().createElement(I.j,{className:"pf-u-font-weight-bold"},"Select a"," ",n&&r?"workspace":"group")),p().createElement(S.l,{variant:"typeahead",typeAheadAriaLabel:"Select a ".concat(n&&r?"workspace":"group"),onToggle:function(e,t){return function(e){u(e)}(t)},onSelect:function(e,t){e&&F(t)},onClear:H,selections:m||C,isOpen:s,onFilter:O()((function(e,t){e&&t!=C&&(U(t),A({name:encodeURIComponent(t)}))}),300),"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click to select a ".concat(n&&r?"workspace":"group"),noResultsFoundText:E?"Loading...":"No results found",isInputValuePersisted:!0,maxHeight:"180px"},E?[]:null==V?void 0:V.map((function(e){var t=e.id,r=e.name,a=e.DeviceGroup;return p().createElement(w.O,{key:n?t:a.ID,value:{toString:function(){return n?r:a.Name},groupId:n?t:a.ID}})}))))};var x=n(71100),G=n(45321),R=n(72583),C=n(22069),U=function(e){var t=e.closeModal,n=e.workspaceRename;return p().createElement(p().Fragment,null,p().createElement(C.E,null,"Or"),p().createElement(R.$n,{variant:"secondary",className:"pf-u-w-50",onClick:t},"Create ",n?"Workspace":"Group"))};U.propTypes={closeModal:y().func,workspaceRename:y().bool};var F=function(e,t){var n=e.length>1?"".concat(e.length," systems"):e[0].name;return p().createElement(C.E,null,"Select a ",t?"workspace":"group"," to add"," ",p().createElement("strong",null,n," ")," or create a new one.")},H=function(e,t){return{fields:[{component:b.A.PLAIN_TEXT,name:"description",label:F(e,t)},{component:"search-input",name:"group",label:"Select a ".concat(t?"workspace":"group"),isRequired:!0,validate:[{type:h.A.REQUIRED}]},{component:"create-group-btn",name:"create-group-btn"}]}},V=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.setIsCreateGroupModalOpen,a=e.reloadData,o=e.deviceIds,i=(0,G.useDispatch)(),s=(0,j.A)(!1),u=(0,c.A)(s,1)[0],l=(0,T.h)(N.QX);return p().createElement(E.A,{isOpen:t,closeModal:function(){return n(!1)},title:"Add to ".concat(u&&l?"workspace":"group"),submitLabel:"Add",additionalMappers:{"search-input":{component:L},"create-group-btn":{component:U,closeModal:function(){r(!0),n(!1)},workspaceRename:u&&l}},schema:H(o,u&&l),onSubmit:function(e){var t,n=e.group,r={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(n.toString()," successfully")},onError:{title:"Error",description:"Failed to add system to ".concat(u&&l?"workspace":"group")}};t=u?function(){return(0,P.HN)(n.groupId,o)}:function(){return(0,P.FW)(parseInt(n.groupId),o)},(0,x.A)(i,t,r)},reloadData:a})};const Q=V;V.propTypes={isModalOpen:y().bool,setIsModalOpen:y().func,setIsCreateGroupModalOpen:y().func,reloadData:y().func,deviceIds:y().array};var z=n(21996),W=n(10153),X=n(29082),q=n(61574),Y=n(55318),$=n(932),B=n(37560),Z=n(71724),K=n(11830);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ne=p().lazy((function(){return Promise.all([n.e(1709),n.e(5563),n.e(4018),n.e(6863),n.e(5516),n.e(4785),n.e(6043),n.e(2941)]).then(n.bind(n,49629))})),re=function(e){return p().createElement(B.A,(0,i.A)({appName:"inventory",module:"./TextInputModal"},e))},ae=function(e){return p().createElement(B.A,(0,i.A)({appName:"inventory",module:"./DeleteModal"},e))},oe=function(e){var t,n,o=e.historyProp,i=e.navigateProp,s=e.locationProp,g=e.showHeaderProp,y=e.notificationProp,h=e.urlName,b=(0,m.A)(),E=o?o():q.W6?(0,q.W6)():null,A=(s?s():q.zy?(0,q.zy)():null).pathname,O=(0,M.A)({api:X.ZK,tableReload:!0}),D=(0,c.A)(O,2),I=D[0],S=D[1],w=void 0===g||g,_=I.data,k=I.isLoading,P=I.hasError,j=null==_||null===(t=_.data)||void 0===t?void 0:t.enforce_edge_groups,L=(0,l.useState)(!1),R=(0,c.A)(L,2),C=R[0],U=R[1],F=(0,l.useState)(!1),H=(0,c.A)(F,2),V=H[0],B=H[1],J=(0,l.useState)(!1),oe=(0,c.A)(J,2),ce=oe[0],ie=oe[1],se=(0,l.useState)(!1),ue=(0,c.A)(se,2),le=ue[0],pe=ue[1],de=(0,l.useState)([]),fe=(0,c.A)(de,2),me=fe[0],ve=fe[1],ge=(0,l.useState)([]),ye=(0,c.A)(ge,2),he=ye[0],be=ye[1],Ee=(0,l.useState)(!1),Ae=(0,c.A)(Ee,2),Oe=Ae[0],De=Ae[1],Ie=(0,l.useState)(!1),Se=(0,c.A)(Ie,2),we=Se[0],_e=Se[1],ke=(0,l.useState)(!1),Me=(0,c.A)(ke,2),Pe=Me[0],je=Me[1],Te=(0,G.useDispatch)(),Ne=(0,l.useState)({isOpen:!1,deviceData:null,imageData:null}),Le=(0,c.A)(Ne,2),xe=Le[0],Ge=Le[1],Re=(0,T.h)(N.xo),Ce=!j&&Re,Ue=(0,T.h)(N.QX),Fe=function(e,t){U(!0),t?ve(e):be(e),De(t)},He=function(e,t){B(!0),t?ve(e):be(e),De(t)},Ve=function(){var e=(0,a.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:_e(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe="";void 0!==g&&w?Qe="edge-devices pf-l-page__main-section pf-c-page__main-section":w||(Qe="pf-c-toolbar"),(0,l.useEffect)((function(){var e;null==b||null===(e=b.updateDocumentTitle)||void 0===e||e.call(b,"Systems - Inventory")}),[b]);var ze=[];if(!(0,T.h)(N.Cd)){var We=[{isDisabled:Ce?!(he.length>0)||he.filter((function(e){var t;return(null===(t=e.deviceGroups)||void 0===t?void 0:t.length)>0})).length>0:!(he.length>0),title:"Add to ".concat(Ce&&Ue?"workspace":"group"),onClick:function(){return Fe(he.map((function(e){return{ID:e.deviceID,name:e.display_name,UUID:e.id}})),!1)}}];Ce&&We.push({isDisabled:!(he.length>0)||he.filter((function(e){return void 0===e.deviceGroups||0===e.deviceGroups.length})).length>0||1!==he.reduce((function(e,t){var n=(t.deviceGroups?t.deviceGroups.map((function(e){return e.ID})):[]).filter((function(t){return!e.includes(t)}));return e.push.apply(e,(0,r.A)(n)),e}),[]).length,title:"Remove from ".concat(Ue?"workspace":"group"),onClick:function(){return He(he.map((function(e){return{ID:e.deviceID,name:e.display_name,UUID:e.id,deviceGroups:e.deviceGroups}})),!1)}}),ze.push.apply(ze,We)}return p().createElement(p().Fragment,null,w&&p().createElement(d.A,{className:"pf-m-light"},p().createElement(f.A,{title:"Systems"})),w,p().createElement("section",{className:Qe},p().createElement(v.default,{historyProp:o,navigateProp:i,locationProp:s,isSystemsView:!0,data:null==_||null===(n=_.data)||void 0===n?void 0:n.devices,count:null==_?void 0:_.count,isLoading:k,hasError:P,setUpdateModal:Ge,updateModal:xe,handleAddDevicesToGroup:Fe,handleRemoveDevicesFromGroup:He,handleEditNameSystem:function(e,t){ie(!0),t?ve(e):be(e),De(t)},handleDeleteSystem:function(e,t){pe(!0),t?ve(e):be(e),De(t)},handleUpdateSelected:function(){Ge((function(e){return ee(ee({},e),{},{deviceData:he.map((function(e){return{id:e.id,display_name:e.display_name,deviceStatus:e.deviceStatus}})),imageData:{imageName:he[0].imageName},imageSetId:he[0].imageSetId,isOpen:!0})}))},hasCheckbox:!0,selectedItems:be,selectedItemsUpdateable:function(){var e=!1;if(he.length>0){var t,n=he[0].imageSetId,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}(he);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.imageSetId!==n){e=!1;break}(!e&&a.updateImageData&&"updateAvailable"===a.deviceStatus||"unresponsive"===a.deviceStatus||"error"===a.deviceStatus)&&(e=!0)}}catch(e){r.e(e)}finally{r.f()}}return e}(),kebabItems:ze.length>0?ze:void 0,hasModalSubmitted:we,setHasModalSubmitted:_e,fetchDevices:S,urlName:h,enforceEdgeGroups:j})),xe.isOpen&&p().createElement(l.Suspense,{fallback:p().createElement(Y.a,null,p().createElement($.y,null))},p().createElement(ne,{navigateBack:function(){E.push({pathname:A}),Ge((function(e){return console.log("Click modal"),ee(ee({},e),{},{isOpen:!1})}))},setUpdateModal:Ge,updateModal:xe,notificationProp:y,refreshTable:Ve})),C&&p().createElement(Q,{isModalOpen:C,setIsModalOpen:U,setIsCreateGroupModalOpen:je,reloadData:Ve,deviceIds:Oe?me:he}),Pe&&p().createElement(W.A,{isModalOpen:Pe,setIsModalOpen:je,reloadData:Ve,deviceIds:Oe?me:he}),V&&p().createElement(z.A,{isModalOpen:V,setIsModalOpen:B,reloadData:Ve,deviceInfo:Oe?me:he}),ce&&p().createElement(re,{isOpen:ce,title:"Edit display name",value:Oe?me[0].name:he[0].name,ariaLabel:"Host inventory display name",modalOuiaId:"edit-display-name-modal",cancelOuiaId:"cancel-edit-display-name",confirmOuiaId:"confirm-edit-display-name",inputOuiaId:"input-edit-display-name",onCancel:function(){return ie(!1)},onSubmit:function(e){var t=Oe?me[0].UUID:he[0].UUID,n=Oe?me[0].name:he[0].name,r={onSuccess:{title:"Display name for entity with ID ".concat(t," has been changed to ").concat(e)},onError:{title:"Error",description:"Failed to update device name"}};y?(0,x.A)(Te,(function(){return(0,Z.QI)(t,e,n)}),r,y):Te((0,Z.QI)(t,e,n)),ie(!1)},className:"sentry-mask data-hj-suppress"}),le&&p().createElement(ae,{className:"sentry-mask data-hj-suppress",handleModalToggle:pe,isModalOpen:le,currentSytems:Oe?me[0]:he[0],onConfirm:function(){var e=Oe?me[0]:he[0],t=e.display_name,n=[e.UUID],r={onWarning:{title:"Delete operation initiated",description:"Removal of ".concat(t," started.")},onError:{title:"Error",description:"Failed to initial delete device"}},a={onSuccess:{title:"Delete operation finished",description:"".concat(t," has been successfully removed.")},onError:{title:"Error",description:"Failed to delete device"}};y?((0,x.A)(Te,(function(){return(0,K.z8)({id:"remove-initiated",variant:"warning"})}),r,y),(0,x.A)(Te,(function(){return(0,Z.$b)(n,t)}),a,y)):(Te((0,K.z8)({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t," started."),dismissable:!1})),Te((0,Z.$b)(n,t))),pe(!1)}}))};oe.propTypes={historyProp:y().func,navigateProp:y().func,locationProp:y().func,showHeaderProp:y().bool,notificationProp:y().object,urlName:y().string};const ce=oe},21996:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(5544),a=n(44914),o=n.n(a),c=n(5556),i=n.n(c),s=n(95658),u=n(57502),l=n(56899),p=n(58168),d=n(5029),f=n(18960),m=n(38877),v=n(81558),g=function(e){(0,m.A)(e);var t=(0,v.default)().change,n=(0,a.useState)(!1),c=(0,r.A)(n,2),i=c[0],s=c[1],u=(0,a.useState)(null),l=(0,r.A)(u,2),g=l[0],y=l[1],h=function(){y(null),t("group",null),s(!1)};return o().createElement(o().Fragment,null,o().createElement(d.l,{variant:"typeahead",typeAheadAriaLabel:"Select a state",onToggle:function(e,t){return function(e){return s(e)}(t)},onSelect:function(e,n,r){r?h():(y(n),s(!1)),t("group",n)},onClear:h,selections:g,isOpen:i,"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click select group"},e.defaultOptions.map((function(e,t){var n=e.DeviceGroup;return o().createElement(f.O,(0,p.A)({key:t,value:{toString:function(){return n.Name},groupId:n.ID}},n.description&&{description:n.description}))}))))};g.propTypes={defaultOptions:i().array};const y=g;var h=n(71100),b=n(27471),E=n(45321),A=n(22069),O=n(8490),D=n(99851),I=n(76021),S=n(17427),w=n(39440),_=function(e,t){var n=e[0].deviceGroups,r=e.length>1?"".concat(e.length," systems"):e[0].name,a=1===n.length?n[0].Name:"".concat(n.length," groups");return t?o().createElement(A.E,null,o().createElement("strong",null,r," ")," will no longer be part of"," ",o().createElement("strong",null,a)," and its configuration will be impacted."):n.length>1?o().createElement(A.E,null,"Select the group you want to remove ",o().createElement("strong",null,r)," from."):o().createElement(A.E,null,"Do you want to remove ",o().createElement("strong",null,r," ")," from"," ",o().createElement("strong",null,a),"?")},k=function(){return o().createElement(O.I,{status:"warning"},o().createElement(D.Ay,null))},M=function(e,t){var n={fields:[{component:u.A.PLAIN_TEXT,name:"description",label:_(e,t)}]};return e[0].deviceGroups.length>1&&n.fields.push({component:"search-input",name:"group",label:"Select a group",isRequired:!0,validate:[{type:s.A.REQUIRED}]}),n},P=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,a=e.reloadData,c=e.deviceInfo,i=(0,E.useDispatch)(),s=(0,I.A)(!1),u=(0,r.A)(s,1)[0],p=(0,S.h)(w.QX),d=c[0].deviceGroups;return o().createElement(l.A,{isOpen:t,variant:"danger",closeModal:function(){return n(!1)},title:"Remove from ".concat(u&&p?"workspace":"group"),submitLabel:"Remove",titleIconVariant:k,additionalMappers:{"search-input":{component:y,defaultOptions:d.map((function(e){return{DeviceGroup:e}}))||[]}},schema:M(c,u),onSubmit:function(e){var t,n=d.length>1,r=n?e.group.toString():d[0].Name,a=n?e.group.groupId:d[0].ID,o=c.length>1?"".concat(c.length," systems"):c[0].name,s=u?c.length>1?"Failed to remove ".concat(c.length," systems from ").concat(r):"Failed to remove 1 system from ".concat(r):"Failed to remove system from group",l={onSuccess:{title:"Success",description:"".concat(o," has been removed from ").concat(r," successfully")},onError:{title:"Error",description:s}};t=u?function(){return(0,b.ny)(a,c.map((function(e){return e.UUID})))}:function(){return(0,b.cA)(a,c[0].ID)},(0,h.A)(i,t,l)},reloadData:a})};const j=P;P.propTypes={isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func,deviceInfo:i().array}},10153:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(5544),a=n(10467),o=n(54756),c=n.n(o),i=n(44914),s=n.n(i),u=n(5556),l=n.n(u),p=n(95658),d=n(57502),f=n(56899),m=n(27471),v=n(17427),g=n(71100),y=n(45321),h=n(76021),b=n(39440),E=function(){var e=(0,a.A)(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=n.length>0&&void 0!==n[0]?n[0]:"").length){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,(0,m.R4)(t);case 5:if(!e.sent.data.isValid){e.next=8;break}throw"Group name already exists";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.A)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=r.length>0&&void 0!==r[0]?r[0]:"").length){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,(0,m.f4)(t);case 5:if(!((n=e.sent).results.length>0&&n.results[0].name===t)){e.next=8;break}throw"Group name already exists";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O={groupName:function(){return E}},D={groupName:function(){return A}},I=function(e){var t,n=e.isModalOpen,o=e.setIsModalOpen,i=e.deviceIds,u=e.reloadData,l=(0,y.useDispatch)(),E=(0,h.A)(!1),A=(0,r.A)(E,1)[0],I=(0,v.h)(b.QX),S=function(e){var t,n={onSuccess:{title:"Success",description:"".concat(e.name," has been created successfully")},onError:{title:"Error",description:"Failed to create ".concat(A&&I?"workspace":"group")}};return t=A?function(){return(0,m.EI)(e)}:function(){return(0,m.wj)(e)},(0,g.A)(l,t,n)},w=function(){var e=(0,a.A)(c().mark((function e(t){var n,r,a,o,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(t.name," successfully")},onError:{title:"Error",description:"Failed to add system to ".concat(A&&I?"workspace":"group")}},!A){e.next=9;break}return e.next=4,S(t);case 4:a=e.sent,o=a.id,r=function(){return(0,m.HN)(o,i)},e.next=14;break;case 9:return e.next=11,S(t);case 11:s=e.sent,u=s.ID,r=function(){return(0,m.FW)(parseInt(u),i)};case 14:(0,g.A)(l,r,n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s().createElement(f.A,{isOpen:n,closeModal:function(){return o(!1)},title:"Create ".concat(A&&I?"workspace":"group"),submitLabel:"Create",schema:(t=A&&I,{fields:[{component:d.A.TEXT_FIELD,name:"name",label:"".concat(t?"Workspace":"Group"," name"),helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,autoFocus:!0,validate:[{type:"groupName"},{type:p.A.REQUIRED},{type:p.A.MAX_LENGTH,threshold:50},v.m0]}]}),onSubmit:i?w:S,reloadData:u,validatorMapper:A?D:O})};const S=I;I.propTypes={isModalOpen:l().bool,setIsModalOpen:l().func,reloadData:l().func,deviceIds:l().array}},27471:(e,t,n)=>{"use strict";n.d(t,{Df:()=>s,EI:()=>c,FW:()=>d,HG:()=>m,HN:()=>f,Hk:()=>l,Lv:()=>p,Qo:()=>u,R4:()=>y,cA:()=>g,f:()=>i,f4:()=>b,ny:()=>v,se:()=>h,wj:()=>o});var r=n(83986),a=n(56830),o=function(e){return a.instance.post("".concat(r.rm,"/device-groups/"),{Name:e.name,Type:"static"})},c=function(e){return a.instance.post("".concat(r.kb,"/groups"),{name:e.name})},i=function(e){var t=e.query,n=(0,r.Lm)(t);return a.instance.get("".concat(r.rm,"/device-groups?").concat(n))},s=function(e){var t=e.query,n=(0,r.Lm)(t);return a.instance.get("".concat(r.kb,"/groups?").concat(n))},u=function(e){var t=e.id,n=e.query,o=(0,r.Lm)(n);return a.instance.get("".concat(r.rm,"/device-groups/").concat(t,"/view?").concat(o))},l=function(e,t){return a.instance.put("".concat(r.rm,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},p=function(e){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e))},d=function(e,t){return a.instance.post("".concat(r.rm,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},f=function(e,t){var n=[];return t.forEach((function(e){return n.push(e.UUID)})),a.instance.post("".concat(r.kb,"/groups/").concat(e,"/hosts"),n)},m=function(e,t){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},v=function(e,t){return a.instance.delete("".concat(r.kb,"/groups/").concat(e,"/hosts/")+t.join(","))},g=function(e,t){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e,"/devices/").concat(t))},y=function(e){return a.instance.get("".concat(r.rm,"/device-groups/checkName/").concat(e))},h=function(){return a.instance.get("".concat(r.rm,"/device-groups/enforce-edge-groups"))},b=function(e){return a.instance.get("".concat(r.kb,"/groups?name=").concat(e,"&order_by=name&order_how=ASC"))}},56899:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(10467),a=n(64467),o=n(58168),c=n(54756),i=n.n(c),s=n(44914),u=n.n(s),l=n(16165),p=n(97744),d=n(63537),f=n(24408),m=n(5556),v=n.n(m);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.isOpen,n=e.title,a=e.titleIconVariant,c=e.closeModal,s=e.submitLabel,m=e.schema,v=e.initialValues,g=e.variant,h=e.reloadData,b=e.size,E=e.onSubmit,A=e.additionalMappers,O=e.validatorMapper;return u().createElement(l.a,{variant:null!=b?b:"small",title:n,titleIconVariant:null!=a?a:null,isOpen:t,onClose:c},u().createElement(p.A,{schema:m,validatorMapper:O,FormTemplate:function(e){return u().createElement(d.Ay,(0,o.A)({},e,{submitLabel:s,disableSubmit:["invalid"],buttonsProps:{submit:{variant:g}}}))},initialValues:v,componentMapper:A?y(y({},A),f.Ay):f.Ay,onSubmit:function(){var e=(0,r.A)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:setTimeout((0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return c()}}))};h.propTypes={isOpen:v().bool,title:v().string,closeModal:v().func,reloadData:v().func,submitLabel:v().string,schema:v().object,initialValues:v().object,variant:v().string,onSubmit:v().func,size:v().string,additionalMappers:v().object,titleIconVariant:v().any,validatorMapper:v().object};const b=h},43085:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(64467),a=n(10467),o=n(5544),c=n(54756),i=n.n(c),s=n(11830),u=n(44914),l=n(45321);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(e){var t,n=e.api,r=e.id,c=void 0===r?null:r,p=e.statusMessages,f=e.tableReload,m=void 0!==f&&f,v=(0,l.useDispatch)(),g=(0,u.useState)([]),y=(0,o.A)(g,2),h=y[0],b=y[1],E=(0,u.useState)(!0),A=(0,o.A)(E,2),O=A[0],D=A[1],I=(0,u.useState)(!1),S=(0,o.A)(I,2),w=S[0],_=S[1],k=(0,u.useState)((function(){return n})),M=(0,o.A)(k,2),P=M[0],j=M[1],T=null===(t=p)||void 0===t?void 0:t.onSuccess;p||(p={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var N=function(){var e=(0,a.A)(i().mark((function e(){var t,n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",D(!0),e.prev=2,e.next=5,P({id:c,query:t});case 5:n=e.sent,b(n),T&&v(d({},(0,s.z8)(d({variant:"success"},p.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),_(!0),v(d({},(0,s.z8)(d({variant:"danger"},p.onError))));case 14:return e.prev=14,D(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){m||N()}),[]),[{data:h,isLoading:O,hasError:w},N,P,j]}},76021:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(10467),a=n(5544),o=n(54756),c=n.n(o),i=n(44914),s=n(17427),u=n(39440),l=n(27471);const p=function(e){var t=(0,i.useState)(e),n=(0,a.A)(t,2),o=n[0],p=n[1],d=(0,i.useState)(!1),f=(0,a.A)(d,2),m=f[0],v=f[1],g=(0,s.h)(u.xo);return(0,i.useEffect)((function(){(0,r.A)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.se)();case 2:t=e.sent,n=null==t?void 0:t.enforce_edge_groups,p(!n&&g),v(!0);case 6:case"end":return e.stop()}}),e)})))()}),[]),[o,m]}},60537:(e,t,n)=>{"use strict";n.d(t,{$4:()=>g,$I:()=>p,A2:()=>y,Cf:()=>v,FB:()=>D,Hh:()=>b,Iw:()=>d,NX:()=>i,Po:()=>f,Qw:()=>h,TH:()=>S,Um:()=>A,VY:()=>m,ZP:()=>l,aQ:()=>E,k4:()=>u,rI:()=>s,tH:()=>O});var r=n(38970),a=n.n(r),o=n(47307),c=n.n(o),i="LOAD_DEVICE_SUMMARY",s="LOAD_ACTIVE_IMAGES",u="LOAD_EDGE_IMAGES",l="LOAD_EDGE_IMAGE_SETS",p="LOAD_EDGE_IMAGE_PACKAGES",d="LOAD_GROUPS",f="LOAD_GROUP_DETAIL",m="LOAD_TRESHOLD",v="LOAD_DEVICES_INFO",g="LOAD_CANARIES_INFO",y="LOAD_GROUP_DEVICES_INFO",h="LOAD_IMAGE_STATUS",b="LOAD_IMAGE_DETAIL",E="LOAD_IMAGE_SET_DETAIL",A="CREATE_NEW_IMAGE",O=("".concat(A,"_RESET"),"POLLING_IMAGES"),D="LOAD_DEVICE_TABLE",I=c()([u,l,p,s,d,f,m,v,g,y,h,b,E,A,D,"UPDATE_DISPLAY_NAME","REMOVE_ENTITY"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),S=a()(I,(function(e){return e}))},71724:(e,t,n)=>{"use strict";n.d(t,{$b:()=>d,QI:()=>p,TW:()=>i,g_:()=>s,kD:()=>u,pe:()=>l});var r=n(60537),a=n(36513),o=(n(29082),n(83986)),c=n(17427),i=function(e,t){e({type:r.Hh,payload:(0,a.iI)({id:t})}).catch((function(){return null}))},s=function(e,t,n){e({type:r.Um,payload:(0,a.mF)(t)}).then(n).catch((function(){return null}))},u=function(e,t){e({type:r.ZP,payload:(0,a.a7)(t)}).catch((function(){return null}))},l=function(e){var t=e.id,n=e.name;return{type:"".concat(r.tH,"_ADD"),payload:{name:n,id:t}}},p=function(e,t,n){return{type:r.TH.UPDATE_DISPLAY_NAME,payload:o.S.apiHostPatchHostById([e],{display_name:t}),meta:{id:e,value:t,origValue:n,notifications:{fulfilled:{variant:"success",title:"Display name for entity with ID ".concat(e," has been changed to ").concat(t),dismissable:!0}}}}},d=function(e,t){return{type:r.TH.REMOVE_ENTITY,payload:(0,c.SY)(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:"".concat(t," has been successfully removed."),dismissable:!0}},systems:e}}}},47307:(e,t,n)=>{var r=n(83120),a=n(55378);e.exports=function(e,t){return r(a(e,t),1)}},38970:(e,t,n)=>{var r=n(43360),a=n(42e3)((function(e,t,n){r(e,n,t)}));e.exports=a},25823:()=>{},16369:()=>{},62275:()=>{},89205:()=>{},20681:()=>{},43502:()=>{},61858:()=>{},43619:()=>{},7302:()=>{},5637:()=>{},86073:()=>{},67879:()=>{},87034:()=>{},70043:()=>{},98469:()=>{},21289:()=>{},36752:()=>{},85586:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6714.a7c8408cf9fe028df2630804f28de496.js.map