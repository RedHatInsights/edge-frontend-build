(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7386],{69174:(e,t,l)=>{"use strict";l.d(t,{_:()=>m});var o=l(70655),n=l(92950),r=l(83063),a=l(72002),i=l(47173),s=l(75824),c=l(38296),u=l(24307),d=l(6551);const p={blue:r.Z.modifiers.blue,cyan:r.Z.modifiers.cyan,green:r.Z.modifiers.green,orange:r.Z.modifiers.orange,purple:r.Z.modifiers.purple,red:r.Z.modifiers.red,gold:r.Z.modifiers.gold,grey:""},m=e=>{var{children:t,className:l="",color:m="grey",variant:f="filled",isCompact:b=!1,isEditable:g=!1,editableProps:v,isTruncated:E=!1,tooltipPosition:h,icon:C,onClose:I,onEditCancel:y,onEditComplete:N,closeBtn:w,closeBtnAriaLabel:x,closeBtnProps:S,href:P,isOverflowLabel:Z,render:T}=e,_=(0,o.__rest)(e,["children","className","color","variant","isCompact","isEditable","editableProps","isTruncated","tooltipPosition","icon","onClose","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[O,k]=(0,n.useState)(!1),[L,R]=(0,n.useState)(t),U=n.useRef(),D=n.useRef();n.useEffect((()=>(document.addEventListener("mousedown",W),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",W),document.removeEventListener("keydown",A)})));const W=e=>{O&&D&&D.current&&!D.current.contains(e.target)&&(D.current.value&&N&&N(D.current.value),k(!1))},A=e=>{var l,o;const n=e.key;if((O||U&&U.current&&U.current.contains(e.target))&&(!O||D&&D.current&&D.current.contains(e.target))&&(!O||"Enter"!==n&&"Tab"!==n||(e.preventDefault(),e.stopImmediatePropagation(),D.current.value&&N&&N(D.current.value),k(!1),null===(l=null==U?void 0:U.current)||void 0===l||l.focus()),O&&"Escape"===n&&(e.preventDefault(),e.stopImmediatePropagation(),D.current.value&&(D.current.value=t,y&&y(t)),k(!1),null===(o=null==U?void 0:U.current)||void 0===o||o.focus()),!O&&"Enter"===n)){e.preventDefault(),e.stopImmediatePropagation(),k(!0);const t=e.target,l=document.createRange(),o=window.getSelection();l.selectNodeContents(t),l.collapse(!1),o.removeAllRanges(),o.addRange(l)}},B=Z?"button":"span",G=w||n.createElement(i.zx,Object.assign({type:"button",variant:"plain",onClick:I,"aria-label":x||`Close ${t}`},S),n.createElement(u.ZP,null)),Q=n.createRef(),j=n.useRef(),[F,M]=n.useState(!1);(0,d.L)((()=>{const e=g?U:Q;O||M(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[O]);const z=n.createElement(n.Fragment,null,C&&n.createElement("span",{className:(0,c.i)(r.Z.labelIcon)},C),E&&n.createElement("span",{ref:Q,className:(0,c.i)(r.Z.labelText)},t),!E&&t);n.useEffect((()=>{O&&D&&D.current&&D.current.focus()}),[D,O]);let H=n.createElement("span",{className:(0,c.i)(r.Z.labelContent)},z);return P?H=n.createElement("a",{className:(0,c.i)(r.Z.labelContent),href:P},z):g&&(H=n.createElement("button",Object.assign({ref:U,className:(0,c.i)(r.Z.labelContent),onClick:e=>{k(!0),e.stopPropagation()}},v),z)),T?H=n.createElement(n.Fragment,null,F&&n.createElement(s.u,{reference:j,content:t,position:h}),T({className:r.Z.labelContent,content:z,componentRef:j})):F&&(H=n.createElement(s.u,{content:t,position:h},H)),n.createElement(B,Object.assign({},_,{className:(0,c.i)(r.Z.label,p[m],"outline"===f&&r.Z.modifiers.outline,Z&&r.Z.modifiers.overflow,b&&r.Z.modifiers.compact,g&&a.Z.modifiers.editable,O&&r.Z.modifiers.editableActive,l)}),!O&&H,!O&&I&&G,O&&n.createElement("input",Object.assign({className:(0,c.i)(r.Z.labelContent),type:"text",id:"editable-input",ref:D,value:L,onChange:()=>{R(D.current.value)}},v)))};m.displayName="Label"},79851:(e,t,l)=>{"use strict";l.d(t,{P:()=>i});var o=l(70655),n=l(92950),r=l(89059),a=l(38296);const i=e=>{var{hasGutter:t=!1,isWrappable:l=!1,className:i="",children:s=null,component:c="div"}=e,u=(0,o.__rest)(e,["hasGutter","isWrappable","className","children","component"]);const d=c;return n.createElement(d,Object.assign({},u,{className:(0,a.i)(r.Z.split,t&&r.Z.modifiers.gutter,l&&r.Z.modifiers.wrap,i)}),s)};i.displayName="Split"},34512:(e,t,l)=>{"use strict";l.d(t,{J:()=>i});var o=l(70655),n=l(92950),r=l(89059),a=l(38296);const i=e=>{var{isFilled:t=!1,className:l="",children:i=null}=e,s=(0,o.__rest)(e,["isFilled","className","children"]);return n.createElement("div",Object.assign({},s,{className:(0,a.i)(r.Z.splitItem,t&&r.Z.modifiers.fill,l)}),i)};i.displayName="SplitItem"},83063:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o}),l(82014);const o={button:"pf-c-button",label:"pf-c-label",labelContent:"pf-c-label__content",labelIcon:"pf-c-label__icon",labelText:"pf-c-label__text",modifiers:{compact:"pf-m-compact",blue:"pf-m-blue",green:"pf-m-green",orange:"pf-m-orange",red:"pf-m-red",purple:"pf-m-purple",cyan:"pf-m-cyan",gold:"pf-m-gold",outline:"pf-m-outline",overflow:"pf-m-overflow",add:"pf-m-add",editable:"pf-m-editable",editableActive:"pf-m-editable-active"},themeDark:"pf-theme-dark"}},72002:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o}),l(21064);const o={button:"pf-c-button",labelGroup:"pf-c-label-group",labelGroupClose:"pf-c-label-group__close",labelGroupLabel:"pf-c-label-group__label",labelGroupList:"pf-c-label-group__list",labelGroupListItem:"pf-c-label-group__list-item",labelGroupMain:"pf-c-label-group__main",labelGroupTextarea:"pf-c-label-group__textarea",modifiers:{category:"pf-m-category",vertical:"pf-m-vertical",editable:"pf-m-editable",textarea:"pf-m-textarea"}}},89059:(e,t,l)=>{"use strict";l.d(t,{Z:()=>o}),l(16166);const o={modifiers:{wrap:"pf-m-wrap",fill:"pf-m-fill",gutter:"pf-m-gutter"},split:"pf-l-split",splitItem:"pf-l-split__item"}},17386:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>w});var o=l(92950),n=l.n(o),r=l(73448),a=l(45697),i=l.n(a),s=l(9192),c=l(48903),u=l(75824),d=l(62410),p=l(34766),m=l(3035),f=l(68519),b=l(5513),g=l(35681),v=l(14627),E=l(98309),h=function(e){var t=e.index;return n().createElement("div",null,n().createElement(u.u,{content:n().createElement("div",null,"More options"),reference:function(){return document.getElementById("pf-dropdown-toggle-id-".concat(t))}}))};h.propTypes={index:i().number};var C=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],I=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Release",type:"distribution",options:E.aN,sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Target",type:"outputTypes",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Created/Updated",type:"updated_at",sort:!0,columnTransforms:[(0,p.cellWidth)(35)]}],y=function(e,t,l,o){return e.map((function(e,r){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,distribution:null==e?void 0:e.Distribution,outputType:null==e?void 0:e.OutputTypes,isoURL:(null==e?void 0:e.ImageBuildIsoURL)||null,latestImageID:null==e?void 0:e.ImageID},cells:[{title:(0,c.EW)({pathname:"".concat(t,"/").concat(null==e?void 0:e.ID),linkText:null==e?void 0:e.Name,history:l,navigate:o})},null==e?void 0:e.Version,{title:E.aN[null==e?void 0:e.Distribution]},2==(null==e?void 0:e.OutputTypes.length)?"Bare Metal Installer":"Update Only",{title:n().createElement(n().Fragment,null,n().createElement(h,{index:r}),n().createElement(g.Z,{type:null==e?void 0:e.Status.toLowerCase()}))},{title:null!=e&&e.UpdatedAt?n().createElement(d.Z,{date:null==e?void 0:e.UpdatedAt}):"Unknown"}]}}))},N=function(e){var t=e.pathPrefix,l=e.urlName,o=e.historyProp,a=e.locationProp,i=e.navigateProp,u=e.data,d=e.count,p=e.isLoading,g=e.hasError,E=e.fetchImageSets,h=e.openCreateWizard,N=e.openUpdateWizard,w=e.hasModalSubmitted,x=e.setHasModalSubmitted,S=(a?a():f.TH?(0,f.TH)():null).search,P=o?o():f.k6?(0,f.k6)():null,Z=i?i():b.useNavigate?(0,b.useNavigate)():null,T=(0,v.S)(s._.manageImages,t,l);return n().createElement(n().Fragment,null,(0,c.G0)(p,d,S)?n().createElement(m.Z,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"No images found",body:"",primaryAction:{click:h,text:"Create new image"},secondaryActions:[]}):n().createElement(r.Z,{apiFilterSort:!0,historyProp:o,locationProp:a,navigateProp:i,isUseApi:!0,filters:C,loadTableData:E,tableData:{count:d,data:u,isLoading:p,hasError:g},columnNames:I,rows:u?y(u,T,P,Z):[],actionResolver:function(e){var t,l,o,n,r,a=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&a.push({title:"Download",onClick:function(e,t,l){var o;window.open(null===(o=l.rowInfo)||void 0===o?void 0:o.isoURL)}}),"SUCCESS"!==(null===(l=e.rowInfo)||void 0===l?void 0:l.imageStatus)&&"ERROR"!==(null===(o=e.rowInfo)||void 0===o?void 0:o.imageStatus)||a.push({title:"Update Image",onClick:function(e,t,l){var o;N(null===(o=l.rowInfo)||void 0===o?void 0:o.latestImageID)}}),"BUILDING"===(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)&&null!==(r=e.rowInfo)&&void 0!==r&&r.id&&a.push({title:""}),a},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:5,direction:"desc"},toolbarButtons:[{title:"Create new image",click:function(){return h()}}],hasModalSubmitted:w,setHasModalSubmitted:x}))};N.propTypes={pathPrefix:i().string,urlName:i().string,historyProp:i().func,locationProp:i().func,navigateProp:i().func,data:i().array,count:i().number,isLoading:i().bool,hasError:i().bool,fetchImageSets:i().func,clearFilters:i().func,openCreateWizard:i().func,openUpdateWizard:i().func,filters:i().array,pagination:i().shape({page:i().number,perPage:i().number}),hasModalSubmitted:i().bool,setHasModalSubmitted:i().func};const w=N},14627:(e,t,l)=>{"use strict";l.d(t,{S:()=>o,T:()=>n});var o=function(e,t,l){var o=e;if(t||l){var n=[];t&&n.push(t),l&&n.push(l),o=n.join("/")}return o},n=function(e,t){return!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")}},35681:(e,t,l)=>{"use strict";l.d(t,{Z:()=>b,u:()=>m});var o=l(92950),n=l.n(o),r=l(45697),a=l.n(r),i=l(69174),s=l(75824),c=l(79851),u=l(34512),d=l(98309),p={booting:{text:"Booting",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},success:{text:"Ready",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},passed:{text:"Passed",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.iQ.exclamationTriangle,color:d.OE.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},error:{text:"Error",Icon:d.iQ.timesCircle,color:d.OE.red,labelColor:"red"},default:{text:"Unknown",Icon:d.iQ.unknown},interrupted:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"}},m=function(e,t,l){return"ERROR"===l?"error":"UNRESPONSIVE"===l?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},f=function(e){var t=e.id,l=e.type,o=e.isLabel,r=void 0!==o&&o,a=e.toolTipContent,d=void 0===a?"":a,m=e.className,f=void 0===m?"":m,b=e.isLink,g=Object.prototype.hasOwnProperty.call(p,l)?p[l]:p.default,v=g.text,E=g.Icon,h=g.color,C=g.labelColor;return n().createElement(n().Fragment,null,r?n().createElement(i._,{id:t,color:C,icon:n().createElement(E,null),className:f},v):n().createElement(c.P,{id:t,style:{color:h},className:f},n().createElement(u.J,{className:"pf-u-mr-sm"},d?n().createElement(s.u,{content:"blargh"},n().createElement(E,null)):n().createElement(E,null)),n().createElement(u.J,null,n().createElement("p",{style:b?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},v))))};const b=f;f.propTypes={id:a().string,type:a().string,isLabel:a().bool,toolTipContent:a().string,className:a().string,isLink:a().bool},f.defaultProps={id:"status"}},21064:()=>{},82014:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/7386.9c5a93d48ea97d1949ed65a81d3c3cce.js.map