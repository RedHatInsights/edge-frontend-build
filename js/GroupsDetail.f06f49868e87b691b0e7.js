(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7563,8471],{56591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(92950).createContext)({})},32650:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(93433),a=n(4942),o=n(41609),i=n.n(o),s=n(27361),c=n.n(s);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){return"number"!=typeof e&&!0!==e&&i()(e)},m=function(e,t){if(t.isNotEmpty)return!d(e);if(t.isEmpty)return d(e);if(t.pattern){var n=RegExp(t.pattern,t.flags);return t.notMatch?!n.test(e):n.test(e)}if("function"==typeof t.is)return t.is(e,t);if(Object.prototype.hasOwnProperty.call(t,"greaterThan"))return e>t.greaterThan;if(Object.prototype.hasOwnProperty.call(t,"greaterThanOrEqualTo"))return e>=t.greaterThanOrEqualTo;if(Object.prototype.hasOwnProperty.call(t,"lessThan"))return e<t.lessThan;if(Object.prototype.hasOwnProperty.call(t,"lessThanOrEqualTo"))return e<=t.lessThanOrEqualTo;var r=Array.isArray(t.is)?!!t.is.includes(e):e===t.is;return t.notMatch?!r:r};const p=function e(t,n,a){var o=u(u({visible:!0},t.then),{},{result:!0}),i=u(u({visible:!1},t.else),{},{result:!1});if(Array.isArray(t))return t.map((function(t){return e(t,n,a)})).some((function(e){return!1===e.result}))?i:o;if(t.and)return t.and.map((function(t){return e(t,n,a)})).some((function(e){return!1===e.result}))?i:o;if(t.sequence)return t.sequence.reduce((function(t,a){var o=e(a,n);return{sets:[].concat((0,r.Z)(t.sets),(0,r.Z)(o.set?[o.set]:[])),visible:t.visible||o.visible,result:t.result||o.result}}),u(u({},i),{},{sets:[]}));if(t.or)return t.or.map((function(t){return e(t,n,a)})).some((function(e){return!0===e.result}))?o:i;if(t.not)return e(t.not,n).result?i:o;var s="function"==typeof t.when?t.when(a):t.when;return"string"==typeof s?m(c()(n,s),t)?o:i:Array.isArray(s)&&s.map((function(e){return m(c()(n,"function"==typeof e?e(a):e),t)})).find((function(e){return!!e}))?o:i}},64029:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var r=n(70655),a=n(92950),o=n(44303),i=n(38296),s=n(62472);const c=e=>{var{children:t=null,className:n="","aria-label":l="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=(0,r.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=(0,s.S$)(c.displayName,u,d);return a.createElement("nav",Object.assign({},m,{"aria-label":l,className:(0,i.i)(o.Z.breadcrumb,n)},p),a.createElement("ol",{className:o.Z.breadcrumbList},a.Children.map(t,((e,t)=>{const n=t>0;return a.isValidElement(e)?a.cloneElement(e,{showDivider:n}):e}))))};c.displayName="Breadcrumb"},32835:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var r=n(70655),a=n(92950),o=n(93174),i=n(44303),s=n(38296);const c=e=>{var{children:t=null,className:n="",to:c,isActive:l=!1,isDropdown:u=!1,showDivider:d,target:m,component:p="a",render:f}=e,v=(0,r.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=p,g=l?"page":void 0,y=(0,s.i)(i.Z.breadcrumbLink,l&&i.Z.modifiers.current);return a.createElement("li",Object.assign({},v,{className:(0,s.i)(i.Z.breadcrumbItem,n)}),d&&a.createElement("span",{className:i.Z.breadcrumbItemDivider},a.createElement(o.ZP,null)),"button"===p&&a.createElement("button",{className:y,"aria-current":g,type:"button"},t),u&&a.createElement("span",{className:(0,s.i)(i.Z.breadcrumbDropdown)},t),f&&f({className:y,ariaCurrent:g}),c&&!f&&a.createElement(b,{href:c,target:m,className:y,"aria-current":g},t),!c&&"button"!==p&&!u&&t)};c.displayName="BreadcrumbItem"},44303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(58392);const r={breadcrumb:"pf-c-breadcrumb",breadcrumbDropdown:"pf-c-breadcrumb__dropdown",breadcrumbHeading:"pf-c-breadcrumb__heading",breadcrumbItem:"pf-c-breadcrumb__item",breadcrumbItemDivider:"pf-c-breadcrumb__item-divider",breadcrumbLink:"pf-c-breadcrumb__link",breadcrumbList:"pf-c-breadcrumb__list",dropdownToggle:"pf-c-dropdown__toggle",modifiers:{current:"pf-m-current",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},47906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),s=n(64124),c=n(96354),l=n(60722),u=n(87029),d=n(69957),m=n(37655),p=n(68340),f=n(32349),v=n(86706),b=function(e){return a().createElement(p.x,null,a().createElement("strong",null,e," "),"and all its data will be permanently deleted. Associated systems will be removed from the group but will not be deleted.")},g=function(e){return{fields:[{component:c.Z.PLAIN_TEXT,name:"warning-message",label:b(e)},{component:c.Z.CHECKBOX,name:"confirmation",label:"I understand that this action cannot be undone.",validate:[{type:s.Z.REQUIRED}]}]}},y=function(){return a().createElement(d.ZP,{color:m.Z.value})},h=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,o=e.modalState,i=o.id,s=o.name,c=(0,v.I0)();return a().createElement(l.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Delete group",titleIconVariant:y,variant:"danger",submitLabel:"Delete",schema:g(s),onSubmit:function(){var e={onSuccess:{title:"Success",description:"".concat(s," has been removed successfully")},onError:{title:"Error",description:"Failed to delete group"}};(0,f.Z)(c,(function(){return(0,u.yq)(i)}),e)},reloadData:r})};h.propTypes={id:i().number,name:i().string,modalState:i().object,isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func};const E=h},61381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(15861),a=n(64687),o=n.n(a),i=n(92950),s=n.n(i),c=n(45697),l=n.n(c),u=n(64124),d=n(96354),m=n(60722),p=n(87029),f=n(48903),v=n(32349),b=n(86706),g=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Tb)(t);case 2:if(!e.sent.data.isValid){e.next=5;break}return e.abrupt("return","Group name already exists");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y={fields:[{component:d.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.Z.REQUIRED},{type:u.Z.MAX_LENGTH,threshold:50},f.qg,g]}]},h=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.modalState,o=a.id,i=a.name,c=(0,b.I0)();return s().createElement(m.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Rename group",submitLabel:"Save",schema:y,initialValues:a,onSubmit:function(e){var t={onSuccess:{title:"Success",description:"".concat(i," has been renamed to ").concat(e.name," successfully")},onError:{title:"Error",description:"Failed to rename group"}};(0,v.Z)(c,(function(){return(0,p.OS)(o,e)}),t)},reloadData:r})};h.propTypes={id:l().number,modalState:l().object,isModalOpen:l().bool,setIsModalOpen:l().func,reloadData:l().func};const E=h},30991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r=n(93433),a=n(4942),o=n(29439),i=n(92950),s=n.n(i),c=n(64029),l=n(32835),u=n(56787),d=n(84457),m=n(75728),p=n(99355),f=n(28191),v=n(92298),b=n(50383),g=n(75824),y=n(89376),h=n(39173),E=n(3035),O=n(96620),D=n(9192),I=n(5964),Z=n(15656),w=n(87029),S=n(15861),k=n(64687),_=n.n(k),j=n(47173),M=n(80236),T=n(45697),N=n.n(T),P=n(8027),C=n(96094),A=n(32349),x=n(86706),L=function(e){var t,n=e.groupId,r=e.closeModal,a=e.isOpen,c=e.reloadData,l=e.groupName,u=(0,C.Z)({api:P.$v,tableReload:!0}),d=(0,o.Z)(u,2),m=d[0],p=d[1],f=m.data,v=m.isLoading,b=m.hasError,g=(0,i.useState)([]),y=(0,o.Z)(g,2),h=y[0],E=y[1],O=(0,x.I0)();return s().createElement(M.u,{id:"add-systems-modal",title:"Add systems",position:"top",isOpen:a,onClose:r,variant:"large",actions:[s().createElement(j.zx,{isDisabled:0===h.length,key:"confirm",variant:"primary",onClick:function(){var e={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(l," successfully")},onError:{title:"Error",description:"An error occurred making the request"}};(0,A.Z)(O,(function(){return(0,w.e3)(parseInt(n),h.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((0,S.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),r()}},"Add systems"),s().createElement(j.zx,{key:"cancel",variant:"link",onClick:r},"Cancel")]},s().createElement(Z.Z,{selectedItems:E,skeletonRowQuantity:15,hasCheckbox:!0,isLoading:v,hasError:b,count:null==f?void 0:f.count,data:(null==f||null===(t=f.data)||void 0===t?void 0:t.devices)||[],fetchDevices:p}))};L.propTypes={groupId:N().string,closeModal:N().func,isOpen:N().bool,reloadData:N().func,groupName:N().string};const R=L;var V=n(48903),q=n(96354),B=n(52643),G=n(37619),U=n(60722),F=n(47906),H=n(61381);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=s().lazy((function(){return Promise.all([n.e(6954),n.e(4390),n.e(8615),n.e(3006),n.e(6681)]).then(n.bind(n,68940))}));const $=function(){var e,t,n,a,S,k,_,j,M,T,N=(0,x.I0)(),P=(0,O.useParams)(),L=(0,O.useHistory)(),X=(0,O.useLocation)(),$=X.search,K=X.pathname,W=P.groupId,J=(0,i.useState)(!1),Y=(0,o.Z)(J,2),ee=Y[0],te=Y[1],ne=(0,i.useState)(!1),re=(0,o.Z)(ne,2),ae=re[0],oe=re[1],ie=(0,i.useState)({isOpen:!1,name:"",deviceId:null}),se=(0,o.Z)(ie,2),ce=se[0],le=se[1],ue=(0,i.useState)({isOpen:!1,deviceData:null,imageData:null}),de=(0,o.Z)(ue,2),me=de[0],pe=de[1],fe=(0,C.Z)({api:w.VL,id:W,tableReload:!0}),ve=(0,o.Z)(fe,2),be=ve[0],ge=ve[1],ye=be.data,he=be.isLoading,Ee=be.hasError,Oe=null==ye||null===(e=ye.DeviceGroup)||void 0===e?void 0:e.Name,De=(0,i.useState)([]),Ie=(0,o.Z)(De,2),Ze=Ie[0],we=Ie[1],Se=(0,i.useState)(!1),ke=(0,o.Z)(Se,2),_e=ke[0],je=ke[1],Me=(0,i.useState)({id:null,name:""}),Te=(0,o.Z)(Me,2),Ne=Te[0],Pe=Te[1],Ce=(0,i.useState)(!1),Ae=(0,o.Z)(Ce,2),xe=Ae[0],Le=Ae[1],Re=(0,i.useState)(!1),Ve=(0,o.Z)(Re,2),qe=Ve[0],Be=Ve[1],Ge=function(){var e={onSuccess:{title:"Success",description:"".concat(ce.name," has been removed successfully")},onError:{title:"Error",description:"Failed to remove system"}};(0,A.Z)(N,(function(){return(0,w._j)(W,ce.deviceId)}),e),setTimeout((function(){return je(!0)}),800)},Ue="Actions for group details view",Fe="group-details-dropdown";return s().createElement(s().Fragment,null,s().createElement(y.Z,{className:"pf-m-light"},Oe?s().createElement(c.a,null,s().createElement(l.g,null,s().createElement(O.Link,{to:D._.fleetManagement},"Groups")),s().createElement(l.g,null,Oe)):s().createElement(c.a,null,s().createElement(l.g,{isActive:!0},s().createElement(b.O,{width:"100px"}))),s().createElement(f.k,{justifyContent:{default:"justifyContentSpaceBetween"}},s().createElement(v.B,null,Oe?s().createElement(h.Z,{title:Oe}):s().createElement(b.O,{width:"150px"})),s().createElement(v.B,null,s().createElement(u.L,{position:p.ir.right,toggle:s().createElement(m.Z,{id:Fe,toggleIndicator:I.ZP,onToggle:function(e){return te(e)},isDisabled:!1,"aria-label":Ue},s().createElement(g.u,{content:Ue,reference:function(){return document.getElementById(Fe)}}),"Actions"),isOpen:ee,dropdownItems:[s().createElement(d.h,{key:"delete-device-group",onClick:function(){return Pe({id:W,name:Oe}),void Le(!0)}},"Delete group"),s().createElement(d.h,{key:"rename-device-group",onClick:function(){return Pe({id:W,name:Oe}),void Be(!0)}},"Rename group"),s().createElement(d.h,{key:"update-all-devices",isDisabled:(0,V.yb)({deviceData:null==ye||null===(t=ye.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{imageSetId:null==e?void 0:e.ImageSetID}})),imageData:null==ye||null===(a=ye.DevicesView)||void 0===a||null===(S=a.devices)||void 0===S?void 0:S.some((function(e){return e.ImageID}))}),onClick:function(){te(!1),pe((function(e){var t,n,r,a;return z(z({},e),{},{isOpen:!0,deviceData:null==ye||null===(t=ye.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{id:null==e?void 0:e.DeviceUUID,display_name:""===(null==e?void 0:e.DeviceName)?"localhost":null==e?void 0:e.DeviceName}})),imageSetId:null==ye||null===(r=ye.DevicesView)||void 0===r||null===(a=r.devices.find((function(e){return e.ImageSetID})))||void 0===a?void 0:a.ImageSetID})}))}},"Update")]})))),s().createElement("section",{className:"edge-devices pf-l-page__main-section pf-c-page__main-section"},(0,V.G0)(he,null==ye||null===(k=ye.DeviceGroup)||void 0===k?void 0:k.Devices.length,$)?s().createElement(f.k,{justifyContent:{default:"justifyContentCenter"}},s().createElement(E.Z,{icon:"plus",title:"Add systems to the group",body:"Create groups to help manage your systems more effectively.",primaryAction:{text:"Add systems",click:function(){return oe(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):s().createElement(Z.Z,{data:(null==ye||null===(_=ye.DevicesView)||void 0===_?void 0:_.devices)||[],count:null==ye||null===(j=ye.DevicesView)||void 0===j?void 0:j.total,isLoading:he,hasError:Ee,hasCheckbox:!0,handleSingleDeviceRemoval:Ge,kebabItems:[{isDisabled:!(Ze.length>0),title:"Remove from group",onClick:function(){return le({name:"",deviceId:null,isOpen:!0})}},{isDisabled:(0,V.yb)({deviceData:Ze,imageData:null===(M=Ze[0])||void 0===M?void 0:M.updateImageData}),title:"Update selected",onClick:function(){return pe((function(e){return z(z({},e),{},{isOpen:!0,deviceData:(0,r.Z)(Ze),imageSetId:Ze.find((function(e){return null==e?void 0:e.imageSetId})).imageSetId})}))}}],selectedItems:we,setRemoveModal:le,setIsAddModalOpen:oe,hasModalSubmitted:_e,setHasModalSubmitted:je,fetchDevices:ge,isAddSystemsView:!0})),ae&&s().createElement(R,{groupId:W,closeModal:function(){return oe(!1)},isOpen:ae,reloadData:ge,groupName:null==ye||null===(T=ye.DeviceGroup)||void 0===T?void 0:T.Name}),ce.isOpen&&s().createElement(U.Z,{isOpen:ce.isOpen,closeModal:function(){return le(!1)},title:"Remove from group",submitLabel:"Remove",variant:"danger",schema:{fields:[{component:q.Z.PLAIN_TEXT,name:"warning-text",label:"Do you want to remove ".concat(Ze.length>0?"".concat(Ze.length," system").concat(1===Ze.length?"":"s"):"".concat(ce.name)," from ").concat(Oe,"?")}]},onSubmit:ce.deviceId?Ge:function(){var e={onSuccess:{title:"Success",description:"".concat(Ze.length," systems have been removed successfully")},onError:{title:"Error",description:"failed to remove systems"}};(0,A.Z)(N,(function(){return(0,w.tW)(parseInt(W),Ze.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((function(){return je(!0)}),800)},reloadData:ge}),me.isOpen&&s().createElement(i.Suspense,{fallback:s().createElement(B.b,null,s().createElement(G.$,null))},s().createElement(Q,{navigateBack:function(){L.push({pathname:K}),pe((function(e){return z(z({},e),{},{isOpen:!1})}))},setUpdateModal:pe,updateModal:me,refreshTable:ge})),xe&&s().createElement(F.Z,{isModalOpen:xe,setIsModalOpen:Le,reloadData:function(){return L.push(D._.fleetManagement)},modalState:Ne}),qe&&s().createElement(H.Z,{isModalOpen:qe,setIsModalOpen:Be,reloadData:function(){return ge()},modalState:Ne}))}},41609:(e,t,n)=>{var r=n(280),a=n(64160),o=n(35694),i=n(1469),s=n(98612),c=n(44144),l=n(25726),u=n(36719),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||o(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},58392:()=>{}}]);
//# sourceMappingURL=../sourcemaps/GroupsDetail.8bcdc82b460decafe07356fa047deea1.js.map