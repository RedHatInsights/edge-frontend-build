(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[4443],{78057:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r=n(70655),a=n(92950);n(44839);const o={icon:"pf-c-icon",iconContent:"pf-c-icon__content",iconProgress:"pf-c-icon__progress",modifiers:{inline:"pf-m-inline",sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",xl:"pf-m-xl",inProgress:"pf-m-in-progress",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",info:"pf-m-info",default:"pf-m-default"},spinner:"pf-c-spinner"};var i=n(38296),s=n(37619);const l=e=>{var{children:t,className:n,progressIcon:l,size:c,iconSize:u,progressIconSize:d,status:p,isInline:m=!1,isInProgress:f=!1,defaultProgressArialabel:g="Loading..."}=e,v=(0,r.__rest)(e,["children","className","progressIcon","size","iconSize","progressIconSize","status","isInline","isInProgress","defaultProgressArialabel"]);const h=l||a.createElement(s.$,{diameter:"1em",isSVG:!0,"aria-label":g});return a.createElement("span",Object.assign({className:(0,i.i)(o.icon,m&&o.modifiers.inline,f&&o.modifiers.inProgress,o.modifiers[c],n)},v),a.createElement("span",{className:(0,i.i)(o.iconContent,o.modifiers[u],o.modifiers[p])},t),f&&a.createElement("span",{className:(0,i.i)(o.iconProgress,o.modifiers[d],n)},h))};l.displayName="Icon"},76889:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>i,_t:()=>a,k1:()=>o});var r=n(40400);const a={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},o=(0,r.IU)(a),i=o},47906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),s=n(64124),l=n(96354),c=n(60722),u=n(87029),d=n(69957),p=n(37655),m=n(68340),f=n(32349),g=n(77760),v=function(e){return a().createElement(m.x,null,a().createElement("strong",null,e," "),"and all its data will be permanently deleted. Associated systems will be removed from the group but will not be deleted.")},h=function(e){return{fields:[{component:l.Z.PLAIN_TEXT,name:"warning-message",label:v(e)},{component:l.Z.CHECKBOX,name:"confirmation",label:"I understand that this action cannot be undone.",validate:[{type:s.Z.REQUIRED}]}]}},b=function(){return a().createElement(d.ZP,{color:p.Z.value})},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,o=e.modalState,i=o.id,s=o.name,l=(0,g.useDispatch)();return a().createElement(c.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Delete group",titleIconVariant:b,variant:"danger",submitLabel:"Delete",schema:h(s),onSubmit:function(){var e={onSuccess:{title:"Success",description:"".concat(s," has been removed successfully")},onError:{title:"Error",description:"Failed to delete group"}};(0,f.Z)(l,(function(){return(0,u.yq)(i)}),e)},reloadData:r})};y.propTypes={id:i().number,name:i().string,modalState:i().object,isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func};const E=y},64977:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Q});var r=n(15861),a=n(29439),o=n(64687),i=n.n(o),s=n(92950),l=n.n(s),c=n(52643),u=n(28191),d=n(37619),p=n(89376),m=n(39173),f=n(55140),g=n(4942),v=n(45697),h=n.n(v),b=n(21061),y=n(68519),E=n(5513),O=n(9192),w=n(75824),I=n(48903);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=l().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(9986),n.e(6681)]).then(n.bind(n,68940))})),Z=[{label:"Name",type:"text"}],M=[{title:"Name",type:"name",sort:!0},{title:"Systems",type:"name",sort:!1},{title:"Image",type:"name",sort:!1}],x=function(e){var t=e.data,n=e.count,o=e.isLoading,u=e.hasError,p=e.handleCreateModal,m=e.handleRenameModal,f=e.handleDeleteModal,g=e.hasModalSubmitted,v=e.setHasModalSubmitted,h=e.locationProp,S=e.navigateProp,x=e.fetchGroups,k=(0,I.gV)("edge-management.hide-create-group"),_=(0,y.k6)(),j=(h?h():(0,y.TH)()).pathname,N=window.location.pathname.indexOf("edge")>0?"edge":O._.inventory,T=S?S():E.useNavigate?(0,E.useNavigate)():null,C=(0,s.useState)({isOpen:!1,deviceData:null,imageData:null}),G=(0,a.Z)(C,2),A=G[0],L=G[1],z=null==t?void 0:t.map((function(e){var t,n,r,a=e.DeviceGroup,o=a.ID,i=a.Name,s=a.Devices,c=e.DevicesImageInfo;c||(c=[]);var u=null!=s?s:[],d=l().createElement("div",null,l().createElement(w.u,{content:l().createElement("div",null,c.map((function(e,t){return l().createElement("p",{key:t},e.Name)})))},l().createElement("span",null,"Multiple images")));return{rowInfo:{id:o,title:i,image:0===c.length?"-":c.length>1?"Multiple images":null===(t=c[0])||void 0===t?void 0:t.Name,devicesImageInfo:e.DevicesImageInfo,devices:s,hasValidUpdate:null==e||null===(n=e.DeviceGroup)||void 0===n?void 0:n.ValidUpdate},cells:[{title:(0,I.EW)({pathname:"edge"===N?"edge".concat(O._.fleetManagement,"/").concat(o):"insights/inventory/groups/".concat(o),linkText:i})},{title:u.length},{title:0===c.length?"-":c.length>1?d:null===(r=c[0])||void 0===r?void 0:r.Name}]}}));return l().createElement(l().Fragment,null,l().createElement(b.Z,{apiFilterSort:!0,isUseApi:!0,loadTableData:x,filters:Z,tableData:{count:n,data:t,isLoading:o,hasError:u},columnNames:M,rows:z,actionResolver:function(e){var t;if(null==e||!e.rowInfo)return[];var n=e.rowInfo,r=n.id,a=n.title,o=n.devices,i=n.devicesImageInfo,s=null==i?void 0:i.some((function(e){return e.UpdateAvailable}));return r&&[{title:"Rename",onClick:function(){return m(r,a)}},{title:"Delete",onClick:function(){return f(r,a)}},{title:"Update",onClick:function(){return L((function(e){return P(P({},e),{},{deviceData:o.map((function(e){return{id:e.UUID,display_name:e.Name}})),imageId:o.find((function(e){return null==e?void 0:e.ImageID})).ImageID,isOpen:!0})}))},isDisabled:!(o.length>0&&null!=e&&null!==(t=e.rowInfo)&&void 0!==t&&t.hasValidUpdate&&s)}]},locationProp:h,navigateProp:S,areActionsDisabled:function(){return!1},defaultSort:{index:0,direction:"asc"},emptyFilterState:{title:"No matching groups found",body:"To continue, edit your filter settings and try again"},toolbarButtons:k?[]:[{title:"Create group",click:p}],hasModalSubmitted:g,setHasModalSubmitted:v}),A.isOpen&&l().createElement(s.Suspense,{fallback:l().createElement(c.b,null,l().createElement(d.$,null))},l().createElement(D,{navigateBack:function(){S?T({pathname:j}):_.push({pathname:j}),L((function(e){return P(P({},e),{},{isOpen:!1})}))},setUpdateModal:L,updateModal:A,refreshTable:(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:v(!0);case 3:case"end":return e.stop()}}),e)})))})))};x.propTypes={data:h().array,count:h().number,closeModal:h().func,isLoading:h().bool,hasError:h().bool,handleRenameModal:h().func,handleDeleteModal:h().func,handleCreateModal:h().func,hasModalSubmitted:h().bool,setHasModalSubmitted:h().func,locationProp:h().func,navigateProp:h().func,fetchGroups:h().func};const k=x;var _=n(3035),j=n(87029),N=n(41825),T=n(61381),C=n(47906),G=n(96094),A=n(47173),L=n(9947),z=n(38424),R=n(75106),U=n(35293),V=n(78057),F=n(68774),W=n(68340),H=n(38779),$=n(15265),q=n(42559);const B=function(){var e=(0,I.gV)(q.k3);return l().createElement(l().Fragment,null,l().createElement(p.Z,null,l().createElement(F.D,null,l().createElement(W.x,{component:"h1",id:"custom-repos-title"},"Groups"))),l().createElement(L.u,{id:"moved-state"},l().createElement(z.k,{id:"external-link-icon",icon:$.ZP}),l().createElement(H.D,{id:"moved-state-title",headingLevel:"h4",size:"xl"},"Groups have moved"),l().createElement(R.B,{id:"moved-state-body"},"You can now use your groups across the console. Access them on the Insights ",e?"Workspaces":"Groups"," page."),l().createElement(A.zx,{id:"moved-state-button",variant:"primary",component:"a",target:"_blank",href:"https://".concat(window.location.host,"/insights/inventory/groups")},"Go to ",e?"Workspaces":"Groups"),l().createElement(U.i,null,l().createElement(A.zx,{id:"moved-state-link",variant:"link",component:"a",target:"_blank",href:"https://access.redhat.com/documentation/en-us/red_hat_insights/2023/html/viewing_and_managing_system_inventory/deploying-insights-with-rhca"},"Learn more about ",e?"Workspaces":"Groups",l().createElement(V.J,{style:{paddingLeft:"1rem"},iconSize:"md",size:"lg",isInline:!0},l().createElement($.ZP,null))))))};var X=n(28118),J=function(e){var t=e.locationProp,n=e.navigateProp,o=e.paramsProp,g=(0,I.gV)("edge-management.hide-create-group"),v=(0,X.Z)(!1),h=(0,a.Z)(v,2),b=h[0],E=h[1],O=(t?t():(0,y.TH)()).search,w=(0,G.Z)({api:j.jA,tableReload:!0}),S=(0,a.Z)(w,2),P=S[0],D=S[1],Z=(0,f.Z)(),M=P.data,x=P.isLoading,A=P.hasError,L=(0,s.useState)({id:null,name:""}),z=(0,a.Z)(L,2),R=z[0],U=z[1],V=(0,s.useState)(!1),F=(0,a.Z)(V,2),W=F[0],H=F[1],$=(0,s.useState)(!1),q=(0,a.Z)($,2),J=q[0],Q=q[1],K=(0,s.useState)(!1),Y=(0,a.Z)(K,2),ee=Y[0],te=Y[1],ne=(0,s.useState)(!1),re=(0,a.Z)(ne,2),ae=re[0],oe=re[1],ie=function(){var e=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:oe(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e;null==Z||null===(e=Z.updateDocumentTitle)||void 0===e||e.call(Z,"Groups - Inventory")}),[Z]),l().createElement(l().Fragment,null,E?b?l().createElement(B,null):l().createElement(l().Fragment,null,l().createElement(p.Z,{className:"pf-m-light"},l().createElement(m.Z,{title:"Groups"})),l().createElement("section",{className:"edge-groups pf-l-page__main-section pf-c-page__main-section"},(0,I.G0)(x,null==M?void 0:M.count,O)?l().createElement(u.k,{justifyContent:{default:"justifyContentCenter"}},g,"?",":",l().createElement(_.Z,{icon:"plus",title:"Create a system group",body:"Create system groups to help manage your systems more effectively.",primaryAction:{text:"Create group",click:function(){return H(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):l().createElement(k,{data:(null==M?void 0:M.data)||[],count:null==M?void 0:M.count,isLoading:x,hasError:A,handleRenameModal:function(e,t){U({id:e,name:t}),Q(!0)},locationProp:t,navigateProp:n,paramsProp:o,handleDeleteModal:function(e,t){U({id:e,name:t}),te(!0)},handleCreateModal:function(){return H(!0)},hasModalSubmitted:ae,setHasModalSubmitted:oe,fetchGroups:D})),W&&l().createElement(N.Z,{isModalOpen:W,setIsModalOpen:H,reloadData:ie}),J&&l().createElement(T.Z,{isModalOpen:J,setIsModalOpen:Q,reloadData:ie,modalState:R}),ee&&l().createElement(C.Z,{isModalOpen:ee,setIsModalOpen:te,reloadData:ie,modalState:R})):l().createElement(c.b,null,l().createElement(d.$,{size:"xl"})))};J.propTypes={pathPrefix:h().string,historyProp:h().func,locationProp:h().func,navigateProp:h().func,notificationProp:h().object,paramsProp:h().func};const Q=J},61381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(15861),a=n(64687),o=n.n(a),i=n(92950),s=n.n(i),l=n(45697),c=n.n(l),u=n(64124),d=n(96354),p=n(60722),m=n(87029),f=n(48903),g=n(32349),v=n(77760),h=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Tb)(t);case 2:if(!e.sent.data.isValid){e.next=5;break}return e.abrupt("return","Group name already exists");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b={fields:[{component:d.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.Z.REQUIRED},{type:u.Z.MAX_LENGTH,threshold:50},f.qg,h]}]},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.modalState,o=a.id,i=a.name,l=(0,v.useDispatch)();return s().createElement(p.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Rename group",submitLabel:"Save",schema:b,initialValues:a,onSubmit:function(e){var t={onSuccess:{title:"Success",description:"".concat(i," has been renamed to ").concat(e.name," successfully")},onError:{title:"Error",description:"Failed to rename group"}};(0,g.Z)(l,(function(){return(0,m.OS)(o,e)}),t)},reloadData:r})};y.propTypes={id:c().number,modalState:c().object,isModalOpen:c().bool,setIsModalOpen:c().func,reloadData:c().func};const E=y},42559:(e,t,n)=>{"use strict";n.d(t,{_F:()=>a,hh:()=>r,k3:()=>o});var r="edgeParity.inventory-groups-enabled",a="edge-management.hide_groups_actions",o="platform.rbac.groups-to-workspaces-rename"},32349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(4942),a=n(15861),o=n(64687),i=n.n(o),s=n(83215);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n,r){var o,l,u,d=null===(o=n)||void 0===o?void 0:o.onSuccess,p=null===(l=n)||void 0===l?void 0:l.onInfo,m=null===(u=n)||void 0===u?void 0:u.onWarning;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var f=function(){var o=(0,a.Z)(i().mark((function a(){var o;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t();case 3:return o=a.sent,p&&(r?r.hasInfo(n.onInfo):e(c({},(0,s.wN)(c({variant:"info"},n.onInfo))))),d&&(r?r.hasSuccess(n.onSuccess):e(c({},(0,s.wN)(c({variant:"success"},n.onSuccess))))),m&&(r?r.hasWarning(n.onWarning):e(c({},(0,s.wN)(c({variant:"warning"},n.onWarning))))),a.abrupt("return",o);case 10:return a.prev=10,a.t0=a.catch(0),r?r.err(n.onError,a.t0):e(c({},(0,s.wN)(c(c({variant:"danger"},n.onError),{},{description:null!==a.t0&&void 0!==a.t0&&a.t0.Title?"".concat(n.onError.description,": ").concat(a.t0.Title):n.onError.description})))),a.abrupt("return",a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return o.apply(this,arguments)}}();return f()}},27561:(e,t,n)=>{var r=n(67990),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),a=n(7771),o=n(14841),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,m,f=0,g=!1,v=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function y(e){return f=e,p=setTimeout(O,t),g?b(e):d}function E(e){var n=e-m;return void 0===m||n>=t||n<0||v&&e-f>=u}function O(){var e=a();if(E(e))return w(e);p=setTimeout(O,function(e){var n=t-(e-m);return v?s(n,u-(e-f)):n}(e))}function w(e){return p=void 0,h&&l?b(e):(l=c=void 0,d)}function I(){var e=a(),n=E(e);if(l=arguments,c=this,m=e,n){if(void 0===p)return y(m);if(v)return clearTimeout(p),p=setTimeout(O,t),b(m)}return void 0===p&&(p=setTimeout(O,t)),d}return t=o(t)||0,r(n)&&(g=!!n.leading,u=(v="maxWait"in n)?i(o(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),I.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=m=c=p=void 0},I.flush=function(){return void 0===p?d:w(a())},I}},85564:(e,t,n)=>{var r=n(21078);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},7739:(e,t,n)=>{var r=n(89465),a=n(55189),o=Object.prototype.hasOwnProperty,i=a((function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=i},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},14841:(e,t,n)=>{var r=n(27561),a=n(13218),o=n(33448),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},44839:()=>{},91993:()=>{},59199:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:()=>r})},93433:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(30907),a=n(59199),o=n(40181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=../sourcemaps/4443.43b042d097fa38c94c2b226110d092f3.js.map