(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[673],{7989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var l=n(1427),r=n.n(l),a=n(55399),c=n(50693),u=n(16475),o=n(64029),i=n(32835),s=n(67336),m=n(56455),d=n(48716),v=n(86350),p=n(38775),f=n(53895),E=n(33902),h=n(69859);const g=function(){var e=(0,a.useParams)(),t=e.inventoryId,n=e.uuid,g=(0,h.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.display_name})),b=(0,h.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.name}));return(0,l.useEffect)((function(){var e,t;null===(e=insights.chrome)||void 0===e||null===(t=e.hideGlobalFilter)||void 0===t||t.call(e,!0),insights.chrome.appAction("system-detail")}),[]),(0,l.useEffect)((function(){var e,n,l;null===(e=insights)||void 0===e||null===(n=e.chrome)||void 0===n||null===(l=n.appObjectId)||void 0===l||l.call(n,t)}),[t]),r().createElement(p.Z,{hideInvLink:!0,showTags:!0,onLoad:function(e){var t=e.mergeWithDetail;(0,s.JH)().register(t())}},r().createElement(d.Z,null,r().createElement(o.a,{ouiaId:"systems-list"},r().createElement(i.g,null,r().createElement(a.Link,{to:"/groups"},"Groups")),r().createElement(i.g,null,b?r().createElement(a.Link,{to:"/groups/".concat(n)},b):r().createElement(m.Z,{size:m.i.xs})),r().createElement(i.g,{isActive:!0},r().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},g||r().createElement(m.Z,{size:m.i.xs})))),r().createElement(f.Z,{fallback:"",hideBack:!0,showTags:!0,hideInvLink:!0,hideInvDrawer:!0})),r().createElement(v.Z,null,r().createElement(c.r,{gutter:"md"},r().createElement(u.P,{span:12},r().createElement(E.Z,{showTags:!0,fallback:""})))))}},56311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var l=n(87757),r=n.n(l),a=n(48926),c=n.n(a),u=n(59713),o=n.n(u),i=n(6479),s=n.n(i),m=n(63038),d=n.n(m),v=n(1427),p=n.n(v),f=n(55399),E=n(69859),h=n(48716),g=n(86350),b=n(64029),D=n(32835),y=n(15209),O=n(49739),k=n(83826),w=n(47173),P=n(67336),x=n(60306),L=n(4250),S=n(96416),T=n(50693),_=n(16475),I=n(32203),j=n(62394),C=n(70401),R=n(60485),Z=n(52643),A=n(68774),N=n(68340),q=n(45454),F=n(25834),G=n(45697),z=function(e){var t=e.uuid,n=(0,E.useDispatch)(),l=(0,E.useSelector)((function(e){var t=e.groupDevicesInfoReducer;return null==t?void 0:t.isLoading})),r=(0,E.useSelector)((function(e){var t=e.groupDevicesInfoReducer;return null==t?void 0:t.devicesInfo}));return(0,v.useEffect)((function(){n((0,L.MW)())}),[]),p().createElement(T.r,{hasGutter:!0},p().createElement(_.P,{span:3},p().createElement(I.Z,null,p().createElement(C.O,null,p().createElement(R.D,{headingLevel:"h3"},"Health threshold")),p().createElement(j.e,null))),p().createElement(_.P,{span:3},p().createElement(I.Z,null,p().createElement(C.O,null,p().createElement(R.D,{headingLevel:"h3"},"Devices info")),p().createElement(j.e,null,p().createElement(A.D,null,p().createElement(F.G,{component:F.F.dl},p().createElement(q.T,{component:q.v.dt},!1===l?p().createElement(N.x,{component:N.q.h1},null==r?void 0:r.total):p().createElement(y.O,null)),p().createElement(q.T,{component:q.v.dd},p().createElement(N.x,{component:N.q.h3},"Total devices")),p().createElement(q.T,{component:q.v.dt},!1===l?p().createElement(N.x,{component:N.q.h1},p().createElement(f.Link,{to:"/groups/".concat(t)},null==r?void 0:r.newDevices)):p().createElement(y.O,null)),p().createElement(q.T,{component:q.v.dd},"New devices added"),p().createElement(q.T,{component:q.v.dt},!1===l?p().createElement(N.x,{component:N.q.h1},p().createElement(f.Link,{to:"/groups/".concat(t)},null==r?void 0:r.offlineDevices)):p().createElement(y.O,null)),p().createElement(q.T,{component:q.v.dd},"Devices offline"),p().createElement(q.T,{component:q.v.dt},!1===l?p().createElement(N.x,{component:N.q.h1},p().createElement(f.Link,{to:"/groups/".concat(t)},null==r?void 0:r.deliveringDevices)):p().createElement(y.O,null)),p().createElement(q.T,{component:q.v.dd},"Devices on the way")))))),p().createElement(_.P,{span:6},p().createElement(I.Z,{className:"edge-groups--detail__complex"},p().createElement(C.O,null,p().createElement(T.r,null,p().createElement(_.P,{span:6},p().createElement(R.D,{headingLevel:"h3"},"Canary parameters")),p().createElement(_.P,{span:6},p().createElement(R.D,{headingLevel:"h3"},"Last Canaries")))),p().createElement(j.e,null,p().createElement(T.r,{hasGutter:!0},p().createElement(_.P,{span:6},p().createElement(R.D,{headingLevel:"h3"},p().createElement(Z.b,null,p().createElement(A.D,null,p().createElement(N.x,{component:N.q.h1},p().createElement(Z.b,null,"10% (89)")),p().createElement(N.x,{component:N.q.h4},p().createElement(Z.b,null,"Of systems tested")))))),p().createElement(_.P,{span:6}))))))};z.propTypes={uuid:n.n(G)().string};const H=z;var J=n(33739),V=n(67139);const W={fields:[{component:n(86163).k,name:"select-system"}]};var B=n(83958),M=n(8969);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=(0,v.lazy)((function(){return Promise.all([n.e(410),n.e(291),n.e(0),n.e(242),n.e(459)]).then(n.bind(n,75459))})),U={name:{label:"Name",value:""},version:{label:"Version",value:[]},status:{label:"Status",value:[]}};const X=function(){var e,t,n,l,a,u,o=(0,v.useState)(!1),i=d()(o,2),m=i[0],T=i[1],_=(0,v.useState)(),I=d()(_,2),j=I[0],C=I[1],R=(0,v.useState)(),Z=d()(R,2),A=Z[0],N=Z[1],q=(0,v.useState)(U),F=d()(q,2),G=F[0],z=F[1],Y=(0,f.useHistory)(),X=(0,v.useRef)(null),$=(0,f.useParams)().uuid,ee=(0,E.useDispatch)(),te=(0,E.useSelector)((function(e){var t=e.groupsDetailReducer;return(null==t?void 0:t.name)||""})),ne=(0,E.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.isLoading})),le=(0,E.useSelector)((function(e){var t,n=e.groupsDetailReducer;return null==n||null===(t=n.devices)||void 0===t?void 0:t.map((function(e){return K({id:e.uuid},s()(e,["uuid"]))}))}),E.shallowEqual);return(0,v.useEffect)((function(){var e=(0,P.JH)().register({groupsDetailReducer:S.Br,groupDevicesInfoReducer:S.JR});return ee((0,L.tF)($)),function(){console.log(e,A,"cleaned up"),null==e||e(),null==A||A(),ee((0,L.Qo)())}}),[]),p().createElement(v.Fragment,null,p().createElement(h.Z,null,p().createElement(b.a,null,p().createElement(D.g,null,p().createElement(f.Link,{to:x._j.Xx},"Groups")),p().createElement(D.g,{isActive:!0},!1===ne?te:p().createElement(y.O,null)))),p().createElement(g.Z,{className:"edge-groups--detail"},p().createElement(O.K,{hasGutter:!0},p().createElement(k.v,{className:"edge-groups--detail__info"},p().createElement(H,{uuid:$})),p().createElement(k.v,{isFilled:!0},p().createElement(J.Z,{ref:X,page:1,tableProps:{canSelectAll:!1},hideFilters:{all:!0},getEntities:function(){var e=c()(r().mark((function e(t,n){var l,a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.kr)($,{});case 2:return l=e.sent,a=l.results,e.next=6,null==j?void 0:j((a||[]).map((function(e){return e.uuid})),K(K({},n),{},{hasItems:!0}),!1);case 6:return c=e.sent,e.abrupt("return",K(K({},c),{},{results:c.results.map((function(e){return K(K({},e),a.find((function(t){return t.uuid===e.id})))}))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),filterConfig:{items:[{label:null==G||null===(e=G.name)||void 0===e?void 0:e.label,filterValues:{key:"text-filter",onChange:function(e,t){return z((function(){return K(K({},G),{},{name:K(K({},(null==G?void 0:G.name)||{}),{},{value:t})})}))},value:(null==G||null===(t=G.name)||void 0===t?void 0:t.value)||""}},{label:null==G||null===(n=G.version)||void 0===n?void 0:n.label,type:"checkbox",filterValues:{onChange:function(e,t){return z((function(){return K(K({},G||{}),{},{version:K(K({},(null==G?void 0:G.version)||{}),{},{value:t})})}))},value:(null==G||null===(l=G.version)||void 0===l?void 0:l.value)||[],items:[{label:"All versions",value:"all"}]}},{label:null==G||null===(a=G.status)||void 0===a?void 0:a.label,type:"checkbox",filterValues:{onChange:function(e,t){return z((function(){return K(K({},G||{}),{},{status:K(K({},(null==G?void 0:G.status)||{}),{},{value:t})})}))},items:M.Op.map((function(e){return{value:e,label:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}})),value:(null==G||null===(u=G.status)||void 0===u?void 0:u.value)||[]}}]},activeFiltersConfig:K(K({},(0,M.pM)(G)&&{filters:(0,M.I)(G)}),{},{onDelete:function(e,t,n){z(n?U:function(){return(0,M.Jr)(G,t)})}}),onRowClick:function(e,t){return Y.push("/groups/".concat($,"/").concat(t))},onLoad:function(e){var t=e.mergeWithEntities,n=e.INVENTORY_ACTION_TYPES,l=e.api;C((function(){return null==l?void 0:l.getEntities})),N((function(){return(0,P.JH)().register(K({},t((0,V.z)(n))))}))}},p().createElement(w.zx,{onClick:function(){return T(!0)}},"Add device"))))),m&&p().createElement(v.Suspense,{fallback:""},p().createElement(Q,{selectedSystems:le,schema:W,isOpened:m,title:"Add new device",onAction:function(e,t){e&&c()(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.mD)({uuid:$,systemIDs:t.selected});case 2:ee((0,L.tF)($)),X.current.onRefreshData();case 4:case"end":return e.stop()}}),e)})))(),T(!1)}})))}}}]);
//# sourceMappingURL=GroupsDetailPage.fcc20e7cd1104fd9e337.js.map