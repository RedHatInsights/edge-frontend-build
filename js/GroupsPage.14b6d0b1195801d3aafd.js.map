{"version":3,"sources":["webpack://insights-frontend-starter-app/./src/Routes/Groups/GroupsInfo.js","webpack://insights-frontend-starter-app/./src/Routes/Groups/GroupsTable.js","webpack://insights-frontend-starter-app/./src/Routes/Groups/newGroupSchema.js","webpack://insights-frontend-starter-app/./src/Routes/Groups/Groups.js"],"names":["GroupsInfo","numberOfSystems","dispatch","useDispatch","threshold","useSelector","thresholdReducer","isThresholdLoading","isLoading","isDevicesInfoLoading","devicesInfoReducer","devicesInfo","canariesInfo","canariesInfoReducer","slice","isCanariesInfoLoading","useEffect","loadThreshold","loadCanariesInfo","loadDevicesInfo","Grid","hasGutter","GridItem","span","Card","CardHeader","Title","headingLevel","CardBody","ChartPie","ariaDesc","ariaTitle","constrainToVisibleArea","legendOrientation","legendPosition","height","width","data","map","item","x","Object","keys","y","values","legendData","name","padding","bottom","left","right","top","labels","datum","themeColor","ChartThemeColor","Bullseye","Spinner","TextContent","TextList","component","TextListVariants","TextListItem","T","TextListItemVariants","Text","TextVariants","Link","to","requiredApproval","Skeleton","orphaned","delivering","key","group","date","status","Fragment","uuid","Level","LevelItem","DateFormat","CardFooter","Split","SplitItem","isFilled","propTypes","PropTypes","defaultProps","columns","title","transforms","sortable","cellWidth","GroupsTable","onAddNewGroup","useState","sortBy","setSortBy","groups","groupsReducer","Table","aria-label","length","actions","onClick","console","log","cells","onSort","_e","index","direction","rows","sensors","isSecure","is_secure","last_seen","EmptyState","variant","EmptyStateVariant","size","EmptyStateBody","Button","props","colSpan","TableHeader","TableBody","fields","componentTypes","inModal","nextStep","type","label","isRequired","validate","INVENTORY_TABLE","InventoryForm","lazy","defaultFilters","value","security","getRegistry","useContext","RegistryContext","activeFilters","setActiveFilters","isNewGroupOpen","setIsNewGroupOpen","systemsCount","reduce","acc","meta","page","register","loadGroups","PageHeader","className","PageHeaderTitle","Main","Stack","StackItem","PrimaryToolbar","pagination","itemCount","count","offset","limit","perPage","Number","isCompact","dedicatedAction","isDisabled","filterConfig","items","filterValues","onChange","event","placeholder","statusMapper","charAt","toUpperCase","activeFiltersConfig","filters","isEmptyFilters","constructActiveFilters","onDelete","itemsToRemove","isAll","onDeleteFilter","SkeletonTable","colSize","rowSize","TableToolbar","isFooter","Pagination","dropDirection","Suspense","fallback","schema","isOpened","onAction","isSubmit","createNewGroup","groupName","systemIDs","selected"],"mappings":"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","file":"js/GroupsPage.14b6d0b1195801d3aafd.js","sourcesContent":["import React, { useEffect, Fragment } from 'react';\nimport {\n  Grid,\n  GridItem,\n  Card,\n  CardBody,\n  CardHeader,\n  Bullseye,\n  Spinner,\n  Title,\n  TextContent,\n  TextList,\n  TextListVariants,\n  TextListItem,\n  TextListItemVariants,\n  Skeleton,\n  Text,\n  TextVariants,\n  Level,\n  LevelItem,\n  CardFooter,\n  Split,\n  SplitItem,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  loadThreshold,\n  loadDevicesInfo,\n  loadCanariesInfo,\n} from '../../store/actions';\nimport { StatusIcon } from '../../components';\nimport { ChartPie, ChartThemeColor } from '@patternfly/react-charts';\nimport { ArrowRightIcon } from '@patternfly/react-icons';\n\nconst GroupsInfo = ({ numberOfSystems }) => {\n  const dispatch = useDispatch();\n  const threshold = useSelector(\n    ({ thresholdReducer }) => thresholdReducer?.threshold || {}\n  );\n  const isThresholdLoading = useSelector(\n    ({ thresholdReducer }) => thresholdReducer?.isLoading\n  );\n  const isDevicesInfoLoading = useSelector(\n    ({ devicesInfoReducer }) => devicesInfoReducer?.isLoading\n  );\n  const devicesInfo = useSelector(\n    ({ devicesInfoReducer }) => devicesInfoReducer?.devicesInfo || {}\n  );\n  const canariesInfo = useSelector(({ canariesInfoReducer }) =>\n    (canariesInfoReducer?.canariesInfo || []).slice(0, 4)\n  );\n  const isCanariesInfoLoading = useSelector(\n    ({ canariesInfoReducer }) => canariesInfoReducer?.isLoading\n  );\n  useEffect(() => {\n    dispatch(loadThreshold());\n    dispatch(loadCanariesInfo());\n  }, []);\n\n  useEffect(() => {\n    dispatch(loadDevicesInfo(numberOfSystems));\n  }, [numberOfSystems]);\n\n  return (\n    <Grid hasGutter>\n      <GridItem span={3}>\n        <Card>\n          <CardHeader>\n            <Title headingLevel=\"h3\">Health threshold</Title>\n          </CardHeader>\n          <CardBody>\n            {isThresholdLoading === false ? (\n              <ChartPie\n                ariaDesc=\"Health threshold\"\n                ariaTitle=\"Health threshold\"\n                constrainToVisibleArea={true}\n                legendOrientation=\"vertical\"\n                legendPosition=\"right\"\n                height={230}\n                width={450}\n                data={threshold.map((item) => ({\n                  x: Object.keys(item)?.[0],\n                  y: Object.values(item)?.[0],\n                }))}\n                legendData={threshold.map((item) => ({\n                  name: `${Object.keys(item)?.[0]}: ${\n                    Object.values(item)?.[0]\n                  }`,\n                }))}\n                padding={{\n                  bottom: 20,\n                  left: 20,\n                  right: 140, // Adjusted to accommodate legend\n                  top: 20,\n                }}\n                labels={({ datum }) => `${datum.x}: ${datum.y}`}\n                themeColor={ChartThemeColor.multiOrdered}\n              />\n            ) : (\n              <Bullseye>\n                <Spinner />\n              </Bullseye>\n            )}\n          </CardBody>\n        </Card>\n      </GridItem>\n      <GridItem span={3}>\n        <Card>\n          <CardHeader>\n            <Title headingLevel=\"h3\">Devices info</Title>\n          </CardHeader>\n          <CardBody>\n            <TextContent>\n              <TextList component={TextListVariants.dl}>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to=\"/groups\">{devicesInfo?.requiredApproval}</Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  Required approvals\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to=\"/groups\">{devicesInfo?.orphaned}</Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  Orphaned devices\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to=\"/groups\">{devicesInfo?.delivering}</Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  Devices on the way\n                </TextListItem>\n              </TextList>\n            </TextContent>\n          </CardBody>\n        </Card>\n      </GridItem>\n      <GridItem span={3}>\n        <Card>\n          <CardHeader>\n            <Title headingLevel=\"h3\">Last Canaries</Title>\n          </CardHeader>\n          <CardBody>\n            <TextContent>\n              <TextList component={TextListVariants.dl}>\n                {isCanariesInfoLoading === true ? (\n                  <Spinner />\n                ) : (\n                  canariesInfo.map(({ group, date, status }, key) => (\n                    <Fragment key={group?.uuid || key}>\n                      <TextListItem component={TextListItemVariants.dt}>\n                        <Link to={`/groups/${group?.uuid}`}>{group?.name}</Link>\n                      </TextListItem>\n                      <TextListItem component={TextListItemVariants.dd}>\n                        <Level>\n                          <LevelItem>\n                            <DateFormat date={date} />\n                          </LevelItem>\n                          <LevelItem>\n                            <StatusIcon status={status} />\n                          </LevelItem>\n                        </Level>\n                      </TextListItem>\n                    </Fragment>\n                  ))\n                )}\n              </TextList>\n            </TextContent>\n          </CardBody>\n          <CardFooter>\n            <Split>\n              <SplitItem isFilled />\n              <SplitItem>\n                <Link to=\"/canaries\">\n                  See canaries <ArrowRightIcon />\n                </Link>\n              </SplitItem>\n            </Split>\n          </CardFooter>\n        </Card>\n      </GridItem>\n    </Grid>\n  );\n};\n\nGroupsInfo.propTypes = {\n  numberOfSystems: PropTypes.number,\n};\n\nGroupsInfo.defaultProps = {\n  numberOfSystems: 0,\n};\n\nexport default GroupsInfo;\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {\n  Bullseye,\n  EmptyState,\n  EmptyStateVariant,\n  Title,\n  EmptyStateBody,\n  Button,\n} from '@patternfly/react-core';\nimport {\n  Table,\n  TableHeader,\n  TableBody,\n  sortable,\n  cellWidth,\n} from '@patternfly/react-table';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { StatusIcon, SecureIcon } from '../../components';\nimport { Link } from 'react-router-dom';\n\nconst columns = [\n  {\n    title: 'Name of group',\n    transforms: [sortable, cellWidth('max')],\n  },\n  {\n    title: 'Number of devices',\n    transforms: [sortable],\n  },\n  {\n    title: 'Secure',\n    transforms: [sortable, cellWidth(10)],\n  },\n  {\n    title: 'Last seen',\n    transforms: [sortable, cellWidth(15)],\n  },\n  {\n    title: 'Status',\n    transforms: [sortable, cellWidth(10)],\n  },\n];\n\nconst GroupsTable = ({ onAddNewGroup }) => {\n  const [sortBy, setSortBy] = useState({});\n  const groups = useSelector(({ groupsReducer }) => groupsReducer?.groups);\n  return (\n    <Table\n      aria-label=\"Groups table\"\n      {...(groups.length > 0 && {\n        actions: [\n          {\n            title: 'Adopt',\n            onClick: console.log,\n          },\n          {\n            title: 'Reject',\n            onClick: console.log,\n          },\n        ],\n      })}\n      cells={columns}\n      sortBy={sortBy}\n      onSort={(_e, index, direction) =>\n        setSortBy(() => ({\n          index,\n          direction,\n        }))\n      }\n      rows={\n        groups.length > 0\n          ? groups.map((group) => ({\n              cells: [\n                {\n                  title: (\n                    <Link to={`/groups/${group?.uuid}`}>{group?.name}</Link>\n                  ),\n                },\n                group?.sensors?.length,\n                {\n                  title: <SecureIcon isSecure={group?.is_secure} />,\n                },\n                {\n                  title: <DateFormat date={group?.last_seen} />,\n                },\n                {\n                  title: <StatusIcon status={group?.status} />,\n                },\n              ],\n            }))\n          : [\n              {\n                cells: [\n                  {\n                    title: (\n                      <Bullseye>\n                        <EmptyState variant={EmptyStateVariant.full}>\n                          <Title headingLevel=\"h5\" size=\"lg\">\n                            No matching groups found\n                          </Title>\n                          <EmptyStateBody>\n                            This filter criteria matches no groups. <br /> Try\n                            changing your filter settings. Or adding new group.\n                          </EmptyStateBody>\n                          <Button variant=\"primary\" onClick={onAddNewGroup}>\n                            Add group\n                          </Button>\n                        </EmptyState>\n                      </Bullseye>\n                    ),\n                    props: {\n                      colSpan: columns.length + 1,\n                    },\n                  },\n                ],\n              },\n            ]\n      }\n    >\n      <TableHeader />\n      <TableBody />\n    </Table>\n  );\n};\n\nGroupsTable.propTypes = {\n  onAddNewGroup: PropTypes.func,\n};\n\nexport default GroupsTable;\n","import { componentTypes } from '@data-driven-forms/react-form-renderer';\nimport { INVENTORY_TABLE } from '../../components/form';\n\nexport default {\n  fields: [\n    {\n      component: componentTypes.WIZARD,\n      name: 'wizzard',\n      inModal: true,\n      title: 'Create new group',\n      fields: [\n        {\n          title: 'General information',\n          name: 'step-1',\n          nextStep: 'choos-systems',\n          fields: [\n            {\n              component: componentTypes.TEXT_FIELD,\n              name: 'group-name',\n              type: 'text',\n              label: 'Group name',\n              isRequired: true,\n              validate: [\n                {\n                  type: 'required',\n                },\n              ],\n            },\n            {\n              component: componentTypes.SWITCH,\n              name: 'is-secure',\n              label: 'Is secure',\n            },\n          ],\n        },\n        {\n          title: 'Choose systems',\n          name: 'choos-systems',\n          fields: [\n            {\n              component: INVENTORY_TABLE,\n              name: 'select-system',\n            },\n          ],\n        },\n      ],\n    },\n  ],\n};\n","import React, {\n  useEffect,\n  Fragment,\n  useState,\n  lazy,\n  Suspense,\n  useContext,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createNewGroup } from '../../api/';\nimport { loadGroups } from '../../store/actions';\nimport {\n  groupsReducer,\n  thresholdReducer,\n  devicesInfoReducer,\n  canariesInfoReducer,\n} from '../../store/reducers';\nimport {\n  statusMapper,\n  isEmptyFilters,\n  constructActiveFilters,\n  onDeleteFilter,\n} from '../../constants';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { SkeletonTable } from '@redhat-cloud-services/frontend-components/SkeletonTable';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport {\n  Stack,\n  StackItem,\n  Pagination,\n  Skeleton,\n  Button,\n} from '@patternfly/react-core';\nimport GroupsInfo from './GroupsInfo';\nimport GroupsTable from './GroupsTable';\nconst InventoryForm = lazy(() => import('../../components/InventoryForm'));\nimport schema from './newGroupSchema';\nimport { RegistryContext } from '../../store';\n\nconst defaultFilters = {\n  name: {\n    label: 'Name',\n    value: '',\n  },\n  security: {\n    label: 'Security',\n    value: [],\n  },\n  status: {\n    label: 'Status',\n    value: [],\n  },\n};\n\nconst Groups = () => {\n  const { getRegistry } = useContext(RegistryContext);\n  const [activeFilters, setActiveFilters] = useState(defaultFilters);\n  const [isNewGroupOpen, setIsNewGroupOpen] = useState(false);\n  const dispatch = useDispatch();\n  const isLoading = useSelector(\n    ({ groupsReducer }) => groupsReducer?.isLoading\n  );\n  const systemsCount = useSelector(({ groupsReducer }) =>\n    groupsReducer?.groups?.reduce(\n      (acc, { sensors } = {}) => acc + (sensors?.length || 0),\n      0\n    )\n  );\n  const meta = useSelector(\n    ({ groupsReducer }) =>\n      groupsReducer?.meta || {\n        page: 1,\n      }\n  );\n  useEffect(() => {\n    const registered = getRegistry().register({\n      groupsReducer,\n      thresholdReducer,\n      devicesInfoReducer,\n      canariesInfoReducer,\n    });\n    dispatch(loadGroups());\n    () => registered();\n  }, []);\n\n  return (\n    <Fragment>\n      <PageHeader className=\"pf-m-light\">\n        <PageHeaderTitle title=\"Available groups\" />\n      </PageHeader>\n      <Main className=\"edge-groups\">\n        <Stack hasGutter>\n          <StackItem className=\"edge-groups__info\">\n            <GroupsInfo numberOfSystems={systemsCount} />\n          </StackItem>\n          <StackItem isFilled>\n            <PrimaryToolbar\n              {...(isLoading === false\n                ? {\n                    pagination: {\n                      itemCount: meta?.count,\n                      page: meta?.offset / meta?.limit + 1,\n                      perPage: Number(meta?.limit),\n                      isCompact: true,\n                    },\n                    dedicatedAction: (\n                      <Button\n                        onClick={() => setIsNewGroupOpen(true)}\n                        isDisabled={isLoading !== false}\n                      >\n                        Add group\n                      </Button>\n                    ),\n                    filterConfig: {\n                      items: [\n                        {\n                          label: defaultFilters.name.label,\n                          type: 'text',\n                          filterValues: {\n                            key: 'text-filter',\n                            onChange: (event, value) =>\n                              setActiveFilters(() => ({\n                                ...activeFilters,\n                                name: {\n                                  ...(activeFilters?.name || {}),\n                                  value,\n                                },\n                              })),\n                            value: activeFilters?.name?.value || '',\n                            placeholder: 'Filter by name',\n                          },\n                        },\n                        {\n                          label: defaultFilters.security.label,\n                          type: 'checkbox',\n                          filterValues: {\n                            key: 'security-filter',\n                            onChange: (event, value) =>\n                              setActiveFilters({\n                                ...(activeFilters || {}),\n                                security: {\n                                  ...(activeFilters?.security || {}),\n                                  value,\n                                },\n                              }),\n                            items: [\n                              {\n                                value: 'isSecure',\n                                label: 'Secure',\n                              },\n                              {\n                                value: 'nonSecure',\n                                label: 'Not secure',\n                              },\n                            ],\n                            value: activeFilters?.security?.value || [],\n                          },\n                        },\n                        {\n                          label: defaultFilters.status.label,\n                          type: 'checkbox',\n                          filterValues: {\n                            key: 'status-filter',\n                            onChange: (event, value) =>\n                              setActiveFilters({\n                                ...(activeFilters || {}),\n                                status: {\n                                  ...(activeFilters?.status || {}),\n                                  value,\n                                },\n                              }),\n                            items: statusMapper.map((item) => ({\n                              value: item,\n                              label: `${item\n                                .charAt(0)\n                                .toUpperCase()}${item.slice(1)}`,\n                            })),\n                            value: activeFilters?.status?.value || [],\n                          },\n                        },\n                      ],\n                    },\n                    activeFiltersConfig: {\n                      filters: isEmptyFilters(activeFilters)\n                        ? constructActiveFilters(activeFilters)\n                        : [],\n                      onDelete: (event, itemsToRemove, isAll) => {\n                        if (isAll) {\n                          setActiveFilters(defaultFilters);\n                        } else {\n                          setActiveFilters(() =>\n                            onDeleteFilter(activeFilters, itemsToRemove)\n                          );\n                        }\n                      },\n                    },\n                  }\n                : {\n                    pagination: <Skeleton />,\n                  })}\n            />\n            {isLoading === false ? (\n              <GroupsTable onAddNewGroup={() => setIsNewGroupOpen(true)} />\n            ) : (\n              <SkeletonTable colSize={5} rowSize={15} />\n            )}\n            <TableToolbar isFooter>\n              {isLoading === false && (\n                <Pagination\n                  itemCount={meta?.count}\n                  page={meta?.offset / meta?.limit + 1}\n                  perPage={Number(meta?.limit)}\n                  dropDirection=\"up\"\n                />\n              )}\n            </TableToolbar>\n          </StackItem>\n        </Stack>\n      </Main>\n      {isNewGroupOpen && (\n        <Suspense fallback=\"\">\n          <InventoryForm\n            schema={schema}\n            isOpened={isNewGroupOpen}\n            onAction={(isSubmit, values) => {\n              if (isSubmit) {\n                (async () => {\n                  await createNewGroup({\n                    groupName: values['group-name'],\n                    isSecure: values['is-secure'],\n                    systemIDs: values.selected,\n                  });\n                  dispatch(loadGroups());\n                })();\n              }\n              setIsNewGroupOpen(false);\n            }}\n          />\n        </Suspense>\n      )}\n    </Fragment>\n  );\n};\n\nexport default Groups;\n"],"sourceRoot":""}