/*! For license information please see Groups.e4e1801216485e78625d.js.LICENSE.txt */
(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7633,8471,7347,1157,704,6681],{41825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(15861),a=n(64687),o=n.n(a),c=n(92950),i=n.n(c),s=n(45697),u=n.n(s),l=n(64124),d=n(96354),p=n(60722),f=n(87029),m=n(48903),v=n(32349),h=n(77760),b=function(){var e=(0,r.Z)(o().mark((function e(){var t,n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=n.length>0&&void 0!==n[0]?n[0]:"").length){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,(0,f.Tb)(t);case 5:if(!e.sent.data.isValid){e.next=8;break}throw"Group name already exists";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g={groupName:function(){return b}},y={fields:[{component:d.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,autoFocus:!0,validate:[{type:"groupName"},{type:l.Z.REQUIRED},{type:l.Z.MAX_LENGTH,threshold:50},m.qg]}]},O=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,a=e.deviceIds,c=e.reloadData,s=(0,h.useDispatch)(),u=function(e){var t={onSuccess:{title:"Success",description:"".concat(e.name," has been created successfully")},onError:{title:"Error",description:"Failed to create group"}};return(0,v.Z)(s,(function(){return(0,f.sS)(e)}),t)},l=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:n=e.sent,r=n.ID,c={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(t.name," successfully")},onError:{title:"Error",description:"Failed to add system to group"}},(0,v.Z)(s,(function(){return(0,f.e3)(parseInt(r),a)}),c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i().createElement(p.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Create group",submitLabel:"Create",schema:y,onSubmit:a?l:u,reloadData:c,validatorMapper:g})};const E=O;O.propTypes={isModalOpen:u().bool,setIsModalOpen:u().func,reloadData:u().func,deviceIds:u().array}},23537:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var r=n(15861),a=n(29439),o=n(64687),c=n.n(o),i=n(92950),s=n.n(i),u=n(28191),l=n(89376),d=n(39173),p=n(4942),f=n(45697),m=n.n(f),v=n(73448),h=n(68519),b=n(5513),g=n(9192),y=n(52643),O=n(37619),E=n(75824);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=s().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(3047),n.e(6681)]).then(n.bind(n,68940))})),I=[{label:"Name",type:"text"}],M=[{title:"Name",type:"name",sort:!0},{title:"Systems",type:"name",sort:!1},{title:"Image",type:"name",sort:!1}],_=function(e){var t=e.data,n=e.count,o=e.isLoading,u=e.hasError,l=e.handleCreateModal,d=e.handleRenameModal,p=e.handleDeleteModal,f=e.hasModalSubmitted,m=e.setHasModalSubmitted,S=e.fetchGroups,_=(0,h.k6)(),k=(0,h.TH)().pathname,Z=(0,i.useState)({isOpen:!1,deviceData:null,imageData:null}),j=(0,a.Z)(Z,2),x=j[0],P=j[1],C=null==t?void 0:t.map((function(e){var t,n,r,a=e.DeviceGroup,o=a.ID,c=a.Name,i=a.Devices,u=e.DevicesImageInfo;u||(u=[]);var l=null!=i?i:[],d=s().createElement("div",null,s().createElement(E.u,{content:s().createElement("div",null,u.map((function(e,t){return s().createElement("p",{key:t},e.Name)})))},s().createElement("span",null,"Multiple images")));return{rowInfo:{id:o,title:c,image:0===u.length?"-":u.length>1?"Multiple images":null===(t=u[0])||void 0===t?void 0:t.Name,devicesImageInfo:e.DevicesImageInfo,devices:i,hasValidUpdate:null==e||null===(n=e.DeviceGroup)||void 0===n?void 0:n.ValidUpdate},cells:[{title:s().createElement(b.rU,{to:"".concat(g._.fleetManagement,"/").concat(o)},c)},{title:l.length},{title:0===u.length?"-":u.length>1?d:null===(r=u[0])||void 0===r?void 0:r.Name}]}}));return s().createElement(s().Fragment,null,s().createElement(v.Z,{apiFilterSort:!0,isUseApi:!0,loadTableData:S,filters:I,tableData:{count:n,data:t,isLoading:o,hasError:u},columnNames:M,rows:C,actionResolver:function(e){var t;if(null==e||!e.rowInfo)return[];var n=e.rowInfo,r=n.id,a=n.title,o=n.devices,c=n.devicesImageInfo,i=null==c?void 0:c.some((function(e){return e.UpdateAvailable}));return r&&[{title:"Rename",onClick:function(){return d(r,a)}},{title:"Delete",onClick:function(){return p(r,a)}},{title:"Update",onClick:function(){return P((function(e){return D(D({},e),{},{deviceData:o.map((function(e){return{id:e.UUID,display_name:e.Name}})),imageId:o.find((function(e){return null==e?void 0:e.ImageID})).ImageID,isOpen:!0})}))},isDisabled:!(o.length>0&&null!=e&&null!==(t=e.rowInfo)&&void 0!==t&&t.hasValidUpdate&&i)}]},areActionsDisabled:function(){return!1},defaultSort:{index:0,direction:"asc"},emptyFilterState:{title:"No matching groups found",body:"To continue, edit your filter settings and try again"},toolbarButtons:[{title:"Create group",click:l}],hasModalSubmitted:f,setHasModalSubmitted:m}),x.isOpen&&s().createElement(i.Suspense,{fallback:s().createElement(y.b,null,s().createElement(O.$,null))},s().createElement(w,{navigateBack:function(){_.push({pathname:k}),P((function(e){return D(D({},e),{},{isOpen:!1})}))},setUpdateModal:P,updateModal:x,refreshTable:(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:m(!0);case 3:case"end":return e.stop()}}),e)})))})))};_.propTypes={data:m().array,count:m().number,closeModal:m().func,isLoading:m().bool,hasError:m().bool,handleRenameModal:m().func,handleDeleteModal:m().func,handleCreateModal:m().func,hasModalSubmitted:m().bool,setHasModalSubmitted:m().func,fetchGroups:m().func};const k=_;var Z=n(3035),j=n(87029),x=n(41825),P=n(61381),C=n(47906),N=n(96094),T=n(48903);const R=function(){var e=(0,h.TH)().search,t=(0,N.Z)({api:j.jA,tableReload:!0}),n=(0,a.Z)(t,2),o=n[0],p=n[1],f=o.data,m=o.isLoading,v=o.hasError,b=(0,i.useState)({id:null,name:""}),g=(0,a.Z)(b,2),y=g[0],O=g[1],E=(0,i.useState)(!1),S=(0,a.Z)(E,2),D=S[0],w=S[1],I=(0,i.useState)(!1),M=(0,a.Z)(I,2),_=M[0],R=M[1],U=(0,i.useState)(!1),L=(0,a.Z)(U,2),G=L[0],A=L[1],F=(0,i.useState)(!1),H=(0,a.Z)(F,2),V=H[0],q=H[1],$=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:q(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s().createElement(s().Fragment,null,s().createElement(l.Z,{className:"pf-m-light"},s().createElement(d.Z,{title:"Groups"})),s().createElement("section",{className:"edge-groups pf-l-page__main-section pf-c-page__main-section"},(0,T.G0)(m,null==f?void 0:f.count,e)?s().createElement(u.k,{justifyContent:{default:"justifyContentCenter"}},s().createElement(Z.Z,{icon:"plus",title:"Create a system group",body:"Create system groups to help manage your systems more effectively.",primaryAction:{text:"Create group",click:function(){return w(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):s().createElement(k,{data:(null==f?void 0:f.data)||[],count:null==f?void 0:f.count,isLoading:m,hasError:v,handleRenameModal:function(e,t){O({id:e,name:t}),R(!0)},handleDeleteModal:function(e,t){O({id:e,name:t}),A(!0)},handleCreateModal:function(){return w(!0)},hasModalSubmitted:V,setHasModalSubmitted:q,fetchGroups:p})),D&&s().createElement(x.Z,{isModalOpen:D,setIsModalOpen:w,reloadData:$}),_&&s().createElement(P.Z,{isModalOpen:_,setIsModalOpen:R,reloadData:$,modalState:y}),G&&s().createElement(C.Z,{isModalOpen:G,setIsModalOpen:A,reloadData:$,modalState:y}))}},66702:(e,t,n)=>{"use strict";n.d(t,{$J:()=>c,DO:()=>a,Ds:()=>o,Vs:()=>i});var r=n(71002),a="/api/image-builder/v1",o="/api/edge/v1",c="/api/content-sources/v1",i=function(e){return void 0===e?"":Object.keys(e).reduce((function(t,n){var a=void 0;return"object"===(0,r.Z)(e[n])&&"number"==typeof e[n].length&&e[n].length>0&&(a=e[n].reduce((function(e,t){return""===e?"".concat(n,"=").concat(t):"".concat(e,"&").concat(n,"=").concat(t)}),"")),["string","number"].includes((0,r.Z)(e[n]))&&""!==e[n]&&(a="".concat(n,"=").concat(e[n])),void 0===a?t:""===t?"".concat(a):"".concat(t,"&").concat(a)}),"")}},32349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(4942),a=n(15861),o=n(64687),c=n.n(o),i=n(83215);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(e,t,n,r){var o,s,l=null===(o=n)||void 0===o?void 0:o.onSuccess,d=null===(s=n)||void 0===s?void 0:s.onInfo;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var p=function(){var o=(0,a.Z)(c().mark((function a(){var o;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t();case 3:return o=a.sent,d&&(r?r.hasInfo(n.onInfo):e(u({},(0,i.wN)(u({variant:"info"},n.onInfo))))),l&&(r?r.hasSuccess(n.onSuccess):e(u({},(0,i.wN)(u({variant:"success"},n.onSuccess))))),a.abrupt("return",o);case 9:return a.prev=9,a.t0=a.catch(0),r?r.err(n.onError,a.t0):e(u({},(0,i.wN)(u(u({variant:"danger"},n.onError),{},{description:null!==a.t0&&void 0!==a.t0&&a.t0.Title?"".concat(n.onError.description,": ").concat(a.t0.Title):n.onError.description})))),a.abrupt("return",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return o.apply(this,arguments)}}();return p()}},44174:e=>{e.exports=function(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var c=e[a];t(r,c,n(c),e)}return r}},81119:(e,t,n)=>{var r=n(89881);e.exports=function(e,t,n,a){return r(e,(function(e,r,o){t(a,e,n(e),o)})),a}},89881:(e,t,n)=>{var r=n(47816),a=n(99291)(r);e.exports=a},55189:(e,t,n)=>{var r=n(44174),a=n(81119),o=n(67206),c=n(1469);e.exports=function(e,t){return function(n,i){var s=c(n)?r:a,u=t?t():{};return s(n,e,o(i,2),u)}}},99291:(e,t,n)=>{var r=n(98612);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var o=n.length,c=t?o:-1,i=Object(n);(t?c--:++c<o)&&!1!==a(i[c],c,i););return n}}},75251:(e,t,n)=>{"use strict";n(27418);var r=n(92950),a=60103;if("function"==typeof Symbol&&Symbol.for){var o=Symbol.for;a=o("react.element"),o("react.fragment")}var c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:l,props:o,_owner:c.current}}t.jsx=u,t.jsxs=u},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},91993:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Groups.4e7a6e7967bf1d74c01ae12d756be1ec.js.map