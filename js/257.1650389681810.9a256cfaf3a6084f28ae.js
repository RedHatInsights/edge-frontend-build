(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[257,46],{99332:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a});const a=(0,n(40400).IU)({name:"LockIcon",height:512,width:448,svgPath:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z",yOffset:0,xOffset:0})},21314:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a});const a=(0,n(40400).IU)({name:"LockOpenIcon",height:512,width:576,svgPath:"M423.5 0C339.5.3 272 69.5 272 153.5V224H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48h-48v-71.1c0-39.6 31.7-72.5 71.3-72.9 40-.4 72.7 32.1 72.7 72v80c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24v-80C576 68 507.5-.3 423.5 0z",yOffset:0,xOffset:0})},18802:(e,t,n)=>{"use strict";t.Y3={name:"InProgressIcon",height:1024,width:1024,svgPath:"M513.417211,16.013668 L513.417211,112.013668 C513.406007,120.539653 520.082422,127.576718 528.597211,128.013668 C732.697211,136.513668 896.147211,305.013668 896.147211,511.343668 C896.147211,723.013668 724.007211,895.163668 512.417211,895.163668 C437.186239,895.277345 363.602574,873.135095 300.927211,831.523668 C294.58293,827.2982 286.138663,828.135095 280.747211,833.523668 L211.807211,902.353668 C208.502935,905.676185 206.82123,910.280199 207.20607,914.950237 C207.590911,919.620275 210.00361,923.886884 213.807211,926.623668 C300.709573,989.398037 405.213535,1023.13146 512.417211,1023.01398 C794.537211,1023.01398 1023.91724,793.433668 1023.91724,511.413668 C1024.00721,235.103668 804.007211,9.22366802 529.897211,0.00645736761 C525.571205,-0.116171039 521.377128,1.51204372 518.271915,4.52681369 C515.166702,7.54158367 513.415263,11.6857144 513.417211,16.013668 M97.1272107,212.923668 C64.2190689,258.479443 39.0698895,309.162997 22.6972107,362.923668 C21.2705092,367.756559 22.2039184,372.979173 25.2163356,377.018685 C28.2287528,381.058197 32.9681443,383.442545 38.0072107,383.453683 L139.407211,383.453683 C145.970195,383.46249 151.873012,379.462528 154.297211,373.363668 C164.307669,347.593304 177.068112,322.977652 192.357211,299.943668 C196.579666,293.633658 195.741339,285.216847 190.357211,279.863668 L121.497211,211.013668 C118.186635,207.662531 113.567544,205.940538 108.871166,206.30669 C104.174788,206.672841 99.8783994,209.089927 97.1272107,212.913668 M112.907211,511.433663 L17.0072107,511.433663 C12.679257,511.433663 8.5351263,513.183159 5.52035633,516.288373 C2.50558635,519.393586 0.877371594,523.587662 1.00721065,527.913668 C4.13104542,629.408217 37.6085847,727.635936 97.1172107,809.913668 C99.8539943,813.717268 104.120603,816.129968 108.790642,816.514809 C113.46068,816.899649 118.064693,815.217944 121.387211,811.913668 L190.217211,743.073668 C195.605784,737.682216 196.442679,729.237949 192.217211,722.893668 C153.520825,664.580171 131.611534,596.745437 128.887211,526.813668 C128.553964,518.220138 121.487197,511.427209 112.887211,511.433663",yOffset:0,xOffset:0},t.pG=n(35183).createIcon(t.Y3),t.ZP=t.pG},87673:(e,t,n)=>{"use strict";t.gZ={name:"QuestionCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",yOffset:0,xOffset:0},t.pT=n(35183).createIcon(t.gZ),t.ZP=t.pT},77669:(e,t,n)=>{"use strict";t.B9={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},t.xD=n(35183).createIcon(t.B9),t.ZP=t.xD},62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(75418),l=n.n(a),i=n(45697),o=n.n(i),r=n(87462),u=n(35224),c=36e5,s=24*c,d=30*s,m=365*s,v=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},g=[{rightBound:1/0,description:function(e){return v(Math.round(e/m),"year")}},{rightBound:m,description:function(e){return v(Math.round(e/d),"month")}},{rightBound:d,description:function(e){return v(Math.round(e/s),"day")}},{rightBound:s,description:function(e){return v(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return v(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],p=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},f=function(e){return{exact:function(e){return p(e)+" UTC"},onlyDate:function(e){return p(e).slice(0,-6)},relative:function(e){return g.reduce((function(t,n){return n.rightBound>Date.now()-e?n.description(Date.now()-e):t}),p(e))},invalid:function(){return"Invalid date"}}[e]};function h(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,i=e.extraTitle,o=e.tooltipProps,c=void 0===o?{}:o,s=t instanceof Date?t:new Date(t),d=null==t||"Invalid Date"===s.toString()?"invalid":a;return l().createElement(l().Fragment,null,function(e,t,n){return{exact:function(t){return f(e)(t)},onlyDate:function(t){return f(e)(t)},relative:function(a){return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return l().createElement(u.u,(0,r.Z)({},n,{content:l().createElement("div",null,a,e)}),t)}(f("exact")(a),l().createElement("span",null,f(e)(a)),t,n)},invalid:function(){return"Invalid date"}}[e]}(d,c,i)(s))}h.propTypes={date:o().oneOfType([o().instanceOf(Date),o().string,o().number]),type:o().oneOf(["exact","onlyDate","relative"]),extraTitle:o().node,tooltipProps:o().object}},53010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>U});var a=n(4942),l=n(15861),i=n(29439),o=n(87757),r=n.n(o),u=n(75418),c=n.n(u),s=n(82951),d=n(96354),m=n(52251),v=n(52643),g=n(29390),p=n(2372),f=n(45697),h=n.n(f),E=n(20873),b=n(94778),y=n(59086),I=n(28216),D=n(59245),S=n(5230),C=n(66702),O=n(83215),k=n(58061);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t,n,a,o,f,h,w,P,U,x,L,j,Z=e.navigateBack,N=e.updateImageID,_=(0,u.useState)(),R=(0,i.Z)(_,2),V=R[0],A=R[1],B=(0,I.I0)(),M=function(){Z(),B({type:y.G})},z=(0,k.gV)("fleet-management.custom-repos"),F=(0,u.useContext)(D.g).getRegistry,W=(0,I.v9)((function(e){var t=e.imageDetailReducer;return{data:(null==t?void 0:t.data)||null}}),I.wU).data;return(0,u.useEffect)((function(){var e=F().register({imageDetailReducer:S.OD});return N&&(0,b.J_)(B,N),function(){return e()}}),[B]),(0,u.useEffect)((function(){(0,l.Z)(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=insights)||void 0===t||null===(n=t.chrome)||void 0===n||null===(a=n.auth)||void 0===a||a.getUser().then((function(e){return A(null!=e?e:{})}));case 1:case"end":return e.stop()}}),e)})))()}),[]),V&&W?c().createElement(s.Z,{onClose:M,customComponentMapper:{review:E.Z},onSubmit:function(e){var t,n,a,l,i,o=e.values;(0,e.setIsSaving)((function(){return!0}));var r=T(T({},o),{},{Id:null==W||null===(t=W.image)||void 0===t?void 0:t.ID,name:null==W||null===(n=W.image)||void 0===n?void 0:n.Name,version:(null==W||null===(a=W.image)||void 0===a?void 0:a.Version)+1,architecture:"x86_64",credentials:o.credentials?o.credentials:null==W||null===(l=W.image)||void 0===l?void 0:l.Installer.SshKey,username:o.username?o.username:null==W||null===(i=W.image)||void 0===i?void 0:i.Installer.Username});(0,b.Es)(B,r,(function(e){B(T(T({},(0,O.wN)({variant:"info",title:"Update image",description:"".concat(e.value.Name," image was added to the queue.")})),{},{meta:{polling:{id:"FETCH_IMAGE_".concat(e.value.ID,"_BUILD_STATUS"),fetcher:function(){return(0,C.EC)(e.value.ID)},condition:function(e){switch(e.Status){case"BUILDING":return[!0,""];case"ERROR":return[!1,"failure"];default:return[!1,"success"]}},onEvent:{failure:[function(t){return t((0,O.wN)({variant:"danger",title:"Image build failed",description:"".concat(e.value.Name," image build is completed unsuccessfully")}))}],success:[function(t){return t((0,O.wN)({variant:"success",title:"Image is ready",description:"".concat(e.value.Name," image build is completed")}))},function(e){return(0,b.n9)(e)}]}}}})),M(),(0,b.n9)(B),B((0,b.Fj)({name:W.value.Name,id:W.value.ID}))}))},defaultArch:"x86_64",initialValues:{name:null==W||null===(t=W.image)||void 0===t?void 0:t.Name,isUpdate:!0,description:null==W||null===(n=W.image)||void 0===n?void 0:n.Description,credentials:null==W||null===(a=W.image)||void 0===a?void 0:a.Installer.SshKey,username:null==W||null===(o=W.image)||void 0===o?void 0:o.Installer.Username,version:null==W||null===(f=W.image)||void 0===f?void 0:f.Version,release:null==W||null===(h=W.image)||void 0===h?void 0:h.Distribution,imageType:["rhel-edge-commit"],includesCustomRepos:z,"selected-packages":null==W||null===(w=W.image)||void 0===w||null===(P=w.Packages)||void 0===P?void 0:P.map((function(e){return T(T({},e),{},{name:e.Name})})),"third-party-repositories":null==W||null===(U=W.image)||void 0===U?void 0:U.ThirdPartyRepositories,"custom-packages":null==W||null===(x=W.image)||void 0===x||null===(L=x.CustomPackages)||void 0===L?void 0:L.map((function(e){return T(T({},e),{},{name:e.Name})}))},schema:{fields:[{component:d.Z.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Create image"},showTitles:!0,title:"Update image: ".concat(null==W||null===(j=W.image)||void 0===j?void 0:j.Name),crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[m.bR,m.Ud,m.l9,m.jS,m.B9,m.jS,m.j7,m.Sp]}]}}):c().createElement(g.Y,null,c().createElement(v.b,null,c().createElement(p.$,{isSVG:!0,diameter:"100px"})))};P.propTypes={navigateBack:h().func,updateImageID:h().number},P.defaultProps={navigateBack:function(){}};const U=P},12877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>be});var a=n(4942),l=n(29439),i=n(75418),o=n.n(i),r=n(48716),u=n(49739),c=n(83826),s=n(2372),d=n(52643),m=n(28216),v=n(59245),g=n(94778),p=n(5230),f=n(4874),h=n(45697),E=n.n(h),b=n(68340),y=n(25834),I=n(78140),D=n(68774),S=n(15209),C=n(64029),O=n(32835),k=n(79851),w=n(34512),T=n(56787),P=n(84457),U=n(75728),x=n(99355),L=n(9043),j=n(4147),Z=n(5964),N=n(62410),_=n(68920),R=function(e,t,n){var a,l,i,r,u,c,s=t||(null==e||null===(a=e.images)||void 0===a?void 0:a[0]),d=[];return(null==s||null===(l=s.image)||void 0===l?void 0:l.ID)&&d.push(o().createElement(P.h,{key:"create-new-version-button",component:"button",onClick:function(){var e;return n(null==s||null===(e=s.image)||void 0===e?void 0:e.ID)}},"Create new version")),(null==s||null===(i=s.image)||void 0===i||null===(r=i.Installer)||void 0===r?void 0:r.ImageBuildISOURL)&&d.push(o().createElement(P.h,{key:"download-button",component:"button"},o().createElement(b.x,{className:"force-text-black remove-underline",component:"a",href:null==s||null===(u=s.image)||void 0===u||null===(c=u.Installer)||void 0===c?void 0:c.ImageBuildISOURL,rel:"noopener noreferrer",target:"_blank"},"Download installable .iso for newest image"))),d},V=function(e){var t,n,a,r,u,c,s,d,m,v,g,p,h,E,b,P,V,A,B,M,z=e.imageData,F=e.imageVersion,W=e.openUpdateWizard,G=(0,i.useState)(!1),H=(0,l.Z)(G,2),K=H[0],q=H[1],J=(0,i.useState)({}),Y=(0,l.Z)(J,2),Q=Y[0],$=Y[1];return(0,i.useEffect)((function(){var e;$(null==z||null===(e=z.data)||void 0===e?void 0:e.Data)}),[z]),o().createElement(o().Fragment,null,(0,_.Cp)(null==Q?void 0:Q.image_set)?o().createElement(C.a,null,o().createElement(O.g,null,o().createElement(f.Link,{to:j._j.gb},"Back to Manage Images"))):o().createElement(o().Fragment,null,o().createElement(C.a,null,o().createElement(O.g,null,o().createElement(f.Link,{to:j._j.gb},"Manage Images")),F?o().createElement(O.g,null,o().createElement(f.Link,{to:"".concat(j._j.gb,"/").concat(null==Q||null===(t=Q.image_set)||void 0===t?void 0:t.ID)},null==Q||null===(n=Q.image_set)||void 0===n?void 0:n.Name)):o().createElement(O.g,{isActive:!0},(null==Q||null===(a=Q.image_set)||void 0===a?void 0:a.Name)||o().createElement(S.O,{width:"100px"})),F&&o().createElement(O.g,{isActive:!0},null==F||null===(r=F.image)||void 0===r?void 0:r.Version)),o().createElement(D.D,null,o().createElement(k.P,null,o().createElement(w.J,null,o().createElement(y.G,{component:"dl"},o().createElement(I.T,{component:"h1",className:"grid-align-center pf-u-mb-0"},(null==Q||null===(u=Q.image_set)||void 0===u?void 0:u.Name)||o().createElement(S.O,{width:"150px"})),o().createElement(I.T,{component:"dd"},null!=Q&&Q.Status||null!=Q&&null!==(c=Q.images)&&void 0!==c&&null!==(s=c[0])&&void 0!==s&&null!==(d=s.image)&&void 0!==d&&d.Status?o().createElement(L.Z,{status:null==Q||null===(m=Q.images)||void 0===m||null===(v=m[0])||void 0===v||null===(g=v.image)||void 0===g?void 0:g.Status}):o().createElement(S.O,{width:"100px"})),null!=F&&null!==(p=F.image)&&void 0!==p&&p.UpdatedAt||null!=Q&&null!==(h=Q.images)&&void 0!==h&&null!==(E=h[0].image)&&void 0!==E&&E.UpdatedAt?o().createElement(I.T,{component:"p"},"Last updated ",o().createElement(N.Z,{date:F?null==F||null===(b=F.image)||void 0===b?void 0:b.UpdatedAt:null==Q||null===(P=Q.images)||void 0===P||null===(V=P[0].image)||void 0===V?void 0:V.UpdatedAt})):o().createElement(S.O,{width:"200px"}))),o().createElement(w.J,{isFilled:!0}),o().createElement(w.J,null,o().createElement(T.L,{position:x.ir.right,toggle:o().createElement(U.Z,{id:"image-set-details-dropdown",toggleIndicator:Z.ZP,onToggle:function(e){return q(e)},isDisabled:"BUILDING"===(F?null==F||null===(A=F.image)||void 0===A?void 0:A.Status:null==Q||null===(B=Q.Images)||void 0===B||null===(M=B[0])||void 0===M?void 0:M.Status)||!1},"Actions"),isOpen:K,dropdownItems:R(Q,F,W)}))))))};V.propTypes={imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func};const A=V;var B=n(14638),M=n(28883),z=n(29873),F=n(93433),W=n(50693),G=n(16475),H=n(66435),K=function(e){var t,n=e.imageData,a=e.imageVersion,r=(0,i.useState)({}),u=(0,l.Z)(r,2),c=u[0],s=u[1];(0,i.useEffect)((function(){var e,t,l;s(a||(null==n||null===(e=n.data)||void 0===e||null===(t=e.Data)||void 0===t||null===(l=t.images)||void 0===l?void 0:l[0]))}),[n,a]);var d=function(e){return(0,F.Z)(Array(2*e)).map((function(e){return o().createElement(S.O,{width:"180px",key:e})}))},m={Version:"Version",Created:function(){return o().createElement(N.Z,{date:null==c||null===(e=c.image)||void 0===e?void 0:e.CreatedAt});var e},"Type(s)":function(){var e,t;return null==c||null===(e=c.image)||void 0===e||null===(t=e.OutputTypes)||void 0===t?void 0:t.map((function(e,t){return o().createElement("div",{key:t},e)}))},Release:function(){var e;return null===_.aN||void 0===_.aN?void 0:_.aN[null==c||null===(e=c.image)||void 0===e?void 0:e.Distribution]},Description:"Description"},v={Username:function(){var e,t;return null==c||null===(e=c.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Username},"SSH Key":function(){var e,t;return null==c||null===(e=c.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.SshKey}},g={"Total Additional Packages":function(){var e,t;return o().createElement(f.Link,{to:"".concat(j._j.gb,"/").concat(null==c||null===(e=c.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==c||null===(t=c.image)||void 0===t?void 0:t.ID,"/packages/additional")},null==c?void 0:c.additional_packages)},"Total Packages":function(){var e,t;return o().createElement(f.Link,{to:"".concat(j._j.gb,"/").concat(null==c||null===(e=c.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==c||null===(t=c.image)||void 0===t?void 0:t.ID,"/packages/all")},null==c?void 0:c.packages)}},p={Added:function(){return null==c?void 0:c.update_added},Removed:function(){return null==c?void 0:c.update_removed},Updated:function(){return null==c?void 0:c.update_updated}};null!=c&&null!==(t=c.Installer)&&void 0!==t&&t.Checksum&&(m["SHA-256 Checksum"]=function(){var e,t;return null==c||null===(e=c.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Checksum});var h=function(e){return c?Object.entries(e).map((function(e){var t,n,a=(0,l.Z)(e,2),i=a[0],r=a[1];return o().createElement(o().Fragment,null,o().createElement(I.T,{className:"details-label",component:I.v.dt},i),"SHA-256 Checksum"===i||"SSH Key"===i&&r()?o().createElement(I.T,{component:I.v.dd},o().createElement(H.M5,{hoverTip:"Copy",clickTip:"Copied",variant:"expansion",className:"pf-u-text-break-word"},"function"==typeof r?r()||"Unavailable":(null==c||null===(t=c.image)||void 0===t?void 0:t[r])||"Unavailable")):o().createElement(I.T,{className:"pf-u-text-break-word",component:I.v.dd},"function"==typeof r?0===r()?0:r()||"Unavailable":(null==c||null===(n=c.image)||void 0===n?void 0:n[r])||"Unavailable"))})):null};return o().createElement(D.D,{className:"pf-u-ml-lg pf-u-mt-md"},o().createElement(W.r,{span:12},o().createElement(G.P,{span:5},o().createElement(b.x,{component:b.q.h2},a?"Details":"Most recent image"),o().createElement(y.G,{component:y.F.dl},h(m)||d(6)),o().createElement(b.x,{component:b.q.h2},"User Information "),o().createElement(y.G,{component:y.F.dl},h(v)||d(2))),o().createElement(G.P,{span:1}),o().createElement(G.P,{span:6},o().createElement(b.x,{component:b.q.h2},"Packages "),o().createElement(y.G,{component:y.F.dl},h(g)||d(3)),o().createElement(b.x,{component:b.q.h2},"Changes from previous version"),o().createElement(y.G,{component:y.F.dl},h(p)||d(3)))))};K.propTypes={imageData:E().object,imageVersion:E().object};const q=K;var J=n(5604),Y=n(92609),Q=n(86350),$=[{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],X=[{title:"Version",type:"version",sort:!0,columnTransforms:[(0,Y.cellWidth)(15)]},{title:"Output",type:"image_type",sort:!1,columnTransforms:[(0,Y.cellWidth)(35)]},{title:"Created",type:"created_at",sort:!0,columnTransforms:[(0,Y.cellWidth)(25)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,Y.cellWidth)(35)]}],ee=function(e){var t,n=e.imageData,a=e.openUpdateWizard,r=(0,i.useState)([]),u=(0,l.Z)(r,2),c=u[0],s=u[1];return(0,i.useEffect)((function(){var e,t,a,l,i,r,u;null!=n&&n.data&&s((r=null==n||null===(e=n.data)||void 0===e||null===(t=e.Data)||void 0===t?void 0:t.images,u=null==n||null===(a=n.data)||void 0===a||null===(l=a.Data)||void 0===l||null===(i=l.image_set)||void 0===i?void 0:i.ID,null==r?void 0:r.map((function(e){var t,n=e.image;return{rowInfo:{id:null==n?void 0:n.ID,imageStatus:null==n?void 0:n.Status,isoURL:null==n||null===(t=n.Installer)||void 0===t?void 0:t.ImageBuildISOURL},noApiSortFilter:[null==n?void 0:n.Version,_.bd[null==n?void 0:n.ImageType],null==n?void 0:n.CreatedAt,null==n?void 0:n.Status],cells:[{title:o().createElement(f.Link,{to:"".concat(j._j.gb,"/").concat(u,"/versions/").concat(n.ID,"/details")},null==n?void 0:n.Version)},{title:_.bd[null==n?void 0:n.ImageType]},{title:o().createElement(N.Z,{date:null==n?void 0:n.CreatedAt})},{title:o().createElement(L.Z,{status:null==n?void 0:n.Status})}]}}))))}),[n]),o().createElement(Q.Z,{className:"add-100vh"},o().createElement(J.Z,{apiFilterSort:!1,filters:$,loadTableData:g.VR,tableData:{count:null==n||null===(t=n.data)||void 0===t?void 0:t.Count,isLoading:null==n?void 0:n.isLoading,hasError:null==n?void 0:n.hasError},columnNames:X,rows:c||[],actionResolver:function(e){var t,n,l,i,r,u=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&u.push({title:o().createElement(b.x,{className:"force-text-black remove-underline",component:"a",href:e.rowInfo.isoURL,rel:"noopener noreferrer",target:"_blank"},"Download")}),"SUCCESS"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)&&"ERROR"!==(null===(l=e.rowInfo)||void 0===l?void 0:l.imageStatus)||u.push({title:"Update Image",onClick:function(e,t,n){a(n.rowInfo.id)}}),"BUILDING"===(null===(i=e.rowInfo)||void 0===i?void 0:i.imageStatus)&&null!==(r=e.rowInfo)&&void 0!==r&&r.id&&u.push({title:""}),u},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:2,direction:"desc"}}))};ee.propTypes={imageData:E().object,urlParam:E().string,openUpdateWizard:E().func};const te=ee;var ne=n(47173),ae=n(15265),le=n(3035),ie=[{label:"Name",type:"text"}],oe=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,Y.cellWidth)(35)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,Y.cellWidth)(25)]},{title:"Release",type:"release",sort:!1,columnTransforms:[(0,Y.cellWidth)(35)]}],re=function(e,t,n){return(0===n?e.filter((function(e){return t.filter((function(t){return e.name===t.Name})).length>0})):e).map((function(e){return{noApiSortFilter:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release],cells:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release,{title:o().createElement("a",{href:"https://access.redhat.com/downloads/content/rhel---8/x86_64/7416/".concat(null==e?void 0:e.name,"/").concat(null==e?void 0:e.version,"-").concat(null==e?void 0:e.release,"/").concat(null==e?void 0:e.arch,"/fd431d51/package"),target:"_blank",rel:"noopener noreferrer"},o().createElement(ne.zx,{variant:"link",isSmall:!0,icon:o().createElement(ae.ZP,null),iconPosition:"right"},"More information"))}]}}))},ue={0:"additional",1:"all"},ce={additional:0,all:1},se=function(e){var t,n,a,r,u,c,s,d=e.imageVersion,m=(0,f.useLocation)(),v=(0,f.useHistory)(),g=m.pathname.split("/"),p=7===g.length?ce[g[6]]:1,h=(0,i.useState)({}),E=(0,l.Z)(h,2),b=E[0],y=E[1],I=(0,i.useState)(p),D=(0,l.Z)(I,2),S=D[0],C=D[1];return(0,i.useEffect)((function(){y(d)}),[d]),(0,i.useEffect)((function(){g[5]!==ue[S]&&C(p)}),[g]),"SUCCESS"===(null==d||null===(t=d.image)||void 0===t||null===(n=t.Commit)||void 0===n?void 0:n.Status)?o().createElement(Q.Z,{className:"add-100vh"},o().createElement(J.Z,{apiFilterSort:!1,filters:ie,tableData:{count:0===S?null==b?void 0:b.additional_packages:null==b?void 0:b.packages,isLoading:!1,hasError:!1},columnNames:oe,rows:null!=b&&null!==(a=b.image)&&void 0!==a&&null!==(r=a.Commit)&&void 0!==r&&r.InstalledPackages?re(null==b||null===(u=b.image)||void 0===u||null===(c=u.Commit)||void 0===c?void 0:c.InstalledPackages,null==b||null===(s=b.image)||void 0===s?void 0:s.Packages,S):[],actionResolver:function(){return[]},areActionsDisabled:function(){return!0},defaultSort:{index:0,direction:"asc"},toggleButton:[{title:"Additional",key:0},{title:"All",key:1}],toggleAction:function(e){var t,n=null===(t=g[5])||void 0===t?void 0:t.toLowerCase();C(e),"packages"===n&&(7===g.length?g[6]=ue[e]:g.push(ue[e]),v.push(g.join("/")))},toggleState:S,emptyFilterState:{icon:"search",title:"No packages to display"}})):o().createElement(Q.Z,{className:"add-100vh"},o().createElement(le.Z,{bgColor:"white",title:"Package data currently unavailable",body:"Packages will be displayed as soon as the image is finished being built.",primaryAction:null,secondaryActions:[]}))};se.propTypes={imageVersion:E().object};const de=se;var me=n(58061),ve={details:0,packages:1,versions:1},ge=function(e){var t,n,a=e.imageData,r=e.openUpdateWizard,u=e.imageVersion,c=e.isLoading,s=(0,f.useLocation)(),d=(0,f.useHistory)(),m=(0,i.useState)(ve.details),v=(0,l.Z)(m,2),g=v[0],p=v[1],h=u?"imageTab":"imageSetTab",E=(0,me.Ff)(s.pathname,["baseURL","imageSetVersion","imageSetTab","imageVersion","imageTab","packagesToggle"]);return(0,i.useEffect)((function(){E.imageTab?p(ve[E.imageTab]):p(ve[E.imageSetTab])}),[s.pathname]),o().createElement(o().Fragment,null,(0,_.Cp)(null==a||null===(t=a.data)||void 0===t||null===(n=t.Data)||void 0===n?void 0:n.image_set)?o().createElement(le.Z,{icon:"question",title:"Image not found",body:"Please check you have the correct link with the correct image Id.",primaryAction:{text:"Back to Manage Images",href:j._j.gb},secondaryActions:[]}):o().createElement("div",{className:"edge-c-device--detail add-100vh"},o().createElement(B.m,{className:"pf-u-ml-md",activeKey:g,onSelect:function(e,t){var n=0===t?"details":u?"packages":"versions";E[h]=n,d.push(E.buildUrl()),p(t)}},o().createElement(M.O,{eventKey:ve.details,title:o().createElement(z.T,null,"Details")},o().createElement(q,{imageData:a,imageVersion:u})),c?o().createElement(M.O,{title:o().createElement(z.T,null,o().createElement(S.O,{width:"75px"}))}):u?o().createElement(M.O,{eventKey:ve.packages,title:o().createElement(z.T,null,"Packages")},o().createElement(de,{imageVersion:u})):o().createElement(M.O,{eventKey:ve.versions,title:o().createElement(z.T,null,"Versions")},o().createElement(te,{imageData:a,openUpdateWizard:r})))))};ge.propTypes={imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func,isLoading:E().bool};const pe=ge;var fe=n(53010);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const be=function(){var e=(0,f.useParams)(),t=e.imageId,n=e.imageVersionId,a=(0,i.useContext)(v.g).getRegistry,h=(0,m.I0)(),E=(0,f.useHistory)(),b=(0,i.useState)({isOpen:!1,updateId:null}),y=(0,l.Z)(b,2),I=y[0],D=y[1],S=(0,i.useState)(null),C=(0,l.Z)(S,2),O=C[0],k=C[1],w=(0,m.v9)((function(e){var t=e.imageSetDetailReducer;return{data:(null==t?void 0:t.data)||null,isLoading:null==t?void 0:t.isLoading,hasError:null==t?void 0:t.hasError}}),m.wU),T=function(e){E.push({pathname:E.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),D((function(t){return Ee(Ee({},t),{},{isOpen:!t.isLoading,updateId:e})}))};return(0,i.useEffect)((function(){var e,t,a,l,i,o;k(n?null==w||null===(e=w.data)||void 0===e||null===(t=e.Data)||void 0===t||null===(a=t.images)||void 0===a?void 0:a[null==w||null===(l=w.data)||void 0===l||null===(i=l.Data)||void 0===i||null===(o=i.images)||void 0===o?void 0:o.findIndex((function(e){var t;return(null==e||null===(t=e.image)||void 0===t?void 0:t.ID)==n}))]:null)}),[w,n]),(0,i.useEffect)((function(){var e=a().register({imageSetDetailReducer:p.MQ});return(0,g.VR)(h,t),function(){return e()}}),[t]),o().createElement(i.Fragment,null,o().createElement(r.Z,{className:"pf-m-light"},o().createElement(u.K,{hasGutter:!0},o().createElement(c.v,null,o().createElement(A,{imageData:w,imageVersion:O,openUpdateWizard:T})))),o().createElement(pe,{imageData:w,urlParam:t,imageVersion:O,openUpdateWizard:T,isLoading:w.isLoading}),I.isOpen&&o().createElement(i.Suspense,{fallback:o().createElement(d.b,null,o().createElement(s.$,null))},o().createElement(fe.default,{navigateBack:function(){E.push({pathname:E.location.pathname}),D((function(e){return Ee(Ee({},e),{},{isOpen:!1})}))},updateImageID:I.updateId})))}},69199:(e,t,n)=>{var a=n(89881),l=n(98612);e.exports=function(e,t){var n=-1,i=l(e)?Array(e.length):[];return a(e,(function(e,a,l){i[++n]=t(e,a,l)})),i}},94654:(e,t,n)=>{var a=n(21078),l=n(35161);e.exports=function(e,t){return a(l(e,t),1)}},24350:(e,t,n)=>{var a=n(89465),l=n(55189)((function(e,t,n){a(e,n,t)}));e.exports=l},35161:(e,t,n)=>{var a=n(29932),l=n(67206),i=n(69199),o=n(1469);e.exports=function(e,t){return(o(e)?a:i)(e,l(t,3))}}}]);
//# sourceMappingURL=../sourcemaps/257.db27703cc8399e649a597a3f2c90bfda.js.map