{"version":3,"sources":["webpack://insights-frontend-starter-app/./src/api/index.js","webpack://insights-frontend-starter-app/./src/components/form/constants.js","webpack://insights-frontend-starter-app/./src/store/inventory-table.js","webpack://insights-frontend-starter-app/./src/components/form/FormInventory.js","webpack://insights-frontend-starter-app/./src/components/form/componentTypes.js","webpack://insights-frontend-starter-app/./src/components/StatusIcon.js","webpack://insights-frontend-starter-app/./src/components/SecureIcon.js","webpack://insights-frontend-starter-app/./src/constants.js","webpack://insights-frontend-starter-app/./src/store/action-types.js","webpack://insights-frontend-starter-app/./src/store/actions.js","webpack://insights-frontend-starter-app/./src/store/groupsDetail.js","webpack://insights-frontend-starter-app/./src/store/groups.js","webpack://insights-frontend-starter-app/./src/store/threshold.js","webpack://insights-frontend-starter-app/./src/store/devicesInfo.js","webpack://insights-frontend-starter-app/./src/store/canariesInfo.js","webpack://insights-frontend-starter-app/./src/store/groupDevicesInfo.js"],"names":["randomNumber","min","max","Math","round","random","randomString","toString","substr","randomDate","offset","Date","floor","randomStatus","statusMapper","rowGroupCreator","uuid","name","sensors","isSecure","lastSeen","is_secure","last_seen","status","groups","fetchGroups","perPage","currPage","page","currPerPage","insights","chrome","auth","getUser","then","results","meta","count","length","limit","threshold","sections","rest","Promise","resolve","Array","map","currPercent","devicesInfo","requiredApproval","orphaned","delivering","canariesInfo","time","scanners","kiosks","antenna","groupsDetail","group","find","groupUUID","version","rowGroupDetailCreator","groupDevicesInfo","total","newDevices","offlineDevices","deliveringDevices","createNewGroup","groupName","systemIDs","push","replace","c","r","updateGroup","InventoryContext","React","entitySelected","state","payload","selected","Map","id","rows","forEach","row","set","selectedRow","clear","loadEntitiesFulfilled","get","calculateChecked","every","has","some","FormInventoryTable","FieldProvider","validate","FormSpyProvider","formOptions","component","registry","onLoad","dispatch","useDispatch","inventory","useRef","useSelector","entities","loaded","Inventory","bulkSelect","size","items","title","onClick","selectEntity","checked","onSelect","value","ref","onRefresh","options","callback","current","onRefreshData","tableProps","canSelectAll","LOAD_ENTITIES_FULFILLED","mergeWithEntities","INVENTORY_ACTION_TYPES","register","applyReducerHash","SELECT_ENTITY","PRE_SELECT_ENTITY","WrappedFormInventoryTable","props","Provider","store","Fragment","propTypes","PropTypes","defaultProps","INVENTORY_TABLE","StatusIcon","Icon","statusToIcon","icon","UnknownIcon","color","SecureIcon","LockIcon","LockOpenIcon","done","CheckCircleIcon","successColor","error","ExclamationCircleIcon","dangerColor","pending","PauseCircleIcon","updating","CircleNotchIcon","unknown","warning","ExclamationTriangleIcon","warningColor","notification","BellIcon","infoColor","isEmptyFilters","activeFilters","Object","values","item","constructActiveFilters","entries","key","label","category","chipKey","chips","isArray","onDeleteFilter","itemsToRemove","currItem","filter","LOAD_GROUPS","LOAD_GROUP_DETAIL","LOAD_TRESHOLD","LOAD_DEVICES_INFO","LOAD_CANARIES_INFO","LOAD_GROUP_DEVICES_INFO","asyncActions","flatMap","a","keyBy","k","loadGroups","type","loadThreshold","loadDevicesInfo","loadCanariesInfo","loadGroupsDetail","loadGroupDevicesInfo","preSelectEntity","onEntitiesLoaded","columns","updated","renderFunc","systemsList","devices","isLoading"],"mappings":"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","file":"js/872.94bb930cbc3e3dd64581.js","sourcesContent":["import { statusMapper } from '../constants';\n\nconst randomNumber = (min, max) =>\n  Math.round(Math.random() * (max - min) + min);\nconst randomString = () => Math.random().toString(36).substr(2, 10);\n// const randomBool = () => Boolean(Math.round(Math.random() * 10) % 2);\nconst randomDate = (offset = 10000000000) =>\n  new Date(+new Date() - Math.floor(Math.random() * offset));\n\nconst randomUUID = () =>\n  'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n\nconst randomStatus = () => statusMapper[randomNumber(0, statusMapper.length)];\n\nconst rowGroupCreator = (uuid, name, sensors, isSecure, lastSeen) => ({\n  uuid,\n  name,\n  sensors,\n  is_secure: isSecure,\n  last_seen: lastSeen,\n  status: randomStatus(),\n});\n\nconst rowGroupDetailCreator = (uuid, version, status) => {\n  return {\n    uuid,\n    version,\n    status,\n  };\n};\n\nconst groups = [];\n\nexport const fetchGroups = ({ perPage, page }) => {\n  const currPage = page || 1;\n  const currPerPage = perPage || 20;\n  return insights.chrome.auth.getUser().then(() => ({\n    results: groups,\n    meta: {\n      count: groups.length,\n      limit: currPerPage * currPage,\n      offset: currPerPage * (currPage - 1),\n    },\n  }));\n};\n\nexport const threshold = () => {\n  const sections = randomNumber(2, 5);\n  let rest = 100;\n  return Promise.resolve({\n    results: [...new Array(sections)].map(() => {\n      const currPercent = randomNumber(0, rest);\n      rest = rest - currPercent;\n      return {\n        [randomString()]: currPercent,\n      };\n    }),\n  });\n};\n\nexport const devicesInfo = () => {\n  return Promise.resolve({\n    results: {\n      requiredApproval: randomNumber(0, 100),\n      orphaned: randomNumber(0, 100),\n      delivering: randomNumber(0, 100),\n    },\n  });\n};\n\nexport const canariesInfo = () => {\n  return Promise.resolve({\n    results: {\n      sensors: {\n        time: randomDate(),\n        status: randomStatus(),\n      },\n      scanners: {\n        time: randomDate(),\n        status: randomStatus(),\n      },\n      kiosks: {\n        time: randomDate(),\n        status: randomStatus(),\n      },\n      antenna: {\n        time: randomDate(),\n        status: randomStatus(),\n      },\n    },\n  });\n};\n\nexport const groupsDetail = (uuid, { page, perPage }) => {\n  const currPage = page || 1;\n  const currPerPage = perPage || 20;\n  const status = randomStatus();\n  const group = groups.find(({ uuid: groupUUID }) => uuid === groupUUID);\n  return Promise.resolve({\n    uuid,\n    name: group?.name || randomString(),\n    results: group?.sensors?.map((uuid) =>\n      rowGroupDetailCreator(\n        uuid,\n        `${randomNumber(0, 10)}.${randomNumber(0, 10)}`,\n        status\n      )\n    ),\n    meta: {\n      count: group?.sensors?.length || 0,\n      limit: currPerPage * currPage,\n      offset: currPerPage * (currPage - 1),\n    },\n  });\n};\n\nexport const groupDevicesInfo = (uuid) => {\n  return Promise.resolve({\n    uuid,\n    total: 200,\n    newDevices: randomNumber(0, 50),\n    offlineDevices: randomNumber(0, 50),\n    deliveringDevices: randomNumber(0, 50),\n  });\n};\n\nexport const createNewGroup = ({ groupName, isSecure, systemIDs }) => {\n  groups.push(\n    rowGroupCreator(randomUUID(), groupName, systemIDs, isSecure, new Date())\n  );\n  return Promise.resolve();\n};\n\nexport const updateGroup = ({ uuid, systemIDs, groupName }) => {\n  const group = groups.find(({ uuid: groupUUID }) => groupUUID === uuid);\n  if (group) {\n    group.sensors = systemIDs;\n  } else {\n    groups.push(rowGroupCreator(uuid, groupName, systemIDs, false, new Date()));\n  }\n  return Promise.resolve();\n};\n","import React from 'react';\n\nexport const InventoryContext = React.createContext({});\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { SELECT_ENTITY, PRE_SELECT_ENTITY } from './action-types';\n\nconst entitySelected = (state, { payload }) => {\n  const selected = state.selected || new Map();\n  if (payload.selected) {\n    if (payload.id === 0) {\n      state.rows.forEach((row) => selected.set(row.id, row));\n    } else {\n      const selectedRow = state?.rows?.find(({ id } = {}) => id === payload.id);\n      selected.set(payload.id, { ...(selectedRow || {}), id: payload.id });\n    }\n  } else {\n    if (payload.id === 0) {\n      state.rows.forEach((row) => selected.delete(row.id));\n    } else if (payload.id === -1) {\n      selected.clear();\n    } else {\n      selected.delete(payload.id);\n    }\n  }\n\n  return {\n    ...state,\n    selected: new Map(selected),\n  };\n};\n\nconst loadEntitiesFulfilled = (state) => {\n  return {\n    ...state,\n    rows: state.rows.map(({ id, ...row }) => ({\n      id,\n      ...row,\n      selected: !!state.selected?.get(id),\n    })),\n  };\n};\n\nexport const entitiesReducer = ({ LOAD_ENTITIES_FULFILLED }) =>\n  applyReducerHash({\n    [SELECT_ENTITY]: entitySelected,\n    [PRE_SELECT_ENTITY]: entitySelected,\n    [LOAD_ENTITIES_FULFILLED]: loadEntitiesFulfilled,\n  });\n","import React, { Fragment, useRef } from 'react';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/components/esm/Inventory';\nimport PropTypes from 'prop-types';\nimport { InventoryContext } from './constants';\nimport { Provider, useSelector, useDispatch } from 'react-redux';\nimport { entitiesReducer } from '../../store/inventory-table';\nimport { selectEntity } from '../../store/actions';\n\nconst calculateChecked = (rows = [], selected) =>\n  rows.every(({ id }) => selected?.has(id))\n    ? rows.length > 0\n    : rows.some(({ id }) => selected?.has(id)) && null;\n\nconst FormInventoryTable = ({\n  name,\n  FieldProvider,\n  validate,\n  FormSpyProvider,\n  formOptions,\n  component,\n  registry,\n  onLoad,\n  ...rest\n}) => {\n  const dispatch = useDispatch();\n  const inventory = useRef(null);\n  const selected = useSelector(\n    ({ entities }) => entities?.selected || new Map()\n  );\n  const loaded = useSelector(({ entities }) => entities?.loaded);\n  const rows = useSelector(({ entities }) => entities?.rows);\n  const onRefresh = (options, callback) => {\n    if (!callback && inventory && inventory.current) {\n      inventory.current.onRefreshData(options);\n    } else if (callback) {\n      callback(options);\n    }\n  };\n  const calculateSelected = () => (selected ? selected.size : 0);\n\n  return (\n    <div>\n      <InventoryTable\n        {...rest}\n        bulkSelect={{\n          count: calculateSelected(),\n          items: [\n            {\n              title: 'Select none (0)',\n              onClick: () => {\n                dispatch(selectEntity(-1, false));\n              },\n            },\n            {\n              ...(loaded && rows && rows.length > 0\n                ? {\n                    title: `Select page (${rows.length})`,\n                    onClick: () => {\n                      dispatch(selectEntity(0, true));\n                    },\n                  }\n                : {}),\n            },\n          ],\n          checked: calculateChecked(rows, selected),\n          onSelect: (value) => {\n            dispatch(selectEntity(0, value));\n          },\n        }}\n        ref={inventory}\n        onRefresh={onRefresh}\n        tableProps={{\n          canSelectAll: false,\n        }}\n        onLoad={({ mergeWithEntities, INVENTORY_ACTION_TYPES, ...rest }) => {\n          registry?.register?.(\n            mergeWithEntities(entitiesReducer(INVENTORY_ACTION_TYPES))\n          );\n          onLoad({ mergeWithEntities, INVENTORY_ACTION_TYPES, ...rest });\n        }}\n      />\n    </div>\n  );\n};\n\nconst WrappedFormInventoryTable = (props) => (\n  <InventoryContext.Consumer>\n    {({ registry, onLoad }) =>\n      registry ? (\n        <Provider store={registry.store}>\n          <FormInventoryTable registry={registry} onLoad={onLoad} {...props} />\n        </Provider>\n      ) : (\n        <Fragment />\n      )\n    }\n  </InventoryContext.Consumer>\n);\n\nWrappedFormInventoryTable.propTypes = {\n  FieldProvider: PropTypes.any,\n  formOptions: PropTypes.any,\n  FormSpyProvider: PropTypes.any,\n  validate: PropTypes.any,\n  name: PropTypes.string,\n  size: PropTypes.string,\n  component: PropTypes.any,\n};\n\nFormInventoryTable.propTypes = {\n  ...WrappedFormInventoryTable.propTypes,\n  registry: PropTypes.shape({\n    register: PropTypes.func,\n  }),\n  onLoad: PropTypes.func,\n};\n\nFormInventoryTable.defaultProps = {\n  onLoad: () => undefined,\n};\n\nexport default WrappedFormInventoryTable;\n","export const INVENTORY_TABLE = 'inventoryTable';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { statusToIcon, statusMapper } from '../constants';\nimport { UnknownIcon } from '@patternfly/react-icons';\n\nconst StatusIcon = ({ status, ...props }) => {\n  const Icon = statusToIcon?.[status]?.icon || UnknownIcon;\n  return <Icon {...props} color={statusToIcon?.[status]?.color} />;\n};\n\nStatusIcon.propTypes = {\n  status: PropTypes.oneOf(statusMapper),\n};\n\nexport default StatusIcon;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { LockIcon, LockOpenIcon } from '@patternfly/react-icons';\n\nconst SecureIcon = ({ isSecure, ...props }) => {\n  const Icon = isSecure ? LockIcon : LockOpenIcon;\n  return <Icon {...props} />;\n};\n\nSecureIcon.propTypes = {\n  isSecure: PropTypes.bool,\n};\n\nSecureIcon.defaultProps = {\n  isSecure: false,\n};\n\nexport default SecureIcon;\n","import {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  BellIcon,\n  PauseCircleIcon,\n  CircleNotchIcon,\n  UnknownIcon,\n} from '@patternfly/react-icons';\n\nimport dangerColor from '@patternfly/react-tokens/dist/esm/global_danger_color_100';\nimport warningColor from '@patternfly/react-tokens/dist/esm/global_warning_color_100';\nimport successColor from '@patternfly/react-tokens/dist/esm/global_success_color_100';\nimport infoColor from '@patternfly/react-tokens/dist/esm/global_info_color_100';\n\nexport const statusMapper = [\n  'done',\n  'error',\n  'pending',\n  'unknown',\n  'updating',\n  'warning',\n  'notification',\n];\n\nexport const statusToIcon = {\n  done: { icon: CheckCircleIcon, color: successColor.value },\n  error: { icon: ExclamationCircleIcon, color: dangerColor.value },\n  pending: { icon: PauseCircleIcon },\n  updating: { icon: CircleNotchIcon },\n  unknown: { icon: UnknownIcon },\n  warning: { icon: ExclamationTriangleIcon, color: warningColor.value },\n  notification: { icon: BellIcon, color: infoColor.value },\n};\n\nexport const isEmptyFilters = (activeFilters) =>\n  Object.values(activeFilters).find(\n    (item) => item?.value?.length > 0 || item?.length > 0\n  );\n\nexport const constructActiveFilters = (activeFilters) =>\n  Object.entries(activeFilters).map(([key, { label, value } = {}]) => ({\n    category: label,\n    chipKey: key,\n    chips:\n      value?.length > 0\n        ? Array.isArray(value)\n          ? value.map((item) => ({ name: item }))\n          : [\n              {\n                name: value,\n              },\n            ]\n        : [],\n  }));\n\nexport const onDeleteFilter = (activeFilters, itemsToRemove) => {\n  const currItem = itemsToRemove[0];\n  return {\n    ...activeFilters,\n    [currItem?.chipKey]: {\n      ...(activeFilters[currItem?.chipKey] || {}),\n      value: Array.isArray(activeFilters[currItem?.chipKey]?.value)\n        ? activeFilters[currItem?.chipKey]?.value?.filter(\n            (item) => !currItem?.chips?.find(({ name }) => name === item)\n          )\n        : '',\n    },\n  };\n};\n","import keyBy from 'lodash/keyBy';\nimport flatMap from 'lodash/flatMap';\n\nexport const LOAD_GROUPS = 'LOAD_GROUPS';\nexport const LOAD_GROUP_DETAIL = 'LOAD_GROUP_DETAIL';\nexport const LOAD_TRESHOLD = 'LOAD_TRESHOLD';\nexport const LOAD_DEVICES_INFO = 'LOAD_DEVICES_INFO';\nexport const LOAD_CANARIES_INFO = 'LOAD_CANARIES_INFO';\nexport const LOAD_GROUP_DEVICES_INFO = 'LOAD_GROUP_DEVICES_INFO';\n\nconst asyncActions = flatMap(\n  [\n    LOAD_GROUPS,\n    LOAD_GROUP_DETAIL,\n    LOAD_TRESHOLD,\n    LOAD_DEVICES_INFO,\n    LOAD_CANARIES_INFO,\n  ],\n  (a) => [a, `${a}_PENDING`, `${a}_FULFILLED`, `${a}_REJECTED`]\n);\nexport const ACTION_TYPES = keyBy(asyncActions, (k) => k);\n\nexport const SELECT_ENTITY = 'SELECT_ENTITY';\nexport const PRE_SELECT_ENTITY = 'PRE_SELECT_ENTITY';\n","import {\n  LOAD_GROUPS,\n  LOAD_TRESHOLD,\n  LOAD_DEVICES_INFO,\n  LOAD_CANARIES_INFO,\n  LOAD_GROUP_DETAIL,\n  LOAD_GROUP_DEVICES_INFO,\n  SELECT_ENTITY,\n  PRE_SELECT_ENTITY,\n} from './action-types';\nimport {\n  fetchGroups,\n  threshold,\n  devicesInfo,\n  canariesInfo,\n  groupsDetail,\n  groupDevicesInfo,\n} from '../api';\n\nexport const loadGroups = (perPage = 50, page = 1) => ({\n  type: LOAD_GROUPS,\n  payload: fetchGroups({ perPage, page }),\n});\n\nexport const loadThreshold = () => ({\n  type: LOAD_TRESHOLD,\n  payload: threshold(),\n});\n\nexport const loadDevicesInfo = () => ({\n  type: LOAD_DEVICES_INFO,\n  payload: devicesInfo(),\n});\n\nexport const loadCanariesInfo = () => ({\n  type: LOAD_CANARIES_INFO,\n  payload: canariesInfo(),\n});\n\nexport const loadGroupsDetail = (uuid, page, perPage) => ({\n  type: LOAD_GROUP_DETAIL,\n  payload: groupsDetail(uuid, { page, perPage }),\n});\n\nexport const loadGroupDevicesInfo = (uuid) => ({\n  type: LOAD_GROUP_DEVICES_INFO,\n  payload: groupDevicesInfo(uuid),\n});\n\nexport const selectEntity = (id, selected) => ({\n  type: SELECT_ENTITY,\n  payload: {\n    id,\n    selected,\n  },\n});\n\nexport const preSelectEntity = (id, selected) => ({\n  type: PRE_SELECT_ENTITY,\n  payload: {\n    id,\n    selected,\n  },\n});\n","import React from 'react';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_GROUP_DETAIL } from './action-types';\nimport { StatusIcon } from '../components';\n\nconst initialState = {};\n\nconst loadGroupsPending = (state) => ({\n  ...state,\n  devices: [],\n  isLoading: true,\n});\nconst loadGroupsFulfilled = (state, { payload }) => ({\n  ...state,\n  isLoading: false,\n  name: payload?.name,\n  uuid: payload?.uuid,\n  devices: payload?.results,\n  meta: payload?.meta || {},\n});\n\nconst onEntitiesLoaded = (state) => {\n  const [name, updated] =\n    state?.columns?.filter(\n      ({ key }) => key === 'display_name' || key === 'updated'\n    ) || [];\n  return {\n    ...state,\n    columns: [\n      name,\n      { key: 'version', title: 'Version' },\n      updated,\n      {\n        key: 'status',\n        title: 'Status',\n        // eslint-disable-next-line react/display-name\n        renderFunc: (status) => {\n          return <StatusIcon status={status} />;\n        },\n      },\n    ],\n    loaded: true,\n  };\n};\n\nexport const systemsList = ({ LOAD_ENTITIES_FULFILLED }) =>\n  applyReducerHash({\n    [LOAD_ENTITIES_FULFILLED]: onEntitiesLoaded,\n  });\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_GROUP_DETAIL}_PENDING`]: loadGroupsPending,\n    [`${LOAD_GROUP_DETAIL}_FULFILLED`]: loadGroupsFulfilled,\n  },\n  initialState\n);\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_GROUPS } from './action-types';\n\nconst initialState = {};\n\nconst loadGroupsPending = (state) => ({\n  ...state,\n  groups: [],\n  isLoading: true,\n});\nconst loadGroupsFulfilled = (state, { payload }) => ({\n  ...state,\n  isLoading: false,\n  groups: payload?.results || [],\n  meta: payload?.meta || {},\n});\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_GROUPS}_PENDING`]: loadGroupsPending,\n    [`${LOAD_GROUPS}_FULFILLED`]: loadGroupsFulfilled,\n  },\n  initialState\n);\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_TRESHOLD } from './action-types';\n\nconst initialState = {};\n\nconst loadThresholdPending = (state) => ({\n  ...state,\n  threshold: {},\n  isLoading: true,\n});\nconst loadThresholdFulfilled = (state, { payload }) => ({\n  ...state,\n  threshold: payload?.results,\n  isLoading: false,\n});\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_TRESHOLD}_PENDING`]: loadThresholdPending,\n    [`${LOAD_TRESHOLD}_FULFILLED`]: loadThresholdFulfilled,\n  },\n  initialState\n);\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_DEVICES_INFO } from './action-types';\n\nconst initialState = {};\n\nconst loadDevicesInfoPending = (state) => ({\n  ...state,\n  devicesInfo: {},\n  isLoading: true,\n});\nconst loadDevicesInfoFulfilled = (state, { payload }) => ({\n  ...state,\n  devicesInfo: payload?.results,\n  isLoading: false,\n});\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_DEVICES_INFO}_PENDING`]: loadDevicesInfoPending,\n    [`${LOAD_DEVICES_INFO}_FULFILLED`]: loadDevicesInfoFulfilled,\n  },\n  initialState\n);\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_CANARIES_INFO } from './action-types';\n\nconst initialState = {};\n\nconst loadCanariesInfoPending = (state) => ({\n  ...state,\n  canariesInfo: {},\n  isLoading: true,\n});\nconst loadCanariesInfoFulfilled = (state, { payload }) => ({\n  ...state,\n  canariesInfo: payload?.results,\n  isLoading: false,\n});\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_CANARIES_INFO}_PENDING`]: loadCanariesInfoPending,\n    [`${LOAD_CANARIES_INFO}_FULFILLED`]: loadCanariesInfoFulfilled,\n  },\n  initialState\n);\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/files/esm/ReducerRegistry';\nimport { LOAD_GROUP_DEVICES_INFO } from './action-types';\n\nconst initialState = {};\n\nconst loadGroupDevicesInfoPending = (state) => ({\n  ...state,\n  devicesInfo: {},\n  isLoading: true,\n});\nconst loadGroupDevicesInfoFulfilled = (state, { payload }) => ({\n  ...state,\n  devicesInfo: payload,\n  isLoading: false,\n});\n\nexport default applyReducerHash(\n  {\n    [`${LOAD_GROUP_DEVICES_INFO}_PENDING`]: loadGroupDevicesInfoPending,\n    [`${LOAD_GROUP_DEVICES_INFO}_FULFILLED`]: loadGroupDevicesInfoFulfilled,\n  },\n  initialState\n);\n"],"sourceRoot":""}