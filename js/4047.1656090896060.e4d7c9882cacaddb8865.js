"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[4047],{19694:(e,t,n)=>{t.RI={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.LP=n(35183).createIcon(t.RI),t.ZP=t.LP},39173:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(75418),r=n.n(a),o=n(45697),i=n.n(o),l=n(94184),s=n.n(l),c=n(38779),p=function(e){var t=e.className,n=e.title,a=s()(t);return r().createElement(c.D,{headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"}," ",n," ")};const u=p;p.propTypes={title:i().node.isRequired,className:i().string}},7741:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var a=n(4942),r=n(29439),o=n(75418),i=n.n(o),l=n(60722),s=n(11977),c=n(45697),p=n.n(c),u=n(64124),d=n(48903),m=function(e){var t=e.isOpen,n=e.openModal,a=e.reloadData,r={fields:[{component:"plain-text",name:"title",label:"Link to a custom repository to add packages to RHEL for Edge images."},{component:"text-field",name:"name",label:"Name",placeholder:"Repository name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.Z.REQUIRED},d.qg]},{component:"textarea",name:"baseURL",label:"BaseURL",placeholder:"https://",helperText:"Enter the baseURL for the custom repository.",isRequired:!0,validate:[{type:u.Z.REQUIRED},{type:u.Z.URL,message:"Must be a valid url"}]}]};return i().createElement(l.Z,{title:"Add repository",isOpen:t,openModal:function(){return n({type:"add"})},submitLabel:"Add",schema:r,onSubmit:function(e){return(0,s.eS)(e)},reloadData:a})};m.propTypes={openModal:p().func,reloadData:p().func,isOpen:p().bool};const b=m;var f=n(36621),y=n(65673),h=function(e){var t=e.openModal,n=e.isOpen,a=e.id,r=e.name,o=e.baseURL,c=e.reloadData,p={fields:[{component:"plain-text",name:"title",label:"Update information about this custom repository."},{component:"text-field",name:"name",label:"Name",placeholder:"Repository name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.Z.REQUIRED}]},{component:"textarea",name:"baseURL",label:"BaseURL",placeholder:"https://",helperText:i().createElement(f.p,{hasIcon:!0},i().createElement(y.u,{className:"pf-u-pb-md",variant:"warning",hasIcon:!0},"If you change the repo URL, you may not have access to the packages that were used to build images that reference this repository.")),isRequired:!0,validate:[{type:u.Z.REQUIRED},{type:u.Z.URL,message:"Must be a valid url"}]}]};return i().createElement(l.Z,{title:"Edit repository",isOpen:n,openModal:function(){return t({type:"edit"})},submitLabel:"Update",schema:p,initialValues:{id:a,name:r,baseURL:o},onSubmit:function(e){return(0,s.Es)(e)},reloadData:c})};h.propTypes={openModal:p().func,reloadData:p().func,isOpen:p().bool,id:p().number,name:p().string,baseURL:p().string,setData:p().func};const g=h;var v=n(68774),E=n(68340),R=n(19694),O=n(37655),L=function(e){var t=e.label,n=e.text;return i().createElement(v.D,null,i().createElement(E.x,{component:"b"},t),i().createElement(E.x,null,n))};L.propTypes={label:p().string,text:p().string};var D=function(){return i().createElement(R.ZP,{color:O.Z.value})},U=function(e){var t=e.openModal,n=e.id,a=e.isOpen,r=e.name,o=e.baseURL,c=e.reloadData,p={fields:[{component:"plain-text",name:"description",label:"Removing a repository could affect your ability to update images."},{component:"plain-text",name:"name",label:i().createElement(L,{label:"Name",text:r})},{component:"plain-text",name:"baseURL",label:i().createElement(L,{label:"baseURL",text:o})}]};return i().createElement(l.Z,{title:"Remove repository",titleIconVariant:D,isOpen:a,openModal:function(){return t({type:"remove"})},submitLabel:"Remove",schema:p,initialValues:{id:n},variant:"danger",onSubmit:function(e){var t=e.id;return(0,s.gK)(t)},reloadData:c})};U.propTypes={openModal:p().func,reloadData:p().func,isOpen:p().bool,id:p().number,name:p().string,baseURL:p().string,setData:p().func};const Z=U;var x=n(73448),w=n(15265),P=n(75824),j=[{label:"Name",type:"text"}],M=function(e){var t=e.data,n=e.count,a=e.isLoading,r=e.hasError,o=e.fetchRepos,l=e.openModal,s=t.map((function(e){var t=e.ID,n=e.Name,a=e.URL;return{rowInfo:{id:t,repoName:n,repoBaseURL:a},cells:[{title:i().createElement(i().Fragment,null,i().createElement(E.x,{className:"pf-u-mb-xs",component:E.q.p},i().createElement(P.u,{content:i().createElement("div",null,n)},i().createElement("span",null,(0,d.aS)(n,20)))),i().createElement(E.x,{component:E.q.a,href:a,target:"_blank",rel:"noopener noreferrer"},a," ",i().createElement(w.ZP,{className:"pf-u-ml-sm"})))}]}}));return i().createElement(i().Fragment,null,i().createElement(x.Z,{apiFilterSort:!0,isUseApi:!0,loadTableData:o,filters:j,tableData:{count:n,data:t,isLoading:a,hasError:r},columnNames:[{title:"Name",type:"name",sort:!0}],rows:s,actionResolver:function(e){if(!e.rowInfo)return[];var t=e.rowInfo,n=t.id,a=t.repoName,r=t.repoBaseURL;return[{title:"Edit",onClick:function(){return l({type:"edit",id:n,name:a,baseURL:r})}},{title:"Remove",onClick:function(){return l({type:"remove",id:n,name:a,baseURL:r})}}]},areActionsDisabled:function(){return!1},defaultSort:{index:0,direction:"asc"},toolbarButtons:[{title:"Add repository",click:function(){return l({type:"add"})}}]}))};M.propTypes={data:p().array,count:p().number,isLoading:p().bool,hasError:p().bool,openModal:p().func,fetchRepos:p().func};const I=M;var k=n(86350),N=n(48716),S=n(39173);const T=function(){return i().createElement(N.Z,null,i().createElement(i().Fragment,null,i().createElement(S.Z,{title:"Custom repositories"}),i().createElement("p",{className:"pf-u-mt-sm"},"Add custom repositories to build RHEL for Edge images with additional packages.")))};var q=n(96094),A=n(4874),C=n(3035);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const F=function(){var e=(0,A.useHistory)(),t=(0,q.Z)({api:function(e){var t=e.query;return(0,s.dd)({imageID:"",query:t})},tableReload:!0}),n=(0,r.Z)(t,2),l=n[0],c=n[1],p=l.data,u=l.isLoading,m=l.hasError,f=(0,o.useState)({isOpen:{add:!1,edit:!1,remove:!1},id:null,name:"",baseURL:""}),y=(0,r.Z)(f,2),h=y[0],v=y[1],E=function(e){var t=e.type,n=e.id,r=void 0===n?null:n,o=e.name,i=void 0===o?"":o,l=e.baseURL,s=void 0===l?"":l;v((function(e){return _(_({},e),{},{id:r,name:i,baseURL:s,isOpen:_(_({},e.isOpen),{},(0,a.Z)({},t,!e.isOpen[t]))})}))};return i().createElement(i().Fragment,null,i().createElement(T,null),i().createElement(k.Z,null,i().createElement(i().Fragment,null,(0,d.A8)(u,null==p?void 0:p.count,e)?i().createElement(C.Z,{icon:"repository",title:"Add a custom repository",body:"Add custom repositories to build RHEL for Edge images with additional packages.",primaryAction:{text:"Add repository",click:function(){return E({type:"add"})}}}):i().createElement(I,{data:(null==p?void 0:p.data)||[],count:null==p?void 0:p.count,openModal:E,isLoading:u,hasError:m,fetchRepos:c})),i().createElement(b,{isOpen:h.isOpen.add,openModal:E,reloadData:c}),i().createElement(g,{isOpen:h.isOpen.edit,id:h.id,name:h.name,baseURL:h.baseURL,openModal:E,reloadData:c}),i().createElement(Z,{isOpen:h.isOpen.remove,id:h.id,name:h.name,baseURL:h.baseURL,openModal:E,reloadData:c})))}},11977:(e,t,n)=>{n.d(t,{dd:()=>o,eS:()=>i,Es:()=>l,gK:()=>s});var a=n(66702),r=n(93454),o=function(e){var t=e.imageID,n=void 0===t?"":t,o=e.query,i=(0,a.Vs)(o);return r.eE.get("".concat(a.Ds,"/thirdpartyrepo?").concat(n?"imageID=".concat(n,"&"):"").concat(i))},i=function(e){return r.eE.post("".concat(a.Ds,"/thirdpartyrepo"),{Name:e.name,URL:e.baseURL})},l=function(e){return r.eE.put("".concat(a.Ds,"/thirdpartyrepo/").concat(e.id),{Name:e.name,URL:e.baseURL})},s=function(e){return r.eE.delete("".concat(a.Ds,"/thirdpartyrepo/").concat(e))}},60722:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(15861),r=n(4942),o=n(87462),i=n(87757),l=n.n(i),s=n(75418),c=n.n(s),p=n(80236),u=n(79442),d=n(67850),m=n(41387),b=n(45697),f=n.n(b);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e){var t=e.isOpen,n=e.title,r=e.titleIconVariant,i=e.openModal,s=e.submitLabel,b=e.schema,f=e.initialValues,y=e.variant,g=e.reloadData,v=e.size,E=e.onSubmit,R=e.additionalMappers;return c().createElement(p.u,{variant:null!=v?v:"small",title:n,titleIconVariant:null!=r?r:null,isOpen:t,onClose:i},c().createElement(u.Z,{schema:b,FormTemplate:function(e){return c().createElement(d.ZP,(0,o.Z)({},e,{submitLabel:s,disableSubmit:["invalid"],buttonsProps:{submit:{variant:y}}}))},initialValues:f,componentMapper:R?h(h({},R),m.ZP):m.ZP,onSubmit:function(){var e=(0,a.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:setTimeout((0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return i()}}))};g.propTypes={isOpen:f().bool,title:f().string,openModal:f().func,reloadData:f().func,submitLabel:f().string,schema:f().object,initialValues:f().object,variant:f().string,onSubmit:f().func,size:f().string,additionalMappers:f().object,titleIconVariant:f().any};const v=g}}]);
//# sourceMappingURL=../sourcemaps/4047.4f641491912a2b0938322a45df9f221e.js.map