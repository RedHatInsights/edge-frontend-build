(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[1774,7720,4807,6132,1575,6680],{52871:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>r});const r=(0,n(68419).w)({name:"CloseIcon",height:1024,width:730,svgPath:"M725.499315,767.757345 L469.242169,511.500499 L725.499315,255.243653 C729.196254,251.545719 731.096195,247.248119 731,242.4498 C731,237.653479 728.997365,233.35588 725.299427,229.558002 L647.542773,151.701495 C643.743891,147.903617 639.446287,146 634.64996,146 C629.852635,146 625.55503,147.803673 621.857092,151.500607 L365.5,407.857398 L109.241857,151.500607 C105.544917,147.803673 101.246314,145.904733 96.4499876,146 C91.6526619,146.104622 87.3550577,148.002562 83.5571748,151.701495 L5.7005771,229.457058 C1.90269428,233.255936 0,237.553535 0,242.350855 C0,247.148175 1.80175055,251.444775 5.50068853,255.143709 L261.857779,511.500499 L5.50068853,767.757345 C1.80175055,771.454279 -0.0961914123,775.752878 0,779.750645 C0.103697157,784.547965 2.00263857,788.845564 5.7005771,792.642443 L83.4572306,871.299502 C87.2541139,875.096381 91.5527176,877 96.3500433,877 C101.147369,877 105.444973,875.197325 109.142912,871.499391 L365.400058,615.241545 L621.657203,871.499391 C625.355142,875.197325 629.652746,877.095265 634.449072,877 C639.246398,877 643.545002,874.997437 647.342885,871.299502 L725.099538,793.54294 C728.896421,789.745062 730.796362,785.446463 730.796362,780.649143 C731.096195,775.752878 729.196254,771.454279 725.499315,767.757345",yOffset:0,xOffset:0})},96926:(e,t,n)=>{"use strict";n.d(t,{_V:()=>a,tE:()=>o,vn:()=>i});var r="@@INSIGHTS-CORE/NOTIFICATIONS/",a="".concat(r,"ADD_NOTIFICATION"),o="".concat(r,"REMOVE_NOTIFICATION"),i="".concat(r,"CLEAR_NOTIFICATIONS")},14190:(e,t,n)=>{"use strict";n.d(t,{SP:()=>c,ww:()=>i,z8:()=>o});var r=n(96926),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},o=function(e){return{type:r._V,payload:a({id:"cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2)},e)}},i=function(e){return{type:r.tE,payload:e}},c=function(){return{type:r.vn}}},11830:(e,t,n)=>{"use strict";n.d(t,{z8:()=>a.z8,fr:()=>c});var r=n(96926),a=n(14190),o=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},i=[];const c=function(e,t){switch(void 0===e&&(e=i),t.type){case r._V:return function(e,t){var n=t.payload;return o(o([],e,!0),[n],!1)}(e,t);case r.tE:return function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));return o(o([],e.slice(0,r),!0),e.slice(r+1),!0)}(e,t);case r.vn:return[];default:return e}}},37742:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(44914),a=n.n(r),o=n(75253),i=n(5556),c=n.n(i),s=n(30083),l=n(61574),u=n(71519),d=n(63767),p=n(46634),m=n(45523),v=n(72511),f=n(17427),g=n(71544),b=n(7838),h=n(39440),y=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Update available",value:"updateAvailable"}]}],I=function(e,t,n,r,o,i,c,l){return null==e?void 0:e.map((function(e){var o=e.DeviceName,u=e.DeviceGroups,p=e.DeviceID,v=e.DeviceUUID,h=e.UpdateAvailable,y=e.LastSeen,I=e.ImageName,D=e.ImageSetID,E=e.Status,w=e.DispatcherStatus,A=e.GroupName,O=e.GroupUUID,S=(0,g.N)(E,h,w);""===o&&(o="localhost"),c&&(u=A&&O?[{ID:O,Name:A}]:[]),null===u&&(u=[]);var k=a().createElement("div",null,a().createElement(m.m,{content:a().createElement("div",null,u.map((function(e,t){return a().createElement("p",{key:t},e.Name)})))},a().createElement("span",null,"Multiple groups"))),C="federated"!==r?"edge".concat(s.J.inventory,"/").concat(v):"insights/inventory/".concat(v),P="federated"!==r?"edge".concat(s.J.manageImages,"/").concat(D):"insights/image-builder/manage-edge-images/".concat(D);return{rowInfo:{deviceID:p,id:v,display_name:o,updateImageData:h,deviceStatus:(0,g.N)(E,h,w),imageSetId:D,imageName:I,deviceGroups:u},noApiSortFilter:[o||"",I||"","",y||"",(0,g.N)(E,h)],cells:[{title:t?(0,f.d)({pathname:C,linkText:o,navigate:i}):o},{title:I?t?(0,f.d)({pathname:P,linkText:I,navigate:i}):I:"unavailable"},{title:0===u.length?a().createElement("div",{className:"pf-v5-u-disabled-color-200"},"No"," ",c&&l?"workspace":"group"):1===u.length?u[0].Name:k},{title:y?a().createElement(d.A,{date:y}):"Unknown"},{title:"error"===S||"unresponsive"===S?a().createElement(b.A,{lastSeen:y,fetchDevices:n,device:e},a().createElement(g.A,{type:"error"===S?"errorWithExclamationCircle":S,isLink:!0})):a().createElement(g.A,{type:"error"===S?"errorWithExclamationCircle":S})}]}}))},D=function(e){var t=e.navigateProp,n=e.historyProp,r=e.locationProp,i=e.hasCheckbox,c=void 0!==i&&i,d=e.selectedItems,m=e.selectedItemsUpdateable,g=e.skeletonRowQuantity,b=e.data,D=e.count,E=e.isLoading,w=e.hasError,A=e.kebabItems,O=e.setRemoveModal,S=(e.setIsAddModalOpen,e.handleAddDevicesToGroup),k=e.handleRemoveDevicesFromGroup,C=e.handleEditNameSystem,P=e.handleDeleteSystem,j=e.handleUpdateSelected,T=e.hasModalSubmitted,_=e.setHasModalSubmitted,x=e.fetchDevices,N=e.isSystemsView,M=void 0!==N&&N,U=e.isAddSystemsView,R=void 0!==U&&U,L=e.urlName,F=e.enforceEdgeGroups,V=O,G=M,W=n?n():l.W6?(0,l.W6)():null,z=t?t():u.useNavigate?(0,u.useNavigate)():null,H=r?r():l.zy?(0,l.zy)():null,Q=H.pathname,q=H.search,J=(0,f.h)(h.xo),B=!F&&J,X=(0,f.h)(h.QX),Z=t?"federated":Q===s.J.inventory?Q:"/"===Q?"":"".concat(Q,"/systems"),$=(0,f.h)(h.Cd),K=[],Y=[],ee=!!b&&b.length>0,te=function(e,t,n){return[{title:"Name",type:"name",sort:t,columnTransforms:[(0,p.cellWidth)(25)]},{title:"Image",type:"image",sort:!1,columnTransforms:[(0,p.cellWidth)(20)]},{title:e?n?"Workspace":"Group":"Groups",type:"groups",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Last seen",type:"last_seen",sort:t,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,p.cellWidth)(25)]}]}(B,ee,X);if("manage-edge-inventory"===L){for(var ne=0;ne<y.length;ne++){var re=y[ne];"Status"===re.label&&(re.label="Image status"),K.push(re)}for(var ae=0;ae<te.length;ae++){var oe=te[ae];"Status"===oe.title&&(oe.title="Image status"),Y.push(oe)}}else K=y,Y=te;return a().createElement("div",{className:"edge"},a().createElement(a().Fragment,null,M&&(0,f.Rj)(E,D,q)&&!n?a().createElement(v.A,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Connect edge systems",body:"Connect and manage edge systems here after registering them via the console. To start, create a RHEL for Edge image and install it to your target system.",secondaryActions:[{title:"Create RHEL for Edge images and configure automated management",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/create_rhel_for_edge_images_and_configure_automated_management/index",type:"link"}]}):a().createElement(o.A,{historyProp:n,navigateProp:t,locationProp:r,apiFilterSort:!0,isUseApi:!0,filters:K,filtersName:"edge-devices-table-filters",loadTableData:x,tableData:{count:D,isLoading:E,hasError:w},columnNames:Y,rows:I(b||[],R||M,x,Z,0,z,B,X),actionResolver:function(e){var n,r,a,o=function(e){return t?"/insights/inventory/".concat(e.rowInfo.id,"/update"):"/inventory/".concat(e.rowInfo.id,"/update")},i=[];return E?i:null!=e&&null!==(n=e.rowInfo)&&void 0!==n&&n.id?(S&&!$&&i.push({title:"Add to ".concat(B&&X?"workspace":"group"),isDisabled:!!B&&0!==(null==e||null===(r=e.rowInfo)||void 0===r?void 0:r.deviceGroups.length),onClick:function(){return S([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),C&&i.push({title:"Edit",onClick:function(){return C([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),P&&i.push({title:"Delete",onClick:function(){return P([{ID:e.rowInfo.deviceID,display_name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),k&&!$&&i.push({title:"Remove from ".concat(B&&X?"workspace":"group"),isDisabled:0===(null==e||null===(a=e.rowInfo)||void 0===a?void 0:a.deviceGroups.length),onClick:function(){return k([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,deviceGroups:e.rowInfo.deviceGroups,UUID:e.rowInfo.id}],!0)}}),!function(e){var t,n,r;return!(null!==(t=e.rowInfo)&&void 0!==t&&t.UpdateAvailable||"updating"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.deviceStatus)&&"upToDate"!==(null===(r=e.rowInfo)||void 0===r?void 0:r.deviceStatus))}(e)&&j&&i.push({title:"Update",onClick:function(e,n,r){if(t){var a=o(r);z(a,{replace:!0})}else W.push({pathname:o(r)})}}),V&&i.push({title:"Remove from ".concat(B&&X?"workspace":"group"),onClick:function(){return O({name:e.rowInfo.display_name,isOpen:!0,deviceId:e.rowInfo.deviceID})}}),i):i},defaultSort:{index:3,direction:"desc"},toolbarButtons:G?[{isDisabled:!m,title:"Update",id:"toolbar-update-button",click:function(){return j()}}]:[],hasCheckbox:c,selectedItems:d,skeletonRowQuantity:g,kebabItems:A,hasModalSubmitted:T,setHasModalSubmitted:_})))};D.propTypes={navigateProp:c().func,historyProp:c().func,locationProp:c().func,imageData:c().object,urlParam:c().string,openUpdateWizard:c().func,skeletonRowQuantity:c().number,temp:c().func,hasCheckbox:c().bool,setIsModalOpen:c().func,selectedItems:c().func,selectedItemsUpdateable:c().bool,reload:c().bool,setReload:c().func,data:c().array,count:c().number,isLoading:c().bool,hasError:c().bool,handleSingleDeviceRemoval:c().func,kebabItems:c().array,setRemoveModal:c().func,setIsAddModalOpen:c().func,hasModalSubmitted:c().bool,setHasModalSubmitted:c().func,handleAddDevicesToGroup:c().func,handleRemoveDevicesFromGroup:c().func,handleEditNameSystem:c().func,handleDeleteSystem:c().func,handleUpdateSelected:c().func,fetchDevices:c().func,isSystemsView:c().bool,isAddSystemsView:c().bool,urlName:c().string,groupUUID:c().string,enforceEdgeGroups:c().bool};const E=D},7838:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(10467),a=n(5544),o=n(54756),i=n.n(o),c=n(44914),s=n.n(c),l=n(44461),u=n(72583),d=n(32034),p=n(1319),m=n(90678),v=n(73113),f=n(59263),g=n(31003),b=n(63767),h=n(71100),y=n(29082),I=n(45321),D=n(5556),E=n.n(D),w="The playbook failed to run.",A="The service timed out during the last update.",O="UNRESPONSIVE",S=function(e,t,n){return s().createElement("div",null,e===w?"The playbook failed to run. You can retry the update or build a new one.":e===A?"The service timed out during the last update. You can retry the update or build a new one.":t===O?"The service could not be reached via RHC. The system may communicate at a later time if this is a network issue or could be an indication of a more significant problem.":"Unknown",s().createElement(m.B,{className:"pf-u-mt-sm"},s().createElement(v.a,{className:"pf-u-font-weight-bold"},"Last seen"),s().createElement(v.a,null," ",s().createElement(b.A,{date:n}))))},k=function(e){var t,n,o=e.id,m=e.device,v=e.position,b=e.fetchDevices,D=e.lastSeen,E=e.children,k=(0,c.useState)(!1),C=(0,a.A)(k,2),P=C[0],j=C[1],T=(0,I.useDispatch)(),_={onSuccess:{variant:"info",title:"Updating system",description:"".concat(m.DeviceName," was added to the queue.")}};return s().createElement(d.W,null,s().createElement(f.B,null,s().createElement(l.A,{id:o,isVisible:P,shouldOpen:function(){return j(!0)},shouldClose:function(){return j(!1)},"aria-label":"Alert popover",alertseverityvariant:"danger",headerContent:s().createElement("div",{style:{color:"#c9190b"}}," ",s().createElement(g.Ay,{size:"sm"}),(t=m.DispatcherReason,n=m.DispatcherStatus,s().createElement("span",{className:"pf-u-ml-xs"},t===w?"Playbook error":t===A?"Service timed out":n===O?"Unresponsive":"Unknown"))),icon:"true",variant:"icon",color:"red",position:v,headerComponent:"h6",bodyContent:S(m.DispatcherReason,m.DispatcherStatus,D),footerContent:m.DispatcherStatus!==O?s().createElement(u.$n,{variant:"link",isInline:!0,onClick:function(){(0,h.A)(T,(0,r.A)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Pn)({DevicesUUID:[m.DeviceUUID]});case 2:j(!1),b();case 4:case"end":return e.stop()}}),e)}))),_)}}," ","Retry"," "):""},E)),s().createElement(p.d,null," "))};k.propTypes={id:E().string,lastSeen:E().string,children:E().element,device:E().object,position:E().string,fetchDevices:E().func},k.defaultProps={position:"left",id:"retry-update"};const C=k},76034:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(44914),a=n.n(r),o=n(5556),i=n.n(o),c=n(95658),s=n(57502),l=n(56899),u=n(27471),d=n(99851),p=n(8490),m=n(22069),v=n(71100),f=n(45321),g=function(e){return a().createElement(m.E,null,a().createElement("strong",null,e," "),"and all its data will be permanently deleted. Associated systems will be removed from the group but will not be deleted.")},b=function(e){return{fields:[{component:s.A.PLAIN_TEXT,name:"warning-message",label:g(e)},{component:s.A.CHECKBOX,name:"confirmation",label:"I understand that this action cannot be undone.",validate:[{type:c.A.REQUIRED}]}]}},h=function(){return a().createElement(p.I,{status:"warning"},a().createElement(d.Ay,null))},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,o=e.modalState,i=o.id,c=o.name,s=(0,f.useDispatch)();return a().createElement(l.A,{isOpen:t,closeModal:function(){return n(!1)},title:"Delete group",titleIconVariant:h,variant:"danger",submitLabel:"Delete",schema:b(c),onSubmit:function(){var e={onSuccess:{title:"Success",description:"".concat(c," has been removed successfully")},onError:{title:"Error",description:"Failed to delete group"}};(0,v.A)(s,(function(){return(0,u.Lv)(i)}),e)},reloadData:r})};y.propTypes={id:i().number,name:i().string,modalState:i().object,isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func};const I=y},40403:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(10467),a=n(54756),o=n.n(a),i=n(44914),c=n.n(i),s=n(5556),l=n.n(s),u=n(95658),d=n(57502),p=n(56899),m=n(27471),v=n(17427),f=n(71100),g=n(45321),b=function(){var e=(0,r.A)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.R4)(t);case 2:if(!e.sent.data.isValid){e.next=5;break}return e.abrupt("return","Group name already exists");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={fields:[{component:d.A.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:u.A.REQUIRED},{type:u.A.MAX_LENGTH,threshold:50},v.m0,b]}]},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.modalState,o=a.id,i=a.name,s=(0,g.useDispatch)();return c().createElement(p.A,{isOpen:t,closeModal:function(){return n(!1)},title:"Rename group",submitLabel:"Save",schema:h,initialValues:a,onSubmit:function(e){var t={onSuccess:{title:"Success",description:"".concat(i," has been renamed to ").concat(e.name," successfully")},onError:{title:"Error",description:"Failed to rename group"}};(0,f.A)(s,(function(){return(0,m.Hk)(o,e)}),t)},reloadData:r})};y.propTypes={id:l().number,modalState:l().object,isModalOpen:l().bool,setIsModalOpen:l().func,reloadData:l().func};const I=y},86822:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var r=n(60436),a=n(64467),o=n(5544),i=n(44914),c=n.n(i),s=n(92697),l=n(86726),u=n(96998),d=n(96553),p=n(71906),m=n(45523),v=n(81855),f=n(53926),g=n(5715),b=n(99780),h=n(83241),y=n(16401),I=n(72511),D=n(61574),E=n(30083),w=n(20689),A=n(37742),O=n(27471),S=n(10467),k=n(54756),C=n.n(k),P=n(72583),j=n(16165),T=n(5556),_=n.n(T),x=n(29082),N=n(43085),M=n(71100),U=n(45321),R=function(e){var t,n,r=e.groupId,a=e.closeModal,s=e.isOpen,l=e.reloadData,u=e.groupName,d=e.locationProp,p=e.navigateProp,m=(0,N.A)({api:x.ZK,tableReload:!0}),v=(0,o.A)(m,2),f=v[0],g=v[1],b=f.data,h=f.isLoading,y=f.hasError,I=(0,i.useState)([]),D=(0,o.A)(I,2),E=D[0],w=D[1],k=(0,U.useDispatch)();return c().createElement(j.a,{id:"add-systems-modal",title:"Add systems",position:"top",isOpen:s,onClose:a,variant:"large",actions:[c().createElement(P.$n,{isDisabled:0===E.length,key:"confirm",variant:"primary",onClick:function(){var e={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(u," successfully")},onError:{title:"Error",description:"An error occurred making the request"}};(0,M.A)(k,(function(){return(0,O.FW)(parseInt(r),E.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((0,S.A)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),a()}},"Add systems"),c().createElement(P.$n,{key:"cancel",variant:"link",onClick:a},"Cancel")]},c().createElement(A.default,{selectedItems:w,skeletonRowQuantity:15,hasCheckbox:!0,isLoading:h,hasError:y,count:null==b?void 0:b.count,data:(null==b||null===(t=b.data)||void 0===t?void 0:t.devices)||[],fetchDevices:g,enforceEdgeGroups:null==b||null===(n=b.data)||void 0===n?void 0:n.enforce_edge_groups,locationProp:d,navigateProp:p}))};R.propTypes={groupId:_().string,closeModal:_().func,isOpen:_().bool,reloadData:_().func,groupName:_().string,locationProp:_().func,navigateProp:_().func};const L=R;var F=n(17427),V=n(57502),G=n(55318),W=n(932),z=n(56899),H=n(76034),Q=n(40403),q=n(39440);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=c().lazy((function(){return Promise.all([n.e(1709),n.e(5563),n.e(4018),n.e(6863),n.e(5516),n.e(4785),n.e(6043),n.e(2941)]).then(n.bind(n,49629))})),Z=function(e){var t,n,a,S,k,C,P,j,T,_=e.locationProp,x=e.navigateProp,R=e.paramsProp,J=(0,F.h)(q.xo),Z=(0,F.h)(q.QX),$=(0,U.useDispatch)(),K=(0,D.W6)(),Y=R?R():(0,D.g)(),ee=null!=Y&&Y.id?Y.id:Y.groupId,te=_?_():(0,D.zy)(),ne=te.search,re=te.pathname,ae=window.location.pathname.indexOf("edge")>0?"edge":E.J.inventory,oe=(0,i.useState)(!1),ie=(0,o.A)(oe,2),ce=ie[0],se=ie[1],le=(0,i.useState)(!1),ue=(0,o.A)(le,2),de=ue[0],pe=ue[1],me=(0,i.useState)({isOpen:!1,name:"",deviceId:null}),ve=(0,o.A)(me,2),fe=ve[0],ge=ve[1],be=(0,i.useState)({isOpen:!1,deviceData:null,imageData:null}),he=(0,o.A)(be,2),ye=he[0],Ie=he[1],De=(0,N.A)({api:O.Qo,id:ee,tableReload:!0}),Ee=(0,o.A)(De,2),we=Ee[0],Ae=Ee[1],Oe=we.data,Se=we.isLoading,ke=we.hasError,Ce=null==Oe||null===(t=Oe.DeviceGroup)||void 0===t?void 0:t.Name,Pe=(0,i.useState)([]),je=(0,o.A)(Pe,2),Te=je[0],_e=je[1],xe=(0,i.useState)(!1),Ne=(0,o.A)(xe,2),Me=Ne[0],Ue=Ne[1],Re=(0,i.useState)({id:null,name:""}),Le=(0,o.A)(Re,2),Fe=Le[0],Ve=Le[1],Ge=(0,i.useState)(!1),We=(0,o.A)(Ge,2),ze=We[0],He=We[1],Qe=(0,i.useState)(!1),qe=(0,o.A)(Qe,2),Je=qe[0],Be=qe[1],Xe=function(){var e={onSuccess:{title:"Success",description:"".concat(fe.name," has been removed successfully")},onError:{title:"Error",description:"Failed to remove system"}};(0,M.A)($,(function(){return(0,O.cA)(ee,fe.deviceId)}),e),setTimeout((function(){return Ue(!0)}),800)},Ze="Actions for group details view",$e="group-details-dropdown";return c().createElement(c().Fragment,null,c().createElement(h.A,{className:"pf-m-light"},Ce?c().createElement(s.Q,null,c().createElement(l.J,null,(0,F.d)({pathname:"edge"===ae?"edge".concat(E.J.fleetManagement):"insights/inventory/groups",linkText:"Groups"})),c().createElement(l.J,null,Ce)):c().createElement(s.Q,null,c().createElement(l.J,{isActive:!0},c().createElement(p.E,{width:"100px"}))),c().createElement(u.s,{justifyContent:{default:"justifyContentSpaceBetween"}},c().createElement(d.Z,null,Ce?c().createElement(y.A,{title:Ce}):c().createElement(p.E,{width:"150px"})),c().createElement(d.Z,null,c().createElement(v.m,{position:f.nU.right,toggle:c().createElement(g.C,{id:$e,toggleIndicator:w.Ay,onToggle:function(e,t){return se(t)},isDisabled:!1,"aria-label":Ze},c().createElement(m.m,{content:Ze,triggerRef:function(){return document.getElementById($e)}}),"Actions"),isOpen:ce,dropdownItems:[c().createElement(b.t,{key:"delete-device-group",onClick:function(){return Ve({id:ee,name:Ce}),void He(!0)}},"Delete group"),c().createElement(b.t,{key:"rename-device-group",onClick:function(){return Ve({id:ee,name:Ce}),void Be(!0)}},"Rename group"),c().createElement(b.t,{key:"update-all-devices",isDisabled:(0,F.AT)({deviceData:null==Oe||null===(n=Oe.DevicesView)||void 0===n||null===(n=n.devices)||void 0===n?void 0:n.map((function(e){return{imageSetId:null==e?void 0:e.ImageSetID}})),imageData:null==Oe||null===(a=Oe.DevicesView)||void 0===a||null===(a=a.devices)||void 0===a?void 0:a.some((function(e){return e.ImageID}))}),onClick:function(){se(!1),Ie((function(e){var t,n;return B(B({},e),{},{isOpen:!0,deviceData:null==Oe||null===(t=Oe.DevicesView)||void 0===t||null===(t=t.devices)||void 0===t?void 0:t.map((function(e){return{id:null==e?void 0:e.DeviceUUID,display_name:""===(null==e?void 0:e.DeviceName)?"localhost":null==e?void 0:e.DeviceName}})),imageSetId:null==Oe||null===(n=Oe.DevicesView)||void 0===n||null===(n=n.devices.find((function(e){return e.ImageSetID})))||void 0===n?void 0:n.ImageSetID})}))}},"Update")]})))),c().createElement("section",{className:"edge-devices pf-l-page__main-section pf-c-page__main-section"},(0,F.Rj)(Se,null==Oe||null===(S=Oe.DeviceGroup)||void 0===S?void 0:S.Devices.length,ne)?c().createElement(u.s,{justifyContent:{default:"justifyContentCenter"}},c().createElement(I.A,{icon:"plus",title:"Add systems to the group",body:"Create groups to help manage your systems more effectively.",primaryAction:{text:"Add systems",click:function(){return pe(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):c().createElement(A.default,{data:(null==Oe||null===(k=Oe.DevicesView)||void 0===k?void 0:k.devices)||[],count:null==Oe||null===(C=Oe.DevicesView)||void 0===C?void 0:C.total,isLoading:Se,locationProp:_,navigateProp:x,paramsProp:D.g,hasError:ke,hasCheckbox:!0,handleSingleDeviceRemoval:Xe,kebabItems:[{isDisabled:!(Te.length>0),title:"Remove from ".concat(J&&Z?"workspace":"group"),onClick:function(){return ge({name:"",deviceId:null,isOpen:!0})}},{isDisabled:(0,F.AT)({deviceData:Te,imageData:null===(P=Te[0])||void 0===P?void 0:P.updateImageData}),title:"Update selected",onClick:function(){return Ie((function(e){return B(B({},e),{},{isOpen:!0,deviceData:(0,r.A)(Te),imageSetId:Te.find((function(e){return null==e?void 0:e.imageSetId})).imageSetId})}))}}],selectedItems:_e,setRemoveModal:ge,setIsAddModalOpen:pe,hasModalSubmitted:Me,setHasModalSubmitted:Ue,fetchDevices:Ae,isAddSystemsView:!0,enforceEdgeGroups:null==Oe||null===(j=Oe.DevicesView)||void 0===j?void 0:j.enforce_edge_groups})),de&&c().createElement(L,{groupId:ee,closeModal:function(){return pe(!1)},isOpen:de,reloadData:Ae,groupName:null==Oe||null===(T=Oe.DeviceGroup)||void 0===T?void 0:T.Name,locationProp:_,navigateProp:x}),fe.isOpen&&c().createElement(z.A,{isOpen:fe.isOpen,closeModal:function(){return ge(!1)},title:"Remove from ".concat(J&&Z?"workspace":"group"),submitLabel:"Remove",variant:"danger",schema:{fields:[{component:V.A.PLAIN_TEXT,name:"warning-text",label:"Do you want to remove ".concat(Te.length>0?"".concat(Te.length," system").concat(1===Te.length?"":"s"):"".concat(fe.name)," from ").concat(Ce,"?")}]},onSubmit:fe.deviceId?Xe:function(){var e={onSuccess:{title:"Success",description:"".concat(Te.length," systems have been removed successfully")},onError:{title:"Error",description:"failed to remove systems"}};(0,M.A)($,(function(){return(0,O.HG)(parseInt(ee),Te.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((function(){return Ue(!0)}),800)},reloadData:Ae}),ye.isOpen&&c().createElement(i.Suspense,{fallback:c().createElement(G.a,null,c().createElement(W.y,null))},c().createElement(X,{navigateBack:function(){K.push({pathname:re}),Ie((function(e){return B(B({},e),{},{isOpen:!1})}))},setUpdateModal:Ie,updateModal:ye,refreshTable:Ae})),ze&&c().createElement(H.A,{isModalOpen:ze,setIsModalOpen:He,reloadData:function(){return K.push(E.J.fleetManagement)},modalState:Fe}),Je&&c().createElement(Q.A,{isModalOpen:Je,setIsModalOpen:Be,reloadData:function(){return Ae()},modalState:Fe}))};Z.propTypes={locationProp:_().func,navigateProp:_().func,paramsProp:_().func};const $=Z},27471:(e,t,n)=>{"use strict";n.d(t,{Df:()=>s,EI:()=>i,FW:()=>p,HG:()=>v,HN:()=>m,Hk:()=>u,Lv:()=>d,Qo:()=>l,R4:()=>b,cA:()=>g,f:()=>c,f4:()=>y,ny:()=>f,se:()=>h,wj:()=>o});var r=n(83986),a=n(56830),o=function(e){return a.instance.post("".concat(r.rm,"/device-groups/"),{Name:e.name,Type:"static"})},i=function(e){return a.instance.post("".concat(r.kb,"/groups"),{name:e.name})},c=function(e){var t=e.query,n=(0,r.Lm)(t);return a.instance.get("".concat(r.rm,"/device-groups?").concat(n))},s=function(e){var t=e.query,n=(0,r.Lm)(t);return a.instance.get("".concat(r.kb,"/groups?").concat(n))},l=function(e){var t=e.id,n=e.query,o=(0,r.Lm)(n);return a.instance.get("".concat(r.rm,"/device-groups/").concat(t,"/view?").concat(o))},u=function(e,t){return a.instance.put("".concat(r.rm,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},d=function(e){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e))},p=function(e,t){return a.instance.post("".concat(r.rm,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},m=function(e,t){var n=[];return t.forEach((function(e){return n.push(e.UUID)})),a.instance.post("".concat(r.kb,"/groups/").concat(e,"/hosts"),n)},v=function(e,t){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},f=function(e,t){return a.instance.delete("".concat(r.kb,"/groups/").concat(e,"/hosts/")+t.join(","))},g=function(e,t){return a.instance.delete("".concat(r.rm,"/device-groups/").concat(e,"/devices/").concat(t))},b=function(e){return a.instance.get("".concat(r.rm,"/device-groups/checkName/").concat(e))},h=function(){return a.instance.get("".concat(r.rm,"/device-groups/enforce-edge-groups"))},y=function(e){return a.instance.get("".concat(r.kb,"/groups?name=").concat(e,"&order_by=name&order_how=ASC"))}},56899:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(10467),a=n(64467),o=n(58168),i=n(54756),c=n.n(i),s=n(44914),l=n.n(s),u=n(16165),d=n(97744),p=n(63537),m=n(24408),v=n(5556),f=n.n(v);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.isOpen,n=e.title,a=e.titleIconVariant,i=e.closeModal,s=e.submitLabel,v=e.schema,f=e.initialValues,g=e.variant,h=e.reloadData,y=e.size,I=e.onSubmit,D=e.additionalMappers,E=e.validatorMapper;return l().createElement(u.a,{variant:null!=y?y:"small",title:n,titleIconVariant:null!=a?a:null,isOpen:t,onClose:i},l().createElement(d.A,{schema:v,validatorMapper:E,FormTemplate:function(e){return l().createElement(p.Ay,(0,o.A)({},e,{submitLabel:s,disableSubmit:["invalid"],buttonsProps:{submit:{variant:g}}}))},initialValues:f,componentMapper:D?b(b({},D),m.Ay):m.Ay,onSubmit:function(){var e=(0,r.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:setTimeout((0,r.A)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return i()}}))};h.propTypes={isOpen:f().bool,title:f().string,closeModal:f().func,reloadData:f().func,submitLabel:f().string,schema:f().object,initialValues:f().object,variant:f().string,onSubmit:f().func,size:f().string,additionalMappers:f().object,titleIconVariant:f().any,validatorMapper:f().object};const y=h},71544:(e,t,n)=>{"use strict";n.d(t,{A:()=>f,N:()=>m});var r=n(44914),a=n.n(r),o=n(5556),i=n.n(o),c=n(55639),s=n(45523),l=n(30666),u=n(93973),d=n(51343),p={booting:{text:"Booting",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.l_.exclamationTriangle,color:d.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:d.l_.timesCircle,color:d.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:d.l_.unknown},interrupted:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"}},m=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},v=function(e){var t=e.id,n=e.type,r=e.isLabel,o=void 0!==r&&r,i=e.toolTipContent,d=void 0===i?"":i,m=e.className,v=void 0===m?"":m,f=e.isLink,g=Object.prototype.hasOwnProperty.call(p,n)?p[n]:p.default,b=g.text,h=g.Icon,y=g.color,I=g.labelColor;return a().createElement(a().Fragment,null,o?a().createElement(c.J,{id:t,color:I,icon:a().createElement(h,null),className:v},b):a().createElement(l.B,{id:t,style:{color:y},className:v},a().createElement(u.o,{className:"pf-u-mr-sm"},d?a().createElement(s.m,{content:"blargh"},a().createElement(h,null)):a().createElement(h,null)),a().createElement(u.o,null,a().createElement("p",{style:f?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},b))))};const f=v;v.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},v.defaultProps={id:"status"}},39440:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>a,QX:()=>o,xo:()=>r});var r="edgeParity.inventory-groups-enabled",a="edge-management.hide_groups_actions",o="platform.rbac.groups-to-workspaces-rename"},30083:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r={groups:"/groups",groupsDetail:"/groups/:uuid",deviceDetail:"/groups/:uuid/:inventoryId",canaries:"/canaries",fleetManagement:"/fleet-management",fleetManagementDetail:"/fleet-management/:groupId",fleetManagementSystemDetail:"/fleet-management/:groupId/systems/:deviceId",fleetManagementSystemDetailUpdate:"/fleet-management/:groupId/systems/:deviceId/update",inventory:"/inventory",insightsInventory:"/insights/inventory/manage-edge-inventory",inventoryDetail:"/inventory/:deviceId",inventoryDetailModal:"/inventory/:deviceId/:modalId",inventoryDetailUpdate:"/inventory/:deviceId/update",insightsInventoryDetailUpdate:"/insights/inventory/:deviceId/update",manageImages:"/manage-images",manageImagesDetail:"/manage-images/:imageId",manageImagesDetailVersion:"/manage-images/:imageId/versions/:imageVersionId",repositories:"/repositories",learningResources:"/learning-resources",contentSourcesRepositories:"/preview/insights/content"}},43085:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(64467),a=n(10467),o=n(5544),i=n(54756),c=n.n(i),s=n(11830),l=n(44914),u=n(45321);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=function(e){var t,n=e.api,r=e.id,i=void 0===r?null:r,d=e.statusMessages,m=e.tableReload,v=void 0!==m&&m,f=(0,u.useDispatch)(),g=(0,l.useState)([]),b=(0,o.A)(g,2),h=b[0],y=b[1],I=(0,l.useState)(!0),D=(0,o.A)(I,2),E=D[0],w=D[1],A=(0,l.useState)(!1),O=(0,o.A)(A,2),S=O[0],k=O[1],C=(0,l.useState)((function(){return n})),P=(0,o.A)(C,2),j=P[0],T=P[1],_=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var x=function(){var e=(0,a.A)(c().mark((function e(){var t,n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",w(!0),e.prev=2,e.next=5,j({id:i,query:t});case 5:n=e.sent,y(n),_&&f(p({},(0,s.z8)(p({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),k(!0),f(p({},(0,s.z8)(p({variant:"danger"},d.onError))));case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){v||x()}),[]),[{data:h,isLoading:E,hasError:S},x,j,T]}},71100:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(64467),a=n(10467),o=n(54756),i=n.n(o),c=n(11830);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n,r){var o,s,u,d=null===(o=n)||void 0===o?void 0:o.onSuccess,p=null===(s=n)||void 0===s?void 0:s.onInfo,m=null===(u=n)||void 0===u?void 0:u.onWarning;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var v=function(){var o=(0,a.A)(i().mark((function a(){var o;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t();case 3:return o=a.sent,p&&(r?r.hasInfo(n.onInfo):e(l({},(0,c.z8)(l({variant:"info"},n.onInfo))))),d&&(r?r.hasSuccess(n.onSuccess):e(l({},(0,c.z8)(l({variant:"success"},n.onSuccess))))),m&&(r?r.hasWarning(n.onWarning):e(l({},(0,c.z8)(l({variant:"warning"},n.onWarning))))),a.abrupt("return",o);case 10:return a.prev=10,a.t0=a.catch(0),r?r.err(n.onError,a.t0):e(l({},(0,c.z8)(l(l({variant:"danger"},n.onError),{},{description:null!==a.t0&&void 0!==a.t0&&a.t0.Title?"".concat(n.onError.description,": ").concat(a.t0.Title):n.onError.description})))),a.abrupt("return",a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return o.apply(this,arguments)}}();return v()}},25823:()=>{},16369:()=>{},62275:()=>{},89205:()=>{},20681:()=>{},79826:()=>{},16789:()=>{},95067:()=>{},21741:()=>{},39829:()=>{},30935:()=>{},43502:()=>{},56905:()=>{},29697:()=>{},61858:()=>{},26100:()=>{},41069:()=>{},43619:()=>{},92004:()=>{},7302:()=>{},86151:()=>{},51225:()=>{},8700:()=>{},1641:()=>{},26078:()=>{},23091:()=>{},5637:()=>{},86073:()=>{},97553:()=>{},67879:()=>{},87034:()=>{},70043:()=>{},98469:()=>{},27077:()=>{},21289:()=>{},2580:()=>{},36752:()=>{},85586:()=>{},83696:()=>{},9417:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},92901:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(20816);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,r.A)(a.key),a)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},64467:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(20816);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},20816:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(82284);function a(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}}}]);
//# sourceMappingURL=../sourcemaps/1774.1dcd1fc4778a5144da2fb7b26e864a8d.js.map