(self.webpackChunkedge=self.webpackChunkedge||[]).push([[3287],{71138:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>me});var n=a(93345),r=a.n(n),s=a(96937),i=a(11879),l=a(80475),o=a(28868),c=a(16594),m=a(10326),d=a(1330),u=a(61574),p=a(71519),E=a(36870),g=a(98398),L=a.n(g),h=a(7475),I=a(22359),y=a(90555),v=a(5556),f=a.n(v);const b=({title:e,content:t})=>r().createElement(r().Fragment,null,r().createElement("span",null,e),r().createElement(I.Popover,{headerContent:r().createElement("div",null,e),bodyContent:r().createElement("div",null,t)},r().createElement(y.Button,{variant:"plain","aria-label":`Action for ${e}`,className:"ins-active-general_information__popover-icon"},r().createElement(L(),null))));b.propTypes={title:f().string,content:f().string};const D=b;var _=a(42600),T=a(87945),A=a(94502);const N=({status:e})=>"green"===e?r().createElement(r().Fragment,null,r().createElement(_.Ay,{color:"green",className:"pf-u-mr-sm"}),r().createElement("span",{className:"pf-u-success-color-200"},"Passed")):"red"===e?r().createElement(r().Fragment,null,r().createElement(T.Ay,{color:"red",className:"pf-u-mr-sm"}),r().createElement("span",{className:"pf-u-danger-color-200"},"Failed and reverted")):r().createElement(r().Fragment,null,r().createElement(A.Ay,{className:"pf-u-mr-sm"}),r().createElement("span",null,"Waiting for update"));N.propTypes={status:f().string};const S=N;var C=a(37560),R=a(89243);const $=e=>r().createElement(C.A,{appName:"inventory",module:"./GeneralInformation",fallback:r().createElement(R.A,{numberOfRows:3}),...e}),x=e=>r().createElement(C.A,{appName:"inventory",module:"./SystemCard",fallback:r().createElement(R.A,{numberOfRows:5}),...e}),U=e=>r().createElement(C.A,{appName:"inventory",module:"./OperatingSystemCard",fallback:r().createElement(R.A,{numberOfRows:6}),...e}),k=e=>r().createElement(C.A,{appName:"inventory",module:"./BiosCard",fallback:r().createElement(R.A,{numberOfRows:4}),...e}),P=e=>r().createElement(C.A,{appName:"inventory",module:"./CollectionCard",fallback:r().createElement(R.A,{numberOfRows:7}),...e}),w=e=>r().createElement(C.A,{appName:"inventory",module:"./InfrastructureCard",fallback:r().createElement(R.A,{numberOfRows:6}),...e}),F=r().lazy((()=>a.e(998).then(a.bind(a,59069)))),H=e=>{const t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""}," ",r().createElement(w,{...e,store:t}))},O=e=>{const t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""}," ",r().createElement(F,{...e,store:t}))},G=e=>{const t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""},r().createElement(k,{...e,store:t}))},M=e=>{const t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""},r().createElement(U,{...e,hasKernelModules:!0,store:t}))},B=e=>{const t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""},r().createElement(P,{...e,extra:[{title:"RHC Health (broker functioning)",value:r().createElement(h.Tooltip,{content:"Unknown service status"},r().createElement(L(),{className:"ins-c-inventory__detail--unknown"}))}],store:t}))},V=e=>{const t=(0,E.Pj)(),{greenbootStatus:a}=(0,E.d4)((({systemProfileStore:e})=>({greenbootStatus:e?.systemProfile?.greenboot_status})));return r().createElement(n.Suspense,{fallback:""},r().createElement(x,{...e,store:t,hasCPUs:!1,hasSockets:!1,hasCores:!1,hasCPUFlags:!1,hasRAM:!1,hasSAP:!1,extra:[{title:r().createElement(D,{title:"GreenBoot Status",content:"This is a description about greenboot status"}),value:r().createElement(S,{status:a})}]}))},W=()=>{const e=(0,E.d4)((({permissionsReducer:e})=>e?.writePermissions)),t=(0,E.Pj)();return r().createElement(n.Suspense,{fallback:""},r().createElement($,{store:t,writePermissions:e,SystemCardWrapper:V,OperatingSystemCardWrapper:H,BiosCardWrapper:O,InfrastructureCardWrapper:G,ConfigurationCardWrapper:M,CollectionCardWrapper:B}))},z=(0,a(62794).Lr)({LOAD_ENTITY_FULFILLED:e=>({...e,loaded:!0,activeApps:[{title:"General information",name:"general_information",component:W}]})});var j=a(33494),q=a(27291),J=a(57179),Y=a(6138),K=a.n(Y),Q=a(59622),Z=a(66171);const X=({deviceData:e,setUpdateModal:t,imageId:a,setReload:s})=>{const{deviceId:i}=(0,u.g)(),{getRegistry:l}=(0,n.useContext)(j.N),[o,c]=(0,n.useState)({isOpen:!1,imageId:null,cveCount:0}),[m,d]=(0,n.useState)(null),[p,E]=(0,n.useState)(null),[g,L]=(0,n.useState)("noAlert");(0,n.useEffect)((()=>{c((e=>({...e,imageId:a})))}),[a]),(0,n.useEffect)((()=>{(async()=>{if(!e)return;const t={id:"view",q:{id:e?.ImageInfo?.Image?.ImageSetID}},a=await(0,Z.MH)(t);E(a?.data?.[0]?.Status)})()}),[e]),(0,n.useEffect)((()=>{!m?.isLoading&&!m?.meta?.filter&&c((e=>({...e,cveCount:m?.data?.length}))),L((t=>((e,t,a,n,r)=>e?.isLoading||e?.meta?.filter||!t?r:!e?.data?.length>0||!n?"noAlert":"BUILDING"===t?.UpdateTransactions[0]?.Status||"CREATED"===t?.UpdateTransactions[0]?.Status?"systemUpdating":t?.Device?.UpdateAvailable?"updateDevice":"BUILDING"===a||"CREATED"===a?"imageBuilding":"updateImage")(m,e,p,a,t)))}),[m,e,p,a]);const h={updateImage:r().createElement(J.Alert,{className:"pf-u-mb-md",variant:"info",isInline:!0,title:"To remediate CVEs, update the image.",actionLinks:r().createElement(y.Button,{className:"pf-u-mt-sm",size:"sm",onClick:()=>{c((e=>({...e,isOpen:!0})))}},"Update Image")}),imageBuilding:r().createElement(J.Alert,{className:"pf-u-mb-md",customIcon:r().createElement(K(),null),variant:"info",isInline:!0,title:"Image build in progress. Once completed, you'll need to update your system."}),updateDevice:r().createElement(J.Alert,{className:"pf-u-mb-md",variant:"warning",isInline:!0,title:" Image build completed. Update system to the newest image version to remediate CVEs.",actionLinks:r().createElement(y.Button,{className:"pf-u-mt-sm",size:"sm",onClick:()=>{t((e=>({...e,isOpen:!0})))}},"Update system")}),systemUpdating:r().createElement(J.Alert,{className:"pf-u-mb-md",customIcon:r().createElement(K(),null),variant:"info",isInline:!0,title:"System updating. No additional actions required."}),noAlert:r().createElement(r().Fragment,null)};return r().createElement(r().Fragment,null,r().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},h[g],r().createElement(C.A,{appName:"vulnerability",module:"./SystemDetail",getRegistry:l,customIntlProvider:!0,entity:{id:i},canSelect:!1,canEditPairStatus:!1,canManageColumns:!1,linkToCustomerPortal:!0,defaultColumns:["synopsis","public_date","impact","cvss_score"],filters:["filter","security_rule","known_exploit","impact","cvss_score"],customAction:e=>{d(e)}})),o.isOpen&&r().createElement(Q.default,{updateCveModal:o,setUpdateCveModal:c,setReload:s}))};X.propTypes={imageId:f().number,deviceData:f().object,setUpdateModal:f().func,setReload:f().func};const ee=X,te=({systemProfile:e,imageId:t,setUpdateModal:a,setReload:s})=>{const[i,l]=(0,n.useState)(0);return r().createElement(q.Tabs,{className:"pf-u-ml-md",activeKey:i,onSelect:(e,t)=>l(t)},r().createElement(q.Tab,{eventKey:0,title:r().createElement(q.TabTitleText,null,"Details")},r().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},r().createElement(W,null))),r().createElement(q.Tab,{eventKey:1,title:r().createElement(q.TabTitleText,null,"Vulnerability")},r().createElement(ee,{deviceData:e,setUpdateModal:a,imageId:t,setReload:s})))};te.propTypes={imageId:f().number,systemProfile:f().object,setUpdateModal:f().func,setReload:f().func};const ae=te;var ne=a(60732),re=a(57697),se=a(78259),ie=a(53320),le=a(9694),oe=a(19357);const ce=r().lazy((()=>Promise.all([a.e(6863),a.e(9304),a.e(265),a.e(4171),a.e(1657),a.e(6959),a.e(7179),a.e(6459),a.e(4422),a.e(2941)]).then(a.bind(a,27729)))),me=()=>{const[{default:e}]=(0,le.useLoadModule)({appName:"inventory",scope:"inventory",module:"./systemProfileStore"},{}),t=(0,u.W6)(),{pathname:a}=(0,u.zy)(),{deviceId:g,groupId:L}=(0,u.g)(),[h,I]=(0,n.useState)(null),{getRegistry:y}=(0,n.useContext)(j.N),v=(0,E.d4)((e=>e?.entityDetails?.loaded)),f=(0,E.d4)((({entityDetails:e})=>e?.entity)),[b,D]=(0,n.useState)(),[_,T]=(0,n.useState)({isOpen:!1,deviceData:null}),[A,N]=(0,n.useState)(!0),[S,C]=(0,n.useState)(!1),[R,$]=(0,se.A)({api:()=>(0,ne.ZK)({query:{uuid:g}})}),[x]=R.data?.data?.devices||[],{Status:U,UpdateAvailable:k,DispatcherStatus:P,LastSeen:w,DeviceGroups:F}=x||{},H=L?F?.find((e=>e.ID.toString()===L))?.Name:null,O=(0,re.N)(U,k,P);return(0,n.useEffect)((()=>{insights.chrome.registerModule("inventory"),insights.chrome?.hideGlobalFilter?.(!0),insights.chrome.appAction("system-detail")}),[]),(0,n.useEffect)((()=>{(async()=>{if(!f?.display_name)return;const e=await(0,ne.Pf)(g);D(e),N(!1),T((t=>({...t,deviceData:[{display_name:f.display_name,id:f.id,deviceStatus:O}],imageSetId:e?.ImageInfo?.Image?.ImageSetID}))),I(e?.ImageInfo?.Image?.ID)})()}),[f,S]),e?r().createElement(m.A,{hideInvLink:!0,showTags:!0,onLoad:({mergeWithDetail:t})=>{y().register({systemProfileStore:e,...t(z)})},inventoryId:g},r().createElement(c.A,null,H?r().createElement(s.Breadcrumb,{ouiaId:"groups-list"},r().createElement(s.BreadcrumbItem,null,r().createElement(p.N_,{to:oe.J.fleetManagement},"Groups")),r().createElement(s.BreadcrumbItem,null,r().createElement(p.N_,{to:`${oe.J.fleetManagement}/${L}`},H)),r().createElement(s.BreadcrumbItem,{isActive:!0},r().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},f?.display_name||r().createElement(o.A,{size:o.n.xs})))):r().createElement(s.Breadcrumb,{ouiaId:"systems-list"},r().createElement(s.BreadcrumbItem,null,r().createElement(p.N_,{to:oe.J.inventory},"Systems")),r().createElement(s.BreadcrumbItem,{isActive:!0},r().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},f?.display_name||r().createElement(o.A,{size:o.n.xs})))),r().createElement(d.A,{fallback:"",showDelete:!0,actions:[{title:"Update",isDisabled:"BUILDING"===b?.UpdateTransactions?.[0]?.Status||"CREATED"===b?.UpdateTransactions?.[0]?.Status||!b?.ImageInfo?.UpdatesAvailable?.length>0,onClick:()=>{t.push({pathname:`${a}/update`,search:"?from_details=true"})}}],hideBack:!0,hideInvDrawer:!0,inventoryId:g}),A?r().createElement(o.A,{size:o.n.xs}):"error"===O||"unresponsive"===O?r().createElement(ie.A,{lastSeen:w,device:x,position:"right",fetchDevices:$},r().createElement(re.A,{id:"device-status",type:"error"===O?"errorWithExclamationCircle":O,isLink:!0,isLabel:!0,className:"pf-u-mt-sm cursor-pointer"})):r().createElement(re.A,{id:"device-status",type:O,isLabel:!0,className:"pf-u-mt-sm"})),v&&r().createElement(ae,{systemProfile:b,imageId:h,setUpdateModal:T,setReload:C}),_.isOpen&&r().createElement(n.Suspense,{fallback:r().createElement(i.Bullseye,null,r().createElement(l.Spinner,null))},r().createElement(ce,{navigateBack:()=>{t.push({pathname:a}),T((e=>({...e,isOpen:!1})))},setUpdateModal:T,updateModal:_,refreshTable:()=>C(!0)}))):r().createElement(i.Bullseye,null,r().createElement(l.Spinner,null))}},59622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var n=a(93345),r=a.n(n),s=a(48263),i=a(90555),l=a(55729),o=a(76959),c=a(11879),m=a(80475),d=a(88993),u=a(5556),p=a.n(u),E=a(36870),g=a(33494),L=a(62794),h=a(80159);(0,L.Lr)({[`${h.NX}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.NX}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.NX}_REJECTED`]:()=>({isLoading:!1,hasError:!0,data:"No system summary data to view"})},{}),(0,L.Lr)({[`${h.rI}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.rI}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.rI}_REJECTED`]:()=>({isLoading:!1,hasError:!0,data:"No images to view"})},{}),(0,L.Lr)({[`${h.k4}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.k4}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.k4}_REJECTED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!0,data:t})},{}),(0,L.Lr)({[`${h.ZP}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.ZP}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.ZP}_REJECTED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!0,data:t})},{}),(0,L.Lr)({[`${h.Qw}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.Qw}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.Qw}_REJECTED`]:()=>({isLoading:!1,hasError:!0,data:"No image status to view"})},{});const I=(0,L.Lr)({[`${h.Hh}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.Hh}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.Hh}_REJECTED`]:()=>({isLoading:!1,hasError:!0,data:"No image detail to view"})},{});(0,L.Lr)({[`${h.aQ}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.aQ}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.aQ}_REJECTED`]:(e,{payload:t})=>({isLoading:!1,hasError:!0,data:t})},{}),(0,L.Lr)({[`${h.$I}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.$I}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.$I}_REJECTED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!0,data:t})},{}),(0,L.Lr)({[`${h.Iw}_PENDING`]:e=>({...e,groups:[],isLoading:!0}),[`${h.Iw}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,groups:t?.results||[],meta:t?.meta||{}})},{}),(0,L.Lr)({[`${h.VY}_PENDING`]:e=>({...e,threshold:{},isLoading:!0}),[`${h.VY}_FULFILLED`]:(e,{payload:t})=>({...e,threshold:t?.results||{},isLoading:!1})},{}),(0,L.Lr)({[`${h.Cf}_PENDING`]:e=>({...e,devicesInfo:{},isLoading:!0}),[`${h.Cf}_FULFILLED`]:(e,{payload:t})=>({...e,devicesInfo:t?.results||{},isLoading:!1})},{}),(0,L.Lr)({[`${h.$4}_PENDING`]:e=>({...e,canariesInfo:[],isLoading:!0}),[`${h.$4}_FULFILLED`]:(e,{payload:t})=>({...e,canariesInfo:t?.results||[],isLoading:!1})},{});a(91056),a(7475);p().oneOf(d.WN);var y=a(33850),v=a.n(y),f=a(99180),b=a.n(f);const D=({isSecure:e,...t})=>{const a=e?v():b();return r().createElement(a,{...t})};D.propTypes={isSecure:p().bool},D.defaultProps={isSecure:!1},(0,L.Lr)({[`${h.Po}_PENDING`]:e=>({...e,isLoading:!0}),[`${h.Po}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,name:t?.name||"",uuid:t?.uuid||"",devices:t?.results||[],meta:t?.meta||{}})},{}),(0,L.Lr)({[`${h.A2}_PENDING`]:e=>({...e,devicesInfo:{},isLoading:!0}),[`${h.A2}_FULFILLED`]:(e,{payload:t})=>({...e,devicesInfo:t,isLoading:!1})},{}),(0,L.Lr)({[`${h.Um}_PENDING`]:()=>({isLoading:!0,hasError:!1,error:null}),[`${h.Um}_FULFILLED`]:()=>({isLoading:!1,hasError:!1,error:null}),[`${h.Um}_REJECTED`]:(e,{payload:t})=>({isLoading:!1,hasError:!0,error:t}),[`${h.Um}_RESET`]:()=>({isLoading:!1,hasError:!1,error:null})},{}),(0,L.Lr)({[`${h.FB}_PENDING`]:()=>({isLoading:!0,hasError:!1,data:null}),[`${h.FB}_FULFILLED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!1,data:t}),[`${h.FB}_REJECTED`]:(e,{payload:t})=>({...e,isLoading:!1,hasError:!0,data:t})},{});var _=a(11830),T=a(41526),A=a(66171);const N=({updateCveModal:e,setUpdateCveModal:t,setReload:a})=>{const u=(0,E.wA)(),{getRegistry:p}=(0,n.useContext)(g.N),{data:L}=(0,E.d4)((({imageDetailReducer:e})=>({data:e?.data||null})),E.bN);(0,n.useEffect)((()=>{const t=p().register({imageDetailReducer:I});return e?.imageId&&(0,T.TW)(u,e?.imageId),()=>t()}),[u]);const h=()=>{t((e=>({...e,isOpen:!1})))};return L?r().createElement(s.Modal,{variant:"medium",title:`Update image: ${L?.image?.Name}`,description:"Review the information and click Update image to start the build process",isOpen:e.isOpen,onClose:h,actions:[r().createElement(i.Button,{key:"confirm",variant:"primary",onClick:()=>{const e={Id:L?.image?.ID,description:L?.image?.Description,name:L?.image?.Name,version:L?.image?.Version+1,architecture:"x86_64",credentials:L?.image?.Installer.SshKey,username:L?.image?.Installer.Username,imageType:L?.image?.OutputTypes,"selected-packages":L?.image?.Packages?.map((e=>({name:e.Name}))),release:L?.image?.Distribution};h(),a(!0),(0,T.g_)(u,e,(e=>{u({...(0,_.z8)({variant:"info",title:"Updating image",description:`${e.value.Name} image was added to the queue.`}),meta:{polling:{id:`FETCH_IMAGE_${e.value.ID}_BUILD_STATUS`,fetcher:()=>(0,A.dW)(e.value.ID),condition:e=>{switch(e.Status){case"BUILDING":return[!0,""];case"ERROR":return[!1,"failure"];default:return[!1,"success"]}},onEvent:{failure:[t=>t((0,_.z8)({variant:"danger",title:"Image build failed",description:`${e.value.Name} image build is completed unsuccessfully`}))],success:[t=>t((0,_.z8)({variant:"success",title:"Image is ready",description:`${e.value.Name} image build is completed`})),e=>(0,T.kD)(e)]}}}}),(0,T.kD)(u),u((0,T.pe)({name:L?.image?.Name,id:L?.image?.ID}))}))}},"Update Image"),r().createElement(i.Button,{key:"cancel",variant:"link",onClick:h},"Cancel")]},r().createElement(l.TextContent,null,r().createElement(l.TextListItem,{component:l.TextVariants.h3},r().createElement(l.Text,{component:"b"},"Details")),r().createElement(l.TextList,{component:l.TextListVariants.dl},r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Name"),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},L?.image?.Name),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Version"),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},L?.image?.Version+1),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Description"),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},L?.image?.Description)),r().createElement(l.TextListItem,{component:l.TextVariants.h3},r().createElement(l.Text,{component:"b"},"Output")),r().createElement(l.TextList,{component:l.TextListVariants.dl},r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Release"),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},d.Lm[L?.image?.Distribution]),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Output type"),r().createElement(l.TextListItem,{component:l.TextListItemVariants.dd},d.hx[L?.image?.ImageType])),r().createElement(l.TextListItem,{component:l.TextVariants.h3},r().createElement(l.Text,{component:"b"},"Packages")),r().createElement(l.TextList,{component:l.TextListVariants.dl},r().createElement(l.TextListItem,{component:l.TextListItemVariants.dt},"Updated"),r().createElement(l.TextListItem,{className:"pf-u-pl-lg",component:l.TextListItemVariants.dd},e?.cveCount)))):r().createElement(o.Backdrop,null,r().createElement(c.Bullseye,null,r().createElement(m.Spinner,{diameter:"100px"})))};N.propTypes={updateCveModal:p().shape({isOpen:p().bool.isRequired,imageId:p().string,cveCount:p().number}).isRequired,setUpdateCveModal:p().func.isRequired,setReload:p().bool};const S=N},53320:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var n=a(93345),r=a.n(n),s=a(22359),i=a(90555),l=a(60107),o=a(10341),c=a(65842),m=a.n(c),d=a(63767),u=a(55270),p=a(60732),E=a(36870),g=a(5556),L=a.n(g);const h="The playbook failed to run.",I="The service timed out during the last update.",y="UNRESPONSIVE",v=(e,t,a)=>r().createElement("div",null,e===h?"The playbook failed to run. You can retry the update or build a new one.":e===I?"The service timed out during the last update. You can retry the update or build a new one.":t===y?"The service could not be reached via RHC. The system may communicate at a later time if this is a network issue or could be an indication of a more significant problem.":"Unknown",r().createElement(o.Stack,{className:"pf-u-mt-sm"},r().createElement(o.StackItem,{className:"pf-u-font-weight-bold"},"Last seen"),r().createElement(o.StackItem,null," ",r().createElement(d.A,{date:a})))),f=({id:e,device:t,position:a,fetchDevices:o,lastSeen:c,children:d})=>{const[g,L]=(0,n.useState)(!1),f=(0,E.wA)(),b={onSuccess:{variant:"info",title:"Updating system",description:`${t.DeviceName} was added to the queue.`}};return r().createElement(l.DescriptionListGroup,null,r().createElement(l.DescriptionListTermHelpText,null,r().createElement(s.Popover,{id:e,isVisible:g,shouldOpen:()=>L(!0),shouldClose:()=>L(!1),"aria-label":"Alert popover",alertseverityvariant:"danger",headerContent:r().createElement("div",{style:{color:"#c9190b"}}," ",r().createElement(m(),{size:"sm"}),(D=t.DispatcherReason,_=t.DispatcherStatus,r().createElement("span",{className:"pf-u-ml-xs"},D===h?"Playbook error":D===I?"Service timed out":_===y?"Unresponsive":"Unknown"))),icon:"true",variant:"icon",color:"red",position:a,headerComponent:"h6",bodyContent:v(t.DispatcherReason,t.DispatcherStatus,c),footerContent:t.DispatcherStatus!==y?r().createElement(i.Button,{variant:"link",isInline:!0,onClick:()=>{(0,u.A)(f,(async()=>{await(0,p.Pn)({DevicesUUID:[t.DeviceUUID]}),L(!1),o()}),b)}}," ","Retry"," "):""},d)),r().createElement(l.DescriptionListDescription,null," "));var D,_};f.propTypes={id:L().string,lastSeen:L().string,children:L().element,device:L().object,position:L().string,fetchDevices:L().func},f.defaultProps={position:"left",id:"retry-update"};const b=f},60732:(e,t,a)=>{"use strict";a.d(t,{Pf:()=>l,Pn:()=>c,VR:()=>i,XH:()=>o,ZK:()=>s});var n=a(11268),r=a(56830);const s=({query:e})=>{const t=(0,n.Lm)(e);return r.instance.get(`${n.rm}/devices/devicesview?${t}`)},i=({id:e,query:t})=>{const a=(0,n.Lm)(t);return r.instance.get(`${n.rm}/devices/devicesview?${a}&groupUUID=${e}`)},l=e=>r.instance.get(`${n.rm}/devices/${e}`),o=({id:e,query:t})=>{const a=(0,n.Lm)(t);return r.instance.get(`${n.rm}/devices/${e}?${a}`)},c=async e=>await r.instance.post(`${n.rm}/updates`,e)},11268:(e,t,a)=>{"use strict";a.d(t,{EH:()=>c,Lm:()=>d,S:()=>m,gT:()=>l,hE:()=>s,kb:()=>o,rm:()=>i});var n=a(21745),r=a(88341);const s="/api/image-builder/v1",i="/api/edge/v1",l="/api/content-sources/v1",o="/api/inventory/v1",c="/api/rhsm/v2",m=new r.HostsApi(void 0,o,n.Ay),d=e=>void 0===e?"":Object.keys(e).reduce(((t,a)=>{let n;return"object"==typeof e[a]&&"number"==typeof e[a].length&&e[a].length>0&&(n=e[a].reduce(((e,t)=>""===e?`${a}=${t}`:`${e}&${a}=${t}`),"")),["string","number"].includes(typeof e[a])&&""!==e[a]&&(n=`${a}=${e[a]}`),void 0===n?t:""===t?`${n}`:`${t}&${n}`}),"")},89243:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(93345),r=a.n(n),s=a(46537),i=a(5556);const l=({numberOfRows:e})=>{for(var t=[],a=0;a<e;a++)t.push(r().createElement(r().Fragment,{key:a},r().createElement(s.Skeleton,null),r().createElement("br",null)));return r().createElement(r().Fragment,null,t)},o=l;l.propTypes={numberOfRows:i.PropTypes.number}},57697:(e,t,a)=>{"use strict";a.d(t,{A:()=>E,N:()=>u});var n=a(93345),r=a.n(n),s=a(5556),i=a.n(s),l=a(53707),o=a(7475),c=a(6961),m=a(88993);const d={booting:{text:"Booting",Icon:m.l_.checkCircle,color:m.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:m.l_.inProgress,color:m.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:m.l_.inProgress,color:m.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:m.l_.checkCircle,color:m.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:m.l_.checkCircle,color:m.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:m.l_.checkCircle,color:m.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:m.l_.exclamationTriangle,color:m.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:m.l_.inProgress,color:m.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:m.l_.timesCircle,color:m.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:m.l_.unknown},interrupted:{text:"Image build in progress",Icon:m.l_.inProgress,color:m.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:m.l_.exclamationCircle,color:m.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:m.l_.exclamationCircle,color:m.Fm.red,labelColor:"red"}},u=(e,t,a)=>"ERROR"===a?"error":"UNRESPONSIVE"===a?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate",p=({id:e,type:t,isLabel:a=!1,toolTipContent:n="",className:s="",isLink:i})=>{const{text:m,Icon:u,color:p,labelColor:E}=Object.prototype.hasOwnProperty.call(d,t)?d[t]:d.default;return r().createElement(r().Fragment,null,a?r().createElement(l.Label,{id:e,color:E,icon:r().createElement(u,null),className:s},m):r().createElement(c.Split,{id:e,style:{color:p},className:s},r().createElement(c.SplitItem,{className:"pf-u-mr-sm"},n?r().createElement(o.Tooltip,{content:"blargh"},r().createElement(u,null)):r().createElement(u,null)),r().createElement(c.SplitItem,null,r().createElement("p",{style:i?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},m))))},E=p;p.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},p.defaultProps={id:"status"}},88993:(e,t,a)=>{"use strict";a.d(t,{Fm:()=>J,HR:()=>O,Kh:()=>z,Lm:()=>M,WN:()=>H,WT:()=>G,WW:()=>W,gA:()=>V,hx:()=>j,l_:()=>q,nS:()=>Y,t9:()=>B});var n=a(26246),r=a.n(n),s=a(54842),i=a.n(s),l=a(9962),o=a.n(l),c=a(65842),m=a.n(c),d=a(73262),u=a.n(d),p=a(98698),E=a.n(p),g=a(98074),L=a.n(g),h=a(91056),I=a.n(h),y=a(1930),v=a.n(y),f=a(92670),b=a.n(f),D=a(53918),_=a.n(D),T=a(85994),A=a.n(T),N=a(19330),S=a.n(N),C=a(6138),R=a.n(C),$=a(1282),x=a.n($),U=a(21175),k=a(78126),P=a(57297),w=a(46124),F=a(92870);const H=["done","error","pending","unknown","updating","warning","notification"],O=(e,t="asc")=>e.sort(((e,a)=>"asc"===t?e.name.toLowerCase().localeCompare(a.name.toLowerCase()):a.name.toLowerCase().localeCompare(e.name.toLowerCase()))),G={"rhel-84":"RHEL 8.4","rhel-85":"RHEL 8.5","rhel-86":"RHEL 8.6","rhel-87":"RHEL 8.7","rhel-88":"RHEL 8.8","rhel-89":"RHEL 8.9","rhel-90":"RHEL 9.0","rhel-91":"RHEL 9.1","rhel-92":"RHEL 9.2","rhel-93":"RHEL 9.3","rhel-94":"RHEL 9.4"},M={"rhel-94":"Red Hat Enterprise Linux (RHEL) 9.4","rhel-93":"Red Hat Enterprise Linux (RHEL) 9.3","rhel-92":"Red Hat Enterprise Linux (RHEL) 9.2","rhel-91":"Red Hat Enterprise Linux (RHEL) 9.1","rhel-90":"Red Hat Enterprise Linux (RHEL) 9.0","rhel-8.10":"Red Hat Enterprise Linux (RHEL) 8.10","rhel-89":"Red Hat Enterprise Linux (RHEL) 8.9","rhel-88":"Red Hat Enterprise Linux (RHEL) 8.8","rhel-87":"Red Hat Enterprise Linux (RHEL) 8.7","rhel-86":"Red Hat Enterprise Linux (RHEL) 8.6","rhel-85":"Red Hat Enterprise Linux (RHEL) 8.5","rhel-84":"Red Hat Enterprise Linux (RHEL) 8.4"},B=["rhel-84","rhel-85","rhel-86","rhel-87","rhel-88","rhel-89","rhel-8.10","rhel-90","rhel-91","rhel-92","rhel-93","rhel-94"],V=["rhel-93"],W="rhel-93",z="rhel-93",j={"rhel-edge-commit":"RHEL for Edge Commit (.tar)","rhel-edge-installer":"RHEL for Edge Installer (.iso)"},q={unknown:I(),repository:v(),search:b(),module:_(),cube:A(),question:x(),plus:L(),checkCircle:i(),exclamationTriangle:u(),timesCircle:S(),inProgress:R(),exclamationCircle:m()},J={green:P.Ay.value,yellow:k.Ay.value,lightBlue:w.Ay.value,blue:F.Ay.value,red:U.Ay.value},Y={done:{icon:i(),color:P.Ay.value,title:"Fully adopted"},error:{icon:m(),color:U.Ay.value,title:"Error while adopting"},pending:{icon:E(),title:"Pending adoption"},updating:{icon:o(),title:"Updating"},unknown:{icon:I(),title:"Unknown state"},warning:{icon:u(),color:k.Ay.value,title:"Warning while adopting"},notification:{icon:r(),color:w.Ay.value,title:"Delivering"}}},78259:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(11830),r=a(93345),s=a(36870);const i=({api:e,id:t=null,statusMessages:a,tableReload:i=!1})=>{const l=(0,s.wA)(),[o,c]=(0,r.useState)([]),[m,d]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1),[E,g]=(0,r.useState)((()=>e)),L=a?.onSuccess;a||(a={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});const h=async(e="")=>{d(!0);try{const r=await E({id:t,query:e});c(r),L&&l({...(0,n.z8)({variant:"success",...a.onSuccess})})}catch(e){p(!0),l({...(0,n.z8)({variant:"danger",...a.onError})})}finally{d(!1)}};return(0,r.useEffect)((()=>{i||h()}),[]),[{data:o,isLoading:m,hasError:u},h,E,g]}},80159:(e,t,a)=>{"use strict";a.d(t,{$4:()=>g,$I:()=>m,A2:()=>L,Cf:()=>E,FB:()=>b,Hh:()=>I,Iw:()=>d,NX:()=>i,Po:()=>u,Qw:()=>h,TH:()=>_,Um:()=>v,VY:()=>p,ZP:()=>c,aQ:()=>y,k4:()=>o,rI:()=>l,tH:()=>f});var n=a(38970),r=a.n(n),s=a(47307);const i="LOAD_DEVICE_SUMMARY",l="LOAD_ACTIVE_IMAGES",o="LOAD_EDGE_IMAGES",c="LOAD_EDGE_IMAGE_SETS",m="LOAD_EDGE_IMAGE_PACKAGES",d="LOAD_GROUPS",u="LOAD_GROUP_DETAIL",p="LOAD_TRESHOLD",E="LOAD_DEVICES_INFO",g="LOAD_CANARIES_INFO",L="LOAD_GROUP_DEVICES_INFO",h="LOAD_IMAGE_STATUS",I="LOAD_IMAGE_DETAIL",y="LOAD_IMAGE_SET_DETAIL",v="CREATE_NEW_IMAGE",f="POLLING_IMAGES",b="LOAD_DEVICE_TABLE",D=a.n(s)()([o,c,m,l,d,u,p,E,g,L,h,I,y,v,b,"UPDATE_DISPLAY_NAME","REMOVE_ENTITY"],(e=>[e,`${e}_PENDING`,`${e}_FULFILLED`,`${e}_REJECTED`])),_=r()(D,(e=>e))},41526:(e,t,a)=>{"use strict";a.d(t,{$b:()=>u,QI:()=>d,TW:()=>l,g_:()=>o,kD:()=>c,pe:()=>m});var n=a(80159),r=a(66171),s=(a(60732),a(11268)),i=a(55833);const l=(e,t)=>{e({type:n.Hh,payload:(0,r.iI)({id:t})}).catch((()=>null))},o=(e,t,a)=>{e({type:n.Um,payload:(0,r.mF)(t)}).then(a).catch((()=>null))},c=(e,t)=>{e({type:n.ZP,payload:(0,r.a7)(t)}).catch((()=>null))},m=({id:e,name:t})=>({type:`${n.tH}_ADD`,payload:{name:t,id:e}}),d=(e,t,a)=>({type:n.TH.UPDATE_DISPLAY_NAME,payload:s.S.apiHostPatchHostById([e],{display_name:t}),meta:{id:e,value:t,origValue:a,notifications:{fulfilled:{variant:"success",title:`Display name for entity with ID ${e} has been changed to ${t}`,dismissable:!0}}}}),u=(e,t)=>({type:n.TH.REMOVE_ENTITY,payload:(0,i.SY)(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:`${t} has been successfully removed.`,dismissable:!0}},systems:e}})},55270:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(11830);const r=(e,t,a,r)=>{const s=a?.onSuccess,i=a?.onInfo,l=a?.onWarning;return a||(a={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}}),(async()=>{try{const o=await t();return i&&(r?r.hasInfo(a.onInfo):e({...(0,n.z8)({variant:"info",...a.onInfo})})),s&&(r?r.hasSuccess(a.onSuccess):e({...(0,n.z8)({variant:"success",...a.onSuccess})})),l&&(r?r.hasWarning(a.onWarning):e({...(0,n.z8)({variant:"warning",...a.onWarning})})),o}catch(t){return r?r.err(a.onError,t):e({...(0,n.z8)({variant:"danger",...a.onError,description:t?.Title?`${a.onError.description}: ${t.Title}`:a.onError.description})}),t}})()}},55833:(e,t,a)=>{"use strict";a.d(t,{AH:()=>p,AT:()=>g,H8:()=>I,Rj:()=>E,SY:()=>f,W5:()=>h,d:()=>v,h:()=>L,kh:()=>u,m0:()=>d,nh:()=>y});var n=a(95658),r=a(69447),s=a(88993),i=a(93345),l=a.n(i),o=a(90555),c=a(89272),m=a(11268);const d={type:n.A.PATTERN,pattern:/^[A-Za-z0-9]+[A-Za-z0-9_\-\s]*$/,message:"Name must start with alphanumeric characters and can contain underscore and hyphen characters."},u=(e,t)=>{const a=e.split("/"),n={};for(let e=1;e<a.length;e++)a[e]&&(n[t[e-1]]=a[e]);return n.buildUrl=function(){return Object.values(this).reduce(((e,t)=>"function"!=typeof t?`${e}/${t}`:e),"")},n},p=(e,t,a)=>{var n=[];const r=a.length>0?a.includes("&")?a.split("?")[1].split("&"):a.split("?").slice(1):[];return t?(r.includes(e)||r.push(e),n=r):n=r.includes(e)?r.filter((t=>t!==e)):r,n.join("&")},E=(e,t,a)=>!0!==e&&!t>0&&!a.includes("has_filters=true"),g=({deviceData:e,imageData:t})=>!(e?.length>0&&t)||e?.some((t=>t.imageSetId!==e[0].imageSetId)),L=e=>{const{flagsReady:t}=(0,r.useFlagsStatus)(),a=(0,r.useFlag)(e);return!!t&&a},h=(e="",t,a=0,n="...")=>e.length<=t?e:`${e.substring(0,t)}${n}${e.substring(e.length-a,e.length)}`,I=({direction:e,name:t})=>({sort_by:"asc"===e?t:`-${t}`}),y=(e,t)=>Object.entries(s.Lm).filter((([a])=>(t||s.t9).includes(a)||a===e)).map((([e,t])=>({value:e,label:t}))),v=({pathname:e,linkText:t,target:a})=>l().createElement(o.Button,{component:"a",target:a,variant:"link","target-href":e,href:e,isInline:"false"},t),f=(e,t=50)=>{let a=[];for(let n=0;n<e.length;n+=t){let r;r=e.slice(n,n+t),a.push(r)}return(async(e,t=2)=>await(0,c.A)(e,{concurrency:t}))(a.map((e=>()=>m.S.apiHostDeleteHostById(e))))}},42634:()=>{}}]);