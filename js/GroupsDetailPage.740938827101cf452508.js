(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[673],{99228:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1427),l=n.n(r);const a=function(){return l().createElement("div",null,"Canaries page")}},67645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=n(59713),l=n.n(r),a=n(1427),i=n.n(a),c=n(55399),o=n(50693),u=n(16475),s=n(64029),v=n(32835),m=n(56455),d=n(48716),f=n(86350),p=n(38775),E=n(53895),g=n(33902),h=n(69859),b=n(67154),y=n.n(b),O=n(42065),P=n(16545),D=n(58753),w=(0,a.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(291),n.e(685),n.e(905)]).then(n.bind(n,22994))})),k=(0,a.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(291),n.e(685),n.e(905)]).then(n.bind(n,92573))})),j=(0,a.lazy)((function(){return n.e(252).then(n.bind(n,11052))})),S=(0,a.lazy)((function(){return n.e(252).then(n.bind(n,38514))}));const _=function(){var e=(0,h.useSelector)((function(e){var t=e.permissionsReducer;return null==t?void 0:t.writePermissions})),t=(0,h.useSelector)((function(e){var t,n,r,l,a,i=e.systemProfileStore;return{runningVersion:null==i||null===(t=i.systemProfile)||void 0===t?void 0:t.running_rpm_os_tree_version,stagedVersion:null==i||null===(n=i.systemProfile)||void 0===n?void 0:n.staged_rpm_os_tree_version,nonActiveVersion:(null==i||null===(r=i.systemProfile)||void 0===r?void 0:r.non_active_rpm_os_tree_version)||[],heathCheck:null==i||null===(l=i.systemProfile)||void 0===l?void 0:l.health_check,rhcHealth:null==i||null===(a=i.systemProfile)||void 0===a?void 0:a.rhc_health}})),n=t.runningVersion,r=t.stagedVersion,l=t.nonActiveVersion,c=t.heathCheck,o=t.rhcHealth;return i().createElement(a.Suspense,{fallback:""},i().createElement(w,{store:(0,h.useStore)(),writePermissions:e,ConfigurationCardWrapper:!1,SystemCardWrapper:function(e){return i().createElement(a.Suspense,{fallback:""},i().createElement(k,y()({},e,{hasSAP:!1})))},OperatingSystemCardWrapper:function(e){return i().createElement(a.Suspense,{fallback:""},i().createElement(j,y()({},e,{hasKernelModules:!1,extra:[{title:"Running rpm-ostree version",value:n},{title:"Staged rpm-ostree version",value:r},{title:"Non-active (available rollback version(s))",value:null==l?void 0:l.length,plural:"versions",singular:"version",onClick:function(e,t){return t("Non-active (available rollback version(s))",(0,D.se)(l||[],"Version"),"small")}},{title:"Health check status",value:D.qi[null==c?void 0:c.toUpperCase()]||i().createElement(P.u,{content:"Unknown service status"},i().createElement(O.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))},CollectionCardWrapper:function(e){return i().createElement(a.Suspense,{fallback:""},i().createElement(S,y()({},e,{extra:[{title:"RHC Health (broker functioning)",value:D.qi[null==o?void 0:o.toUpperCase()]||i().createElement(P.u,{content:"Unknown service status"},i().createElement(O.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))}}))};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=(0,n(18546).Gg)({LOAD_ENTITY_FULFILLED:function(e){return x(x({},e),{},{loaded:!0,activeApps:[{title:"General information",name:"general_information",component:_}]})}}),L=n(55206),Z=n(32002);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const A=function(){var e=(0,a.useContext)(L.g).getRegistry,t=(0,c.useParams)(),n=t.inventoryId,r=t.uuid,b=(0,h.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.display_name})),y=(0,h.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.name}));return(0,a.useEffect)((function(){var e,t;null===(e=insights.chrome)||void 0===e||null===(t=e.hideGlobalFilter)||void 0===t||t.call(e,!0),insights.chrome.appAction("system-detail")}),[]),(0,a.useEffect)((function(){var e,t,r;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(r=t.appObjectId)||void 0===r||r.call(t,n)}),[n]),i().createElement(p.Z,{hideInvLink:!0,showTags:!0,onLoad:function(t){var n=t.mergeWithDetail;e().register(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({systemProfileStore:Z.ZP},n(R)))}},i().createElement(d.Z,null,i().createElement(s.a,{ouiaId:"systems-list"},i().createElement(v.g,null,i().createElement(c.Link,{to:r?"/groups":"/devices"},r?"Groups":"Devices")),r&&i().createElement(v.g,null,y?i().createElement(c.Link,{to:"/groups/".concat(r)},y):i().createElement(m.Z,{size:m.i.xs})),i().createElement(v.g,{isActive:!0},i().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},b||i().createElement(m.Z,{size:m.i.xs})))),i().createElement(E.Z,{fallback:"",hideBack:!0,showTags:!0,hideInvDrawer:!0})),i().createElement(f.Z,{className:"edge-c-device--detail"},i().createElement(o.r,{gutter:"md"},i().createElement(u.P,{span:12},i().createElement(g.Z,{showTags:!0,fallback:""})))))}},27168:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(59713),l=n.n(r),a=n(87757),i=n.n(a),c=n(48926),o=n.n(c),u=n(63038),s=n.n(u),v=n(1427),m=n.n(v),d=n(69859),f=n(48716),p=n(39173),E=n(55399),g=n(86350),h=n(33739),b=n(4250),y=n(55206),O=n(8969);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={deviceStatus:{label:"Device status",value:[],titles:[]}},k=[{value:"approval",label:"Required approval"},{value:"ophaned",label:"Orphaned"},{value:"delivering",label:"On the way"}];const j=function(){var e,t,n=(0,v.useState)(),r=s()(n,2),l=r[0],a=r[1],c=(0,v.useState)(w),u=s()(c,2),P=u[0],j=u[1],S=(0,v.useContext)(y.g).getRegistry,_=(0,v.useRef)(null),C=(0,E.useHistory)(),x=(0,d.useDispatch)();return(0,v.useEffect)((function(){return function(){return x((0,b.Qo)())}}),[]),m().createElement(v.Fragment,null,m().createElement(f.Z,{className:"pf-m-light"},m().createElement(p.Z,{title:"Available devices"})),m().createElement(g.Z,{className:"edge-devices"},m().createElement(h.Z,{ref:_,onRefresh:function(e,t){!t&&_&&_.current?_.current.onRefreshData(e):t&&t(e)},tableProps:{canSelectAll:!1},getEntities:function(){var e=o()(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(void 0,n);case 2:return r=e.sent,console.log(r,P,"This is data!"),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hideFilters:{registeredWith:!0},filterConfig:{items:[{label:null==P||null===(e=P.deviceStatus)||void 0===e?void 0:e.label,type:"checkbox",filterValues:{onChange:function(e,t){j((function(){return D(D({},P||{}),{},{deviceStatus:D(D({},(null==P?void 0:P.deviceStatus)||{}),{},{value:t})})})),_.current.onRefreshData()},items:k,value:(null==P||null===(t=P.deviceStatus)||void 0===t?void 0:t.value)||[]}}]},activeFiltersConfig:D(D({},(0,O.pM)(P)&&{filters:(0,O.I)(P,(function(e){var t;return null===(t=k.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}))}),{},{onDelete:function(e,t,n){j(n?w:function(){return(0,O.Jr)(P,t)}),_.current.onRefreshData()}}),onRowClick:function(e,t){return C.push("/devices/".concat(t))},onLoad:function(e){var t,n,r=e.mergeWithEntities,l=e.api;a((function(){return null==l?void 0:l.getEntities})),null===(t=S())||void 0===t||null===(n=t.register)||void 0===n||n.call(t,D({},r()))}})))}},56311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var r=n(87757),l=n.n(r),a=n(48926),i=n.n(a),c=n(59713),o=n.n(c),u=n(6479),s=n.n(u),v=n(63038),m=n.n(v),d=n(1427),f=n.n(d),p=n(55399),E=n(69859),g=n(48716),h=n(86350),b=n(64029),y=n(32835),O=n(15209),P=n(49739),D=n(83826),w=n(47173),k=n(60306),j=n(4250),S=n(96416),_=n(50693),C=n(16475),x=n(32203),R=n(62394),L=n(70401),Z=n(60485),T=n(52643),A=n(68774),I=n(68340),N=n(45454),F=n(25834),V=n(45697),q=function(e){var t=e.uuid,n=(0,E.useDispatch)(),r=(0,E.useSelector)((function(e){var t=e.groupDevicesInfoReducer;return null==t?void 0:t.isLoading})),l=(0,E.useSelector)((function(e){var t=e.groupDevicesInfoReducer;return null==t?void 0:t.devicesInfo}));return(0,d.useEffect)((function(){n((0,j.MW)())}),[]),f().createElement(_.r,{hasGutter:!0},f().createElement(C.P,{span:3},f().createElement(x.Z,null,f().createElement(L.O,null,f().createElement(Z.D,{headingLevel:"h3"},"Health threshold")),f().createElement(R.e,null))),f().createElement(C.P,{span:3},f().createElement(x.Z,null,f().createElement(L.O,null,f().createElement(Z.D,{headingLevel:"h3"},"Devices info")),f().createElement(R.e,null,f().createElement(A.D,null,f().createElement(F.G,{component:F.F.dl},f().createElement(N.T,{component:N.v.dt},!1===r?f().createElement(I.x,{component:I.q.h1},null==l?void 0:l.total):f().createElement(O.O,null)),f().createElement(N.T,{component:N.v.dd},f().createElement(I.x,{component:I.q.h3},"Total devices")),f().createElement(N.T,{component:N.v.dt},!1===r?f().createElement(I.x,{component:I.q.h1},f().createElement(p.Link,{to:"/groups/".concat(t)},null==l?void 0:l.newDevices)):f().createElement(O.O,null)),f().createElement(N.T,{component:N.v.dd},"New devices added"),f().createElement(N.T,{component:N.v.dt},!1===r?f().createElement(I.x,{component:I.q.h1},f().createElement(p.Link,{to:"/groups/".concat(t)},null==l?void 0:l.offlineDevices)):f().createElement(O.O,null)),f().createElement(N.T,{component:N.v.dd},"Devices offline"),f().createElement(N.T,{component:N.v.dt},!1===r?f().createElement(I.x,{component:I.q.h1},f().createElement(p.Link,{to:"/groups/".concat(t)},null==l?void 0:l.deliveringDevices)):f().createElement(O.O,null)),f().createElement(N.T,{component:N.v.dd},"Devices on the way")))))),f().createElement(C.P,{span:6},f().createElement(x.Z,{className:"edge-groups--detail__complex"},f().createElement(L.O,null,f().createElement(_.r,null,f().createElement(C.P,{span:6},f().createElement(Z.D,{headingLevel:"h3"},"Canary parameters")),f().createElement(C.P,{span:6},f().createElement(Z.D,{headingLevel:"h3"},"Last Canaries")))),f().createElement(R.e,null,f().createElement(_.r,{hasGutter:!0},f().createElement(C.P,{span:6},f().createElement(Z.D,{headingLevel:"h3"},f().createElement(T.b,null,f().createElement(A.D,null,f().createElement(I.x,{component:I.q.h1},f().createElement(T.b,null,"10% (89)")),f().createElement(I.x,{component:I.q.h4},f().createElement(T.b,null,"Of systems tested")))))),f().createElement(C.P,{span:6}))))))};q.propTypes={uuid:n.n(V)().string};const z=q;var G=n(33739),W=n(67139);const H={fields:[{component:n(86163).k,name:"select-system"}]};var U=n(83958),M=n(8969),J=n(55206);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,d.lazy)((function(){return Promise.all([n.e(410),n.e(291),n.e(0),n.e(242),n.e(459)]).then(n.bind(n,75459))})),Q={name:{label:"Name",value:""},version:{label:"Version",value:[]},status:{label:"Status",value:[]}};const X=function(){var e,t,n,r,a,c,o=(0,d.useContext)(J.g).getRegistry,u=(0,d.useState)(!1),v=m()(u,2),_=v[0],C=v[1],x=(0,d.useState)(),R=m()(x,2),L=R[0],Z=R[1],T=(0,d.useState)(),A=m()(T,2),I=A[0],N=A[1],F=(0,d.useState)(Q),V=m()(F,2),q=V[0],Y=V[1],X=(0,p.useHistory)(),$=(0,d.useRef)(null),ee=(0,p.useParams)().uuid,te=(0,E.useDispatch)(),ne=(0,E.useSelector)((function(e){var t=e.groupsDetailReducer;return(null==t?void 0:t.name)||""})),re=(0,E.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.isLoading})),le=(0,E.useSelector)((function(e){var t,n=e.groupsDetailReducer;return null==n||null===(t=n.devices)||void 0===t?void 0:t.map((function(e){return B({id:e.uuid},s()(e,["uuid"]))}))}),E.shallowEqual);return(0,d.useEffect)((function(){var e=o().register({groupsDetailReducer:S.Br,groupDevicesInfoReducer:S.JR});return te((0,j.tF)(ee)),function(){null==e||e(),null==I||I(),te((0,j.Qo)())}}),[]),f().createElement(d.Fragment,null,f().createElement(g.Z,null,f().createElement(b.a,null,f().createElement(y.g,null,f().createElement(p.Link,{to:k._j.Xx},"Groups")),f().createElement(y.g,{isActive:!0},!1===re?ne:f().createElement(O.O,null)))),f().createElement(h.Z,{className:"edge-groups--detail"},f().createElement(P.K,{hasGutter:!0},f().createElement(D.v,{className:"edge-groups--detail__info"},f().createElement(z,{uuid:ee})),f().createElement(D.v,{isFilled:!0},f().createElement(G.Z,{ref:$,page:1,tableProps:{canSelectAll:!1},hideFilters:{all:!0},getEntities:function(){var e=i()(l().mark((function e(t,n){var r,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.kr)(ee,{});case 2:return r=e.sent,a=r.results,e.next=6,null==L?void 0:L((a||[]).map((function(e){return e.uuid})),B(B({},n),{},{hasItems:!0}),!1);case 6:return i=e.sent,e.abrupt("return",B(B({},i),{},{results:i.results.map((function(e){return B(B({},e),a.find((function(t){return t.uuid===e.id})))}))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),filterConfig:{items:[{label:null==q||null===(e=q.name)||void 0===e?void 0:e.label,filterValues:{key:"text-filter",onChange:function(e,t){return Y((function(){return B(B({},q),{},{name:B(B({},(null==q?void 0:q.name)||{}),{},{value:t})})}))},value:(null==q||null===(t=q.name)||void 0===t?void 0:t.value)||""}},{label:null==q||null===(n=q.version)||void 0===n?void 0:n.label,type:"checkbox",filterValues:{onChange:function(e,t){return Y((function(){return B(B({},q||{}),{},{version:B(B({},(null==q?void 0:q.version)||{}),{},{value:t})})}))},value:(null==q||null===(r=q.version)||void 0===r?void 0:r.value)||[],items:[{label:"All versions",value:"all"}]}},{label:null==q||null===(a=q.status)||void 0===a?void 0:a.label,type:"checkbox",filterValues:{onChange:function(e,t){return Y((function(){return B(B({},q||{}),{},{status:B(B({},(null==q?void 0:q.status)||{}),{},{value:t})})}))},items:M.Op.map((function(e){return{value:e,label:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}})),value:(null==q||null===(c=q.status)||void 0===c?void 0:c.value)||[]}}]},activeFiltersConfig:B(B({},(0,M.pM)(q)&&{filters:(0,M.I)(q)}),{},{onDelete:function(e,t,n){Y(n?Q:function(){return(0,M.Jr)(q,t)})}}),onRowClick:function(e,t){return X.push("/groups/".concat(ee,"/").concat(t))},onLoad:function(e){var t=e.mergeWithEntities,n=e.INVENTORY_ACTION_TYPES,r=e.api;Z((function(){return null==r?void 0:r.getEntities})),N((function(){return o().register(B({},t((0,W.z)(n))))}))}},f().createElement(w.zx,{onClick:function(){return C(!0)}},"Add device"))))),_&&f().createElement(d.Suspense,{fallback:""},f().createElement(K,{selectedSystems:le,schema:H,isOpened:_,title:"Add new device",onAction:function(e,t){e&&i()(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,U.mD)({uuid:ee,systemIDs:t.selected});case 2:te((0,j.tF)(ee)),$.current.onRefreshData();case 4:case"end":return e.stop()}}),e)})))(),C(!1)}})))}}}]);
//# sourceMappingURL=GroupsDetailPage.740938827101cf452508.js.map