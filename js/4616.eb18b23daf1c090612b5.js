(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[4616],{32780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var a=n(60436),l=n(64467),o=n(10467),i=n(5544),r=n(54756),c=n.n(r),u=n(44914),s=n.n(u),d=n(21118),m=n(57502),p=n(83584),v=n(55318),g=n(37623),f=n(932),h=n(5556),E=n.n(h),b=n(88207),y=n(45321),P=n(36513),I=n(17427),k=n(71100),S=n(51343),A=n(43085);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t,n,l,r,h,E,D,C,N,x,O,T,U,j,L=e.navigateBack,_=e.updateImageID,W=e.reload,V=e.notificationProp,R=e.locationProp,F=(0,u.useState)(),z=(0,i.A)(F,2),B=z[0],K=z[1],J=(0,y.useDispatch)(),M=function(){L(),W&&W()};(0,u.useEffect)((function(){(0,o.A)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=insights)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.auth)||void 0===t||t.getUser().then((function(e){return K(null!=e?e:{})}));case 1:case"end":return e.stop()}}),e)})))()}),[]);var q=(0,A.A)({api:P.iI,id:_}),G=(0,i.A)(q,1)[0],H=G.data,Y=G.isLoading,Q=(0,I.h)("fleet-management.temporary-releases"),Z=(0,I.h)("edge-management.image_wizard_ui"),$={onSuccess:{title:"Successfully started image update"},onError:{title:"Error",description:"Failed to create image"}};return B&&H&&!Y?s().createElement(d.A,{onClose:M,customComponentMapper:{review:b.A},onSubmit:function(e){var t,n,a,l,o,i=e.values;(0,e.setIsSaving)((function(){return!0}));var r=w(w({},i),{},{Id:null==H||null===(t=H.image)||void 0===t?void 0:t.ID,name:null==H||null===(n=H.image)||void 0===n?void 0:n.Name,version:(null==H||null===(a=H.image)||void 0===a?void 0:a.Version)+1,architecture:"x86_64",credentials:i.credentials?i.credentials:null==H||null===(l=H.image)||void 0===l?void 0:l.Installer.SshKey,username:i.username?i.username:null==H||null===(o=H.image)||void 0===o?void 0:o.Installer.Username});(0,k.A)(J,(function(){return(0,P.mF)(r)}),$,V),M()},defaultArch:"x86_64",initialValues:{imageID:null==H?void 0:H.image.ID,name:null==H||null===(t=H.image)||void 0===t?void 0:t.Name,isUpdate:!0,description:null==H||null===(n=H.image)||void 0===n?void 0:n.Description,credentials:null==H||null===(l=H.image)||void 0===l?void 0:l.Installer.SshKey,username:null==H||null===(r=H.image)||void 0===r?void 0:r.Installer.Username,version:null==H||null===(h=H.image)||void 0===h?void 0:h.Version,activationKey:null==H||null===(E=H.image)||void 0===E?void 0:E.activationKey,release:null==H||null===(D=H.image)||void 0===D?void 0:D.Distribution,release_options:Q?(0,I.nh)(null==H||null===(C=H.image)||void 0===C?void 0:C.Distribution,[].concat((0,a.A)(S.t9),(0,a.A)(S.gA))):(0,I.nh)(null==H||null===(N=H.image)||void 0===N?void 0:N.Distribution),imageType:["rhel-edge-commit"],"selected-packages":null==H||null===(x=H.image)||void 0===x||null===(x=x.Packages)||void 0===x?void 0:x.map((function(e){return w(w({},e),{},{name:e.Name})})),"third-party-repositories":null==H||null===(O=H.image)||void 0===O||null===(O=O.ThirdPartyRepositories)||void 0===O?void 0:O.map((function(e){return w({id:e.ID,name:e.Name},e)})),"initial-custom-repositories":null==H||null===(T=H.image)||void 0===T||null===(T=T.ThirdPartyRepositories)||void 0===T?void 0:T.map((function(e){return w({id:e.ID,name:e.Name},e)})),"custom-packages":null==H||null===(U=H.image)||void 0===U||null===(U=U.CustomPackages)||void 0===U?void 0:U.map((function(e){return w(w({},e),{},{name:e.Name})}))},test:"",schema:{fields:[{component:m.A.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Update image"},showTitles:!0,title:"Update image: ".concat(null==H||null===(j=H.image)||void 0===j?void 0:j.Name),crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[p.kI,p.Rb,p.An,(0,p.bN)(Z,R),p.U$,p.iH,p.NQ,p.tZ,p.gz]}]}}):s().createElement(g.z,null,s().createElement(v.a,null,s().createElement(f.y,{diameter:"100px"})))};C.propTypes={navigateBack:E().func,updateImageID:E().number,reload:E().func,notificationProp:E().object,locationProp:E().object},C.defaultProps={navigateBack:function(){}};const N=C},4003:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se});var a=n(10467),l=n(64467),o=n(5544),i=n(54756),r=n.n(i),c=n(44914),u=n.n(c),s=n(83241),d=n(90678),m=n(73113),p=n(932),v=n(55318),g=n(61574),f=n(71519),h=n(5556),E=n.n(h),b=n(17427),y=n(22069),P=n(12921),I=n(90118),k=n(51976),S=n(71906),A=n(92697),D=n(86726),w=n(30666),C=n(93973),N=n(45523),x=n(99780),O=n(81855),T=n(53926),U=n(5715),j=n(71544),L=n(30083),_=n(20689),W=n(63767),V=n(91153),R=function(e,t,n,a){var l,o=t||(null==e?void 0:e.LastImageDetails),i=[];return(null==o||null===(l=o.image)||void 0===l?void 0:l.ID)&&i.push(u().createElement(x.t,{key:"create-new-version-button",component:"button",onClick:function(){var e;return a(null==o||null===(e=o.image)||void 0===e?void 0:e.ID)}},"Create new version")),n&&i.push(u().createElement(x.t,{key:"download-button",component:"button"},u().createElement(y.E,{className:"force-text-black remove-underline",component:"a",href:n,rel:"noopener noreferrer",target:"_blank"},"Download installable .iso for newest image"))),i},F=function(e){var t,n,a,l,i,r,s,d,m,p,v,h,E,y,x,F=e.pathPrefix,z=e.urlName,B=e.historyProp,K=e.navigateProp,J=e.imageData,M=e.imageVersion,q=e.openUpdateWizard,G=(0,c.useState)(!1),H=(0,o.A)(G,2),Y=H[0],Q=H[1],Z=(0,c.useState)({}),$=(0,o.A)(Z,2),X=$[0],ee=$[1],te=B?B():g.W6?(0,g.W6)():null,ne=K?K():f.useNavigate?(0,f.useNavigate)():null;(0,c.useEffect)((function(){ee(null==J?void 0:J.data)}),[J]);var ae="Actions for image set details view",le="image-set-details-dropdown",oe=(0,V.l)("edge".concat(L.J.manageImages),F,z);return u().createElement(u().Fragment,null,!J.isLoading&&J.hasError?u().createElement(A.Q,null,u().createElement(D.J,null,(0,b.d)({pathname:oe,linkText:"Back to Manage Images",history:te,navigate:ne}))):u().createElement(u().Fragment,null,u().createElement(A.Q,null,u().createElement(D.J,null,(0,b.d)({pathname:oe,linkText:"Manage Images",history:te,navigate:ne})),M?u().createElement(D.J,null,(0,b.d)({pathname:"".concat(oe,"/").concat(null==X||null===(t=X.ImageSet)||void 0===t?void 0:t.ID),linkText:null==X||null===(n=X.ImageSet)||void 0===n?void 0:n.Name,history:te,navigate:ne})):u().createElement(D.J,{isActive:!0},(null==X||null===(a=X.ImageSet)||void 0===a?void 0:a.Name)||u().createElement(S.E,{width:"100px"})),M&&u().createElement(D.J,{isActive:!0},null==M||null===(l=M.image)||void 0===l?void 0:l.Version)),u().createElement(k.n,null,u().createElement(w.B,null,u().createElement(C.o,null,u().createElement(P.K,{component:"dl"},u().createElement(I.L,{component:"h1",className:"grid-align-center pf-u-mb-0"},(null==X||null===(i=X.ImageSet)||void 0===i?void 0:i.Name)||u().createElement(S.E,{width:"150px"})),u().createElement(I.L,{className:"pf-u-pt-sm",component:"dd"},null!=M&&null!==(r=M.image)&&void 0!==r&&r.Status||null!=X&&null!==(s=X.LastImageDetails)&&void 0!==s&&null!==(s=s.image)&&void 0!==s&&s.Status?u().createElement(j.A,{type:M?null==M||null===(d=M.image)||void 0===d?void 0:d.Status.toLowerCase():null==X||null===(m=X.LastImageDetails)||void 0===m||null===(m=m.image)||void 0===m?void 0:m.Status.toLowerCase()}):u().createElement(S.E,{width:"100px"})),null!=M&&null!==(p=M.image)&&void 0!==p&&p.UpdatedAt||null!=X&&null!==(v=X.LastImageDetails)&&void 0!==v&&null!==(v=v.image)&&void 0!==v&&v.UpdatedAt?u().createElement(I.L,{component:"p"},"Last updated ",u().createElement(W.A,{date:M?null==M||null===(h=M.image)||void 0===h?void 0:h.UpdatedAt:null==X||null===(E=X.LastImageDetails)||void 0===E||null===(E=E.image)||void 0===E?void 0:E.UpdatedAt})):u().createElement(S.E,{width:"200px"}))),u().createElement(C.o,{isFilled:!0}),u().createElement(C.o,null,u().createElement(O.m,{position:T.nU.right,toggle:u().createElement(U.C,{id:le,toggleIndicator:_.Ay,onToggle:function(e,t){return Q(t)},isDisabled:"BUILDING"===(M?null==M||null===(y=M.image)||void 0===y?void 0:y.Status:null==X||null===(x=X.LastImageDetails)||void 0===x?void 0:x.image.Status)||!1,"aria-label":ae},u().createElement(N.m,{content:ae,triggerRef:function(){return document.getElementById(le)}}),"Actions"),isOpen:Y,dropdownItems:R(X,M,null==X?void 0:X.ImageBuildIsoURL,q)}))))))};F.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func};const z=F;var B=n(5738),K=n(29668),J=n(39931),M=n(60436),q=n(30620),G=n(23215),H=n(66877),Y=n(51343),Q=function(e){var t,n,a=e.pathPrefix,l=e.urlName,i=e.historyProp,r=e.navigateProp,s=e.imageData,d=e.imageVersion,m=(0,c.useState)({}),p=(0,o.A)(m,2),v=p[0],h=p[1],E=(0,V.l)("edge".concat(L.J.manageImages),a,l),A=i?i():g.W6?(0,g.W6)():null,D=r?r():f.useNavigate?(0,f.useNavigate)():null;(0,c.useEffect)((function(){var e;h(d||(null==s||null===(e=s.data)||void 0===e?void 0:e.LastImageDetails))}),[s,d]);var w=function(e){return(0,M.A)(Array(2*e)).map((function(e,t){return u().createElement(S.E,{width:"180px",key:t})}))},C={Version:"Version",Created:function(){return u().createElement(W.A,{date:null==v||null===(e=v.image)||void 0===e?void 0:e.CreatedAt});var e},"Type(s)":function(){var e;return null==v||null===(e=v.image)||void 0===e||null===(e=e.OutputTypes)||void 0===e?void 0:e.map((function(e,t){return u().createElement("div",{key:t},e)}))},Release:function(){var e;return null===Y.WT||void 0===Y.WT?void 0:Y.WT[null==v||null===(e=v.image)||void 0===e?void 0:e.Distribution]},Description:"Description"},N={"Activation Key":function(){var e;return null==v||null===(e=v.image)||void 0===e?void 0:e.activationKey}},x={Username:function(){var e;return null==v||null===(e=v.image)||void 0===e||null===(e=e.Installer)||void 0===e?void 0:e.Username},"SSH key":function(){var e;return null==v||null===(e=v.image)||void 0===e||null===(e=e.Installer)||void 0===e?void 0:e.SshKey}},O={"Total additional packages":function(){var e,t;return(0,b.d)({pathname:"".concat(E,"/").concat(null==v||null===(e=v.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==v||null===(t=v.image)||void 0===t?void 0:t.ID,"/packages/additional"),linkText:null==v?void 0:v.additional_packages,history:A,navigate:D})},"Total packages":function(){var e,t;return(0,b.d)({pathname:"".concat(E,"/").concat(null==v||null===(e=v.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==v||null===(t=v.image)||void 0===t?void 0:t.ID,"/packages/all"),linkText:null==v?void 0:v.packages,history:A,navigate:D})}},T={Added:function(){return null==v?void 0:v.update_added},Removed:function(){return null==v?void 0:v.update_removed},Updated:function(){return null==v?void 0:v.update_updated}};null!=v&&null!==(t=v.image)&&void 0!==t&&null!==(t=t.Installer)&&void 0!==t&&t.Checksum&&(C["SHA-256 checksum"]=function(){var e;return null==v||null===(e=v.image)||void 0===e||null===(e=e.Installer)||void 0===e?void 0:e.Checksum}),null!=v&&null!==(n=v.image)&&void 0!==n&&null!==(n=n.Commit)&&void 0!==n&&n.OSTreeCommit&&(C["Ostree commit hash"]=function(){var e;return null==v||null===(e=v.image)||void 0===e||null===(e=e.Commit)||void 0===e?void 0:e.OSTreeCommit});var U=function(e){return v?Object.entries(e).map((function(e,t){var n,a,l=(0,o.A)(e,2),i=l[0],r=l[1];return u().createElement(c.Fragment,{key:t},u().createElement(I.L,{className:"details-label",component:I.D.dt},i),"SHA-256 checksum"===i||"Ostree commit hash"===i||"SSH key"===i&&r()?u().createElement(I.L,{component:I.D.dd},u().createElement(H.Ck,{hoverTip:"Copy",clickTip:"Copied",variant:"expansion",className:"pf-u-text-break-word",id:"".concat(i.replace(/\s+/g,"-").toLowerCase(),"-clipboard-copy")},"function"==typeof r?r()||"Unavailable":(null==v||null===(n=v.image)||void 0===n?void 0:n[r])||"Unavailable")):u().createElement(I.L,{className:"pf-u-text-break-word",component:I.D.dd},"function"==typeof r?0===r()?0:r()||"Unavailable":(null==v||null===(a=v.image)||void 0===a?void 0:a[r])||"Unavailable"))})):null};return u().createElement(k.n,{className:"pf-u-ml-lg pf-u-mt-md"},u().createElement(q.x,{span:12},u().createElement(G.E,{span:5},u().createElement(y.E,{component:y.Y.h2},d?"Details":"Most recent image"),u().createElement(P.K,{component:P.C.dl},U(C)||w(6)),u().createElement(y.E,{component:y.Y.h2},"User information "),u().createElement(P.K,{component:P.C.dl},U(x)||w(2)),u().createElement(P.K,{component:P.C.dl},U(N)||w(2))),u().createElement(G.E,{span:1}),u().createElement(G.E,{span:6},u().createElement(y.E,{component:y.Y.h2},"Packages "),u().createElement(P.K,{component:P.C.dl},U(O)||w(3)),u().createElement(y.E,{component:y.Y.h2},"Changes from previous version"),u().createElement(P.K,{component:P.C.dl},U(T)||w(3)))))};Q.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object};const Z=Q;var $=n(75253),X=n(36513),ee=n(46634),te=n(43085),ne=[{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],ae=[{title:"Version",type:"version",sort:!0,columnTransforms:[(0,ee.cellWidth)(15)]},{title:"Output",type:"image_type",sort:!1,columnTransforms:[(0,ee.cellWidth)(25)]},{title:"Ostree commit hash",type:"ostree_commit_hash",sort:!1,columnTransforms:[(0,ee.cellWidth)(20)]},{title:"Created",type:"created_at",sort:!0,columnTransforms:[(0,ee.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,ee.cellWidth)(35)]}],le=function(e,t,n,a,l,o,i){var r=(0,V.l)("edge".concat(L.J.manageImages),a,l);return null==e?void 0:e.map((function(e){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,isoURL:null==e?void 0:e.ImageBuildIsoURL,latestImageVersion:n,currentImageVersion:e.Version},noApiSortFilter:[null==e?void 0:e.Version,Y.hx[null==e?void 0:e.ImageType],null==e?void 0:e.CreatedAt,null==e?void 0:e.Status],cells:[{title:(0,b.d)({pathname:"".concat(r,"/").concat(t,"/versions/").concat(e.ID,"/details"),linkText:null==e?void 0:e.Version,history:o,navigate:i})},{title:Y.hx[null==e?void 0:e.ImageType]},{title:null!=e&&e.CommitCheckSum?u().createElement(N.m,{content:u().createElement("div",null,e.CommitCheckSum)},u().createElement("span",null,(0,b.W5)(e.CommitCheckSum,5,5))):u().createElement(y.E,null,"Unavailable")},{title:u().createElement(W.A,{date:null==e?void 0:e.CreatedAt})},{title:u().createElement(j.A,{type:null==e?void 0:e.Status.toLowerCase()})}]}}))},oe=function(e){var t,n,a=e.pathPrefix,l=e.urlName,i=e.navigateProp,r=e.historyProp,c=e.locationProp,s=e.imageData,d=e.openUpdateWizard,m=null==s||null===(t=s.data)||void 0===t||null===(t=t.ImageSet)||void 0===t?void 0:t.ID,p=null==s||null===(n=s.data)||void 0===n||null===(n=n.ImageSet)||void 0===n?void 0:n.Version,v=r?r():g.W6?(0,g.W6)():null,h=i?i():f.useNavigate?(0,f.useNavigate)():null,E=(0,te.A)({api:function(e){var t=e.query;return(0,X.Ip)({imageSetID:m,query:t})},tableReload:!0}),b=(0,o.A)(E,2),y=b[0],P=b[1],I=y.data,k=y.isLoading,S=y.hasError;return u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement($.A,{navigateProp:i,historyProp:r,locationProp:c,apiFilterSort:!0,isUseApi:!0,filters:ne,loadTableData:P,tableData:{count:null==I?void 0:I.count,data:null==I?void 0:I.data,isLoading:k,hasError:S},columnNames:ae,rows:le(null==I?void 0:I.data,m,p,a,l,v,h),actionResolver:function(e){var t,n,a,l,o,i,r,c=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&c.push({title:"Download",onClick:function(e,t,n){window.open(n.rowInfo.isoURL)}}),("SUCCESS"===(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)||"ERROR"===(null===(a=e.rowInfo)||void 0===a?void 0:a.imageStatus))&&c.push({title:"Update Image",onClick:function(e,t,n){d(n.rowInfo.id)},isDisabled:(null==e||null===(i=e.rowInfo)||void 0===i?void 0:i.latestImageVersion)!==(null==e||null===(r=e.rowInfo)||void 0===r?void 0:r.currentImageVersion)}),"BUILDING"===(null===(l=e.rowInfo)||void 0===l?void 0:l.imageStatus)&&null!==(o=e.rowInfo)&&void 0!==o&&o.id&&c.push({title:""}),c},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:3,direction:"desc"}}))};oe.propTypes={pathPrefix:E().string,urlName:E().string,navigateProp:E().func,historyProp:E().func,locationProp:E().func,imageData:E().object,urlParam:E().string,imageSetID:E().number,createRows:E().func,openUpdateWizard:E().func};const ie=oe;var re=n(72583),ce=n(40167),ue=n(72511),se=[{label:"Name",type:"text"}],de=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,ee.cellWidth)(35)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,ee.cellWidth)(25)]},{title:"Release",type:"release",sort:!1,columnTransforms:[(0,ee.cellWidth)(35)]}],me=function(e){var t=e.distribution,n=e.installedPackages,a=e.addedPackages;return(0===e.showAll?n.filter((function(e){return(null==a?void 0:a.filter((function(t){return e.name===t.Name})).length)>0})):n).map((function(e){return{noApiSortFilter:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release],cells:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release,{title:u().createElement("a",{href:"https://access.redhat.com/downloads/content/rhel---".concat(t,"/x86_64/7416/").concat(null==e?void 0:e.name,"/").concat(null==e?void 0:e.version,"-").concat(null==e?void 0:e.release,"/").concat(null==e?void 0:e.arch,"/fd431d51/package"),target:"_blank",rel:"noopener noreferrer"},u().createElement(re.$n,{variant:"link",size:"sm",icon:u().createElement(ce.Ay,null),iconPosition:"right"},"More information"))}]}}))},pe={0:"additional",1:"all"},ve={additional:0,all:1},ge=function(e){var t,n,a,l,i,r=e.pathPrefix,s=e.historyProp,d=e.locationProp,m=e.navigateProp,p=e.imageVersion,v=s?s():g.W6?(0,g.W6)():null,h=(d?d():(0,g.zy)()).pathname,E=m?m():f.useNavigate?(0,f.useNavigate)():null,b=h;r&&h.startsWith(r)&&(b=h.slice(r.length));var y=b.split("/"),P=7===y.length?ve[y[6]]:1,I=null==p||null===(t=p.image)||void 0===t||null===(t=t.Distribution)||void 0===t?void 0:t.split("-")[1].slice(0,-1),k=(0,c.useState)({}),S=(0,o.A)(k,2),A=S[0],D=S[1],w=(0,c.useState)(P),C=(0,o.A)(w,2),N=C[0],x=C[1];return(0,c.useEffect)((function(){D(p)}),[p]),(0,c.useEffect)((function(){y[5]!==pe[N]&&x(P)}),[y]),"SUCCESS"===(null==p||null===(n=p.image)||void 0===n||null===(n=n.Commit)||void 0===n?void 0:n.Status)?u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement($.A,{navigateProp:m,historyProp:s,locationProp:d,apiFilterSort:!1,filters:se,tableData:{count:0===N?null==A?void 0:A.additional_packages:null==A?void 0:A.packages,isLoading:!1,hasError:!1},columnNames:de,rows:null!=A&&null!==(a=A.image)&&void 0!==a&&null!==(a=a.Commit)&&void 0!==a&&a.InstalledPackages?me({distribution:I,installedPackages:null==A||null===(l=A.image)||void 0===l||null===(l=l.Commit)||void 0===l?void 0:l.InstalledPackages,addedPackages:null==A||null===(i=A.image)||void 0===i?void 0:i.Packages,showAll:N}):[],actionResolver:function(){return[]},areActionsDisabled:function(){return!0},defaultSort:{index:0,direction:"asc"},toggleButton:[{title:"Additional",key:0},{title:"All",key:1}],toggleAction:function(e){var t,n=null===(t=y[5])||void 0===t?void 0:t.toLowerCase();if(x(e),"packages"===n){7===y.length?y[6]=pe[e]:y.push(pe[e]);var a=(0,V.E)(y.join("/"),r);m?E(a):v.push(a)}},toggleState:N,emptyFilterState:{icon:"search",title:"No packages to display"}})):u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement(ue.A,{bgColor:"white",title:"Package data currently unavailable",body:"Packages will be displayed as soon as the image is finished being built.",primaryAction:null,secondaryActions:[]}))};ge.propTypes={pathPrefix:E().string,historyProp:E().func,locationProp:E().func,navigateProp:E().func,imageVersion:E().object};const fe=ge;var he={details:0,packages:1,versions:1},Ee=function(e){var t=e.pathPrefix,n=e.urlName,a=e.historyProp,l=e.locationProp,i=e.navigateProp,r=e.imageData,s=e.openUpdateWizard,d=e.imageVersion,m=e.isLoading,p=a?a():g.W6?(0,g.W6)():null,v=(l?l():(0,g.zy)()).pathname,h=v;t&&v.startsWith(t)&&(h=v.slice(t.length));var E=i?i():f.useNavigate?(0,f.useNavigate)():null,y=(0,c.useState)(he.details),P=(0,o.A)(y,2),I=P[0],k=P[1],A=d?"imageTab":"imageSetTab",D=(0,b.kh)(h,["baseURL","imageSetVersion","imageSetTab","imageVersion","imageTab","packagesToggle"]);return(0,c.useEffect)((function(){D.imageTab?k(he[D.imageTab]):k(he[D.imageSetTab])}),[v]),u().createElement(u().Fragment,null,!r.isLoading&&r.hasError?u().createElement(ue.A,{icon:"question",title:"Image not found",body:"Please check you have the correct link with the correct image Id.",primaryAction:{text:"Back to Manage Images",href:L.J.manageImages},secondaryActions:[]}):u().createElement("div",{className:"edge-c-device--detail add-100vh"},u().createElement(B.t,{className:"pf-u-ml-md",activeKey:I,onSelect:function(e,n){var a=0===n?"details":d?"packages":"versions";D[A]=a;var l=(0,V.E)(D.buildUrl(),t);i?E(l):p.push(l),k(n)}},u().createElement(K.o,{eventKey:he.details,title:u().createElement(J.V,null,"Details")},u().createElement(Z,{pathPrefix:t,urlName:n,historyProp:a,navigateProp:i,imageData:r,imageVersion:d})),m?u().createElement(K.o,{title:u().createElement(J.V,null,u().createElement(S.E,{width:"75px"}))}):d?u().createElement(K.o,{eventKey:he.packages,title:u().createElement(J.V,null,"Packages")},u().createElement(fe,{pathPrefix:t,urlName:n,navigateProp:i,historyProp:a,locationProp:l,imageVersion:d})):u().createElement(K.o,{eventKey:he.versions,title:u().createElement(J.V,null,"Versions")},u().createElement(ie,{pathPrefix:t,urlName:n,navigateProp:i,historyProp:a,locationProp:l,imageData:r,openUpdateWizard:s})))))};Ee.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,locationProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func,isLoading:E().bool};const be=Ee;var ye=n(32780);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){var t=e.pathPrefix,n=e.urlName,l=e.paramsProp,i=e.historyProp,h=e.locationProp,E=e.navigateProp,y=e.notificationProp,P=l?l():g.g?(0,g.g)():null,I=P.imageId,k=P.imageVersionId,S=i?i():g.W6?(0,g.W6)():null,A=h?h():g.zy?(0,g.zy)():null,D=A.pathname,w=A.search,C=E?E():f.useNavigate?(0,f.useNavigate)():null,N=(0,c.useState)({isOpen:!1,updateId:null}),x=(0,o.A)(N,2),O=x[0],T=x[1],U=(0,c.useState)(null),j=(0,o.A)(U,2),L=j[0],_=j[1],W=(0,te.A)({api:X.J_,id:k?"".concat(I,"/versions/").concat(k):"".concat(I),tableReload:!0}),V=(0,o.A)(W,2),R=V[0],F=V[1],B=R.data,K=R.isLoading,J={pathname:D,search:(0,b.AH)("update_image=true",!0,w)},M=function(e){E?C(Ie(Ie({},J),{},{replace:!0})):S.push(Ie({},J)),T((function(t){return Ie(Ie({},t),{},{isOpen:!t.isLoading,updateId:e})}))};(0,c.useEffect)((function(){_(k?null==B?void 0:B.ImageDetails:null)}),[R,k]),(0,c.useEffect)((function(){F()}),[I,k]);var q=function(){var e=(0,a.A)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u().createElement(c.Fragment,null,u().createElement(s.A,{className:"pf-m-light"},u().createElement(d.B,{hasGutter:!0},u().createElement(m.a,null,u().createElement(z,{pathPrefix:t,urlName:n,historyProp:i,navigateProp:E,imageData:R,imageVersion:L,openUpdateWizard:M})))),u().createElement(be,{pathPrefix:t,urlName:n,historyProp:i,locationProp:h,navigateProp:E,imageData:R,urlParam:I,imageVersion:L,openUpdateWizard:M,isLoading:K}),O.isOpen&&u().createElement(c.Suspense,{fallback:u().createElement(v.a,null,u().createElement(p.y,null))},u().createElement(ye.default,{navigateBack:function(){E?C({pathname:D}):S.push({pathname:D}),T((function(e){return Ie(Ie({},e),{},{isOpen:!1})}))},updateImageID:O.updateId,reload:q,notificationProp:y,locationProp:h})))};ke.propTypes={pathPrefix:E().string,urlName:E().string,paramsProp:E().func,historyProp:E().func,locationProp:E().func,navigateProp:E().func,notificationProp:E().object};const Se=ke},91153:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,l:()=>a});var a=function(e,t,n){var a=e;if(t||n){var l=[];t&&l.push(t),n&&l.push(n),a=l.join("/")}return a},l=function(e,t){return!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")}},71544:(e,t,n)=>{"use strict";n.d(t,{A:()=>g,N:()=>p});var a=n(44914),l=n.n(a),o=n(5556),i=n.n(o),r=n(55639),c=n(45523),u=n(30666),s=n(93973),d=n(51343),m={booting:{text:"Booting",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.l_.exclamationTriangle,color:d.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:d.l_.timesCircle,color:d.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:d.l_.unknown},interrupted:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"}},p=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},v=function(e){var t=e.id,n=e.type,a=e.isLabel,o=void 0!==a&&a,i=e.toolTipContent,d=void 0===i?"":i,p=e.className,v=void 0===p?"":p,g=e.isLink,f=Object.prototype.hasOwnProperty.call(m,n)?m[n]:m.default,h=f.text,E=f.Icon,b=f.color,y=f.labelColor;return l().createElement(l().Fragment,null,o?l().createElement(r.J,{id:t,color:y,icon:l().createElement(E,null),className:v},h):l().createElement(u.B,{id:t,style:{color:b},className:v},l().createElement(s.o,{className:"pf-u-mr-sm"},d?l().createElement(c.m,{content:"blargh"},l().createElement(E,null)):l().createElement(E,null)),l().createElement(s.o,null,l().createElement("p",{style:g?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},h))))};const g=v;v.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},v.defaultProps={id:"status"}},43085:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var a=n(64467),l=n(10467),o=n(5544),i=n(54756),r=n.n(i),c=n(11830),u=n(44914),s=n(45321);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=function(e){var t,n=e.api,a=e.id,i=void 0===a?null:a,d=e.statusMessages,p=e.tableReload,v=void 0!==p&&p,g=(0,s.useDispatch)(),f=(0,u.useState)([]),h=(0,o.A)(f,2),E=h[0],b=h[1],y=(0,u.useState)(!0),P=(0,o.A)(y,2),I=P[0],k=P[1],S=(0,u.useState)(!1),A=(0,o.A)(S,2),D=A[0],w=A[1],C=(0,u.useState)((function(){return n})),N=(0,o.A)(C,2),x=N[0],O=N[1],T=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var U=function(){var e=(0,l.A)(r().mark((function e(){var t,n,a=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",k(!0),e.prev=2,e.next=5,x({id:i,query:t});case 5:n=e.sent,b(n),T&&g(m({},(0,c.z8)(m({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),w(!0),g(m({},(0,c.z8)(m({variant:"danger"},d.onError))));case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){v||U()}),[]),[{data:E,isLoading:I,hasError:D},U,x,O]}},11902:()=>{},86151:()=>{},51225:()=>{},98469:()=>{},36752:()=>{},83696:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4616.7cbddfd4e44b5611851597c81ac38d4f.js.map