(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[5660],{39173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),o=n(94184),a=n.n(o),i=n(76857),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};const s=function(e){var t=e.className,n=e.title,o=a()(t);return(0,r.jsx)(i.Title,c({headingLevel:"h1",size:"2xl",className:o,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},15656:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(92950),o=n.n(r),a=n(73448),i=n(45697),c=n.n(i),s=n(9192),l=n(96620),u=n(62410),d=n(94973),p=n(16545),m=n(3035),v=n(48903),f=n(35681),b=n(18098),g=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Update available",value:"updateAvailable"}]}],h=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,d.cellWidth)(30)]},{title:"Image",type:"image",sort:!1,columnTransforms:[(0,d.cellWidth)(20)]},{title:"Groups",type:"groups",sort:!1,columnTransforms:[(0,d.cellWidth)(15)]},{title:"Last seen",type:"last_seen",sort:!0,columnTransforms:[(0,d.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,d.cellWidth)(25)]}],y=function(e,t,n,r){return null==e?void 0:e.map((function(e){var a=e.DeviceName,i=e.DeviceGroups,c=e.DeviceID,d=e.DeviceUUID,m=e.UpdateAvailable,v=e.LastSeen,g=e.ImageName,h=e.ImageSetID,y=e.Status,E=e.DispatcherStatus,I=(0,f.u)(y,m,E);""===a&&(a="localhost"),null===i&&(i=[]);var D=o().createElement("div",null,o().createElement(p.u,{content:o().createElement("div",null,i.map((function(e,t){return o().createElement("p",{key:t},e.Name)})))},o().createElement("span",null,"Multiple groups")));return{rowInfo:{deviceID:c,id:d,display_name:a,updateImageData:m,deviceStatus:(0,f.u)(y,m,E),imageSetId:h,imageName:g,deviceGroups:i},noApiSortFilter:[a||"",g||"","",v||"",(0,f.u)(y,m)],cells:[{title:t?o().createElement(l.Link,{to:{pathname:"".concat(r,"/").concat(d)}},a):a},{title:g?t?o().createElement(l.Link,{to:"".concat(s._["manage-images"],"/").concat(h,"/")},g):g:"unavailable"},{title:0===i.length?"-":1===i.length?i[0].Name:D},{title:v?o().createElement(u.Z,{date:v}):"Unknown"},{title:"error"===I||"unresponsive"===I?o().createElement(b.Z,{lastSeen:v,fetchDevices:n,device:e},o().createElement(f.Z,{type:"error"===I?"errorWithExclamationCircle":I,isLink:!0})):o().createElement(f.Z,{type:"error"===I?"errorWithExclamationCircle":I})}]}}))},E=function(e){var t=e.hasCheckbox,n=void 0!==t&&t,r=e.selectedItems,i=e.selectedItemsUpdateable,c=e.skeletonRowQuantity,u=e.data,d=e.count,p=e.isLoading,f=e.hasError,b=e.kebabItems,E=e.setRemoveModal,I=(e.setIsAddModalOpen,e.handleAddDevicesToGroup),D=e.handleRemoveDevicesFromGroup,w=e.handleUpdateSelected,O=e.hasModalSubmitted,S=e.setHasModalSubmitted,k=e.fetchDevices,C=e.isSystemsView,x=void 0!==C&&C,P=e.isAddSystemsView,T=void 0!==P&&P,j=E,N=x,U=(0,l.useHistory)(),Z=U.location.pathname;Z!==s._.inventory&&(Z+="/systems");return o().createElement(o().Fragment,null,x&&(0,v.A8)(p,d,U)?o().createElement(m.Z,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Connect edge systems",body:"Connect and manage edge systems here after registering them via the console. To start, create a RHEL for Edge image and install it to your target system.",secondaryActions:[{title:"Create RHEL for Edge images and configure automated management",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/create_rhel_for_edge_images_and_configure_automated_management/index",type:"link"}]}):o().createElement(a.Z,{apiFilterSort:!0,isUseApi:!0,filters:g,loadTableData:k,tableData:{count:d,isLoading:p,hasError:f},columnNames:h,rows:y(u||[],T||x,k,Z),actionResolver:function(e){var t,n,r=[];return p?r:null!=e&&null!==(t=e.rowInfo)&&void 0!==t&&t.id?(I&&r.push({title:"Add to group",onClick:function(){return I([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name}],!0)}}),D&&r.push({title:"Remove from group",isDisabled:0===(null==e||null===(n=e.rowInfo)||void 0===n?void 0:n.deviceGroups.length),onClick:function(){return D([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,deviceGroups:e.rowInfo.deviceGroups}],!0)}}),function(e){var t,n,r;return!(null!==(t=e.rowInfo)&&void 0!==t&&t.UpdateAvailable||"updating"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.deviceStatus)&&"upToDate"!==(null===(r=e.rowInfo)||void 0===r?void 0:r.deviceStatus))}(e)||r.push({title:"Update",onClick:function(e,t,n){U.push({pathname:"".concat(s._.inventory,"/").concat(n.rowInfo.id,"/update")})}}),j&&r.push({title:"Remove from group",onClick:function(){return E({name:e.rowInfo.display_name,isOpen:!0,deviceId:e.rowInfo.deviceID})}}),r):r},defaultSort:{index:3,direction:"desc"},toolbarButtons:N?[{isDisabled:!i,title:"Update",id:"toolbar-update-button",click:function(){return w()}}]:[],hasCheckbox:n,selectedItems:r,skeletonRowQuantity:c,kebabItems:b,hasModalSubmitted:O,setHasModalSubmitted:S}))};E.propTypes={imageData:c().object,urlParam:c().string,openUpdateWizard:c().func,skeletonRowQuantity:c().number,temp:c().func,hasCheckbox:c().bool,setIsModalOpen:c().func,selectedItems:c().func,selectedItemsUpdateable:c().bool,reload:c().bool,setReload:c().func,data:c().array,count:c().number,isLoading:c().bool,hasError:c().bool,handleSingleDeviceRemoval:c().func,kebabItems:c().array,setRemoveModal:c().func,setIsAddModalOpen:c().func,hasModalSubmitted:c().bool,setHasModalSubmitted:c().func,handleAddDevicesToGroup:c().func,handleRemoveDevicesFromGroup:c().func,handleUpdateSelected:c().func,fetchDevices:c().func,isSystemsView:c().bool,isAddSystemsView:c().bool};const I=E},18098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(15861),o=n(29439),a=n(64687),i=n.n(a),c=n(92950),s=n.n(c),l=n(16958),u=n(47173),d=n(58844),p=n(3025),m=n(49739),v=n(83826),f=n(48761),b=n(43047),g=n(62410),h=n(32349),y=n(8027),E=n(86706),I=n(45697),D=n.n(I),w="The playbook failed to run.",O="The service timed out during the last update.",S="UNRESPONSIVE",k=function(e,t,n){return s().createElement("div",null,e===w?"The playbook failed to run. You can retry the update or build a new one.":e===O?"The service timed out during the last update. You can retry the update or build a new one.":t===S?"The service could not be reached via RHC. The system may communicate at a later time if this is a network issue or could be an indication of a more significant problem.":"Unknown",s().createElement(m.K,{className:"pf-u-mt-sm"},s().createElement(v.v,{className:"pf-u-font-weight-bold"},"Last seen"),s().createElement(v.v,null," ",s().createElement(g.Z,{date:n}))))},C=function(e){var t,n,a=e.id,m=e.device,v=e.position,g=e.fetchDevices,I=e.lastSeen,D=e.children,C=(0,c.useState)(!1),x=(0,o.Z)(C,2),P=x[0],T=x[1],j=(0,E.I0)(),N={onSuccess:{variant:"info",title:"Updating system",description:"".concat(m.DeviceName," was added to the queue.")}};return s().createElement(d.g,null,s().createElement(f.H,null,s().createElement(l.J,{id:a,isVisible:P,shouldOpen:function(){return T(!0)},shouldClose:function(){return T(!1)},"aria-label":"Alert popover",alertseverityvariant:"danger",headerContent:s().createElement("div",{style:{color:"#c9190b"}}," ",s().createElement(b.ZP,{size:"sm"}),(t=m.DispatcherReason,n=m.DispatcherStatus,s().createElement("span",{className:"pf-u-ml-xs"},t===w?"Playbook error":t===O?"Service timed out":n===S?"Unresponsive":"Unknown"))),icon:"true",variant:"icon",color:"red",position:v,headerComponent:"h6",bodyContent:k(m.DispatcherReason,m.DispatcherStatus,I),footerContent:m.DispatcherStatus!==S?s().createElement(u.zx,{variant:"link",isInline:!0,onClick:function(){(0,h.Z)(j,(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.EQ)({DevicesUUID:[m.DeviceUUID]});case 2:T(!1),g();case 4:case"end":return e.stop()}}),e)}))),N)}}," ","Retry"," "):""},D)),s().createElement(p.b,null," "))};C.propTypes={id:D().string,lastSeen:D().string,children:D().element,device:D().object,position:D().string,fetchDevices:D().func},C.defaultProps={position:"left",id:"retry-update"};const x=C},8027:(e,t,n)=>{"use strict";n.d(t,{$v:()=>s,EQ:()=>u,_v:()=>l});var r=n(15861),o=n(64687),a=n.n(o),i=n(66702),c=n(93454),s=function(e){var t=e.query,n=(0,i.Vs)(t);return c.instance.get("".concat(i.Ds,"/devices/devicesview?").concat(n))},l=function(e){return c.instance.get("".concat(i.Ds,"/devices/").concat(e))},u=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.instance.post("".concat(i.Ds,"/updates"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},87029:(e,t,n)=>{"use strict";n.d(t,{OS:()=>s,Tb:()=>m,VL:()=>c,_j:()=>p,e3:()=>u,jA:()=>i,sS:()=>a,tW:()=>d,yq:()=>l});var r=n(66702),o=n(93454),a=function(e){return o.instance.post("".concat(r.Ds,"/device-groups/"),{Name:e.name,Type:"static"})},i=function(e){var t=e.query,n=(0,r.Vs)(t);return o.instance.get("".concat(r.Ds,"/device-groups?").concat(n))},c=function(e){var t=e.id,n=e.query,a=(0,r.Vs)(n);return o.instance.get("".concat(r.Ds,"/device-groups/").concat(t,"/view?").concat(a))},s=function(e,t){return o.instance.put("".concat(r.Ds,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},l=function(e){return o.instance.delete("".concat(r.Ds,"/device-groups/").concat(e))},u=function(e,t){return o.instance.post("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},d=function(e,t){return o.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},p=function(e,t){return o.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices/").concat(t))},m=function(e){return o.instance.get("".concat(r.Ds,"/device-groups/checkName/").concat(e))}},60722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(15861),o=n(4942),a=n(87462),i=n(64687),c=n.n(i),s=n(92950),l=n.n(s),u=n(80236),d=n(79442),p=n(67850),m=n(41387),v=n(45697),f=n.n(v);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.isOpen,n=e.title,o=e.titleIconVariant,i=e.closeModal,s=e.submitLabel,v=e.schema,f=e.initialValues,b=e.variant,h=e.reloadData,y=e.size,E=e.onSubmit,I=e.additionalMappers,D=e.validatorMapper;return l().createElement(u.u,{variant:null!=y?y:"small",title:n,titleIconVariant:null!=o?o:null,isOpen:t,onClose:i},l().createElement(d.Z,{schema:v,validatorMapper:D,FormTemplate:function(e){return l().createElement(p.ZP,(0,a.Z)({},e,{submitLabel:s,disableSubmit:["invalid"],buttonsProps:{submit:{variant:b}}}))},initialValues:f,componentMapper:I?g(g({},I),m.ZP):m.ZP,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:setTimeout((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return i()}}))};h.propTypes={isOpen:f().bool,title:f().string,closeModal:f().func,reloadData:f().func,submitLabel:f().string,schema:f().object,initialValues:f().object,variant:f().string,onSubmit:f().func,size:f().string,additionalMappers:f().object,titleIconVariant:f().any,validatorMapper:f().object};const y=h},35681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f,u:()=>m});var r=n(92950),o=n.n(r),a=n(45697),i=n.n(a),c=n(69174),s=n(16545),l=n(79851),u=n(34512),d=n(98309),p={booting:{text:"Booting",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},success:{text:"Ready",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},passed:{text:"Passed",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.iQ.exclamationTriangle,color:d.OE.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},error:{text:"Error",Icon:d.iQ.timesCircle,color:d.OE.red,labelColor:"red"},default:{text:"Unknown",Icon:d.iQ.unknown},interrupted:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"}},m=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},v=function(e){var t=e.id,n=e.type,r=e.isLabel,a=void 0!==r&&r,i=e.toolTipContent,d=void 0===i?"":i,m=e.className,v=void 0===m?"":m,f=e.isLink,b=Object.prototype.hasOwnProperty.call(p,n)?p[n]:p.default,g=b.text,h=b.Icon,y=b.color,E=b.labelColor;return o().createElement(o().Fragment,null,a?o().createElement(c._,{id:t,color:E,icon:o().createElement(h,null),className:v},g):o().createElement(l.P,{id:t,style:{color:y},className:v},o().createElement(u.J,{className:"pf-u-mr-sm"},d?o().createElement(s.u,{content:"blargh"},o().createElement(h,null)):o().createElement(h,null)),o().createElement(u.J,null,o().createElement("p",{style:f?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},g))))};const f=v;v.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},v.defaultProps={id:"status"}},32349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(4942),o=n(15861),a=n(64687),i=n.n(a),c=n(83215);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n){var r,a,s=null===(r=n)||void 0===r?void 0:r.onSuccess,u=null===(a=n)||void 0===a?void 0:a.onInfo;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var d=function(){var r=(0,o.Z)(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t();case 3:return o=r.sent,u&&e(l({},(0,c.wN)(l({variant:"info"},n.onInfo)))),s&&e(l({},(0,c.wN)(l({variant:"success"},n.onSuccess)))),r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(0),e(l({},(0,c.wN)(l(l({variant:"danger"},n.onError),{},{description:null!==r.t0&&void 0!==r.t0&&r.t0.Title?"".concat(n.onError.description,": ").concat(r.t0.Title):n.onError.description})))),r.abrupt("return",r.t0);case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(){return r.apply(this,arguments)}}();return d()}},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},81754:()=>{},10497:()=>{},54476:()=>{},27567:()=>{},80897:()=>{},40837:()=>{},21064:()=>{},82014:()=>{},98379:()=>{},91993:()=>{},99624:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},40209:()=>{},38299:()=>{},72816:()=>{},16166:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/5660.aaade6de3ef99f192b8d41f01e47b626.js.map