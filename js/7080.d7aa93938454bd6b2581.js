(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7080],{80292:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>le});var r=n(15861),a=n(4942),o=n(29439),i=n(87462),c=n(64687),s=n.n(c),u=n(92950),l=n.n(u),p=n(89376),d=n(39173),f=n(55140),m=n(15656),v=n(45697),g=n.n(v),y=n(64124),h=n(96354),b=n(60722),E=n(23279),O=n.n(E),D=n(36621),S=n(65673),I=n(54680),Z=n(92694),M=n(41693),A=n(48880),_=n(96094),P=n(87029);const w=function(e){(0,M.Z)(e);var t=(0,A.default)().change,n=(0,u.useState)(!1),r=(0,o.Z)(n,2),a=r[0],c=r[1],s=(0,u.useState)(null),p=(0,o.Z)(s,2),d=p[0],f=p[1],m=(0,_.Z)({api:P.jA}),v=(0,o.Z)(m,2),g=v[0],y=g.data,h=g.isLoading,b=v[1],E=(0,u.useState)(""),w=(0,o.Z)(E,2),T=w[0],j=w[1],N=function(e){f(e),c(!1),t("group",e)},L=(null==y?void 0:y.data)||[],k=(null==y?void 0:y.count)||0;return l().createElement(l().Fragment,null,l().createElement(D.p,null,!h&&!d&&a&&k>L.length?l().createElement(S.u,{variant:"warning",className:"pf-u-font-weight-bold"},"Over ",L.length," results found. Refine your search."):l().createElement(S.u,{className:"pf-u-font-weight-bold"},"Select a group")),l().createElement(I.P,{variant:"typeahead",typeAheadAriaLabel:"Select a group",onToggle:function(e){c(e)},onSelect:function(e,t){e&&N(t)},onClear:function(){j(""),b(),N(null)},selections:d||T,isOpen:a,onFilter:O()((function(e,t){e&&t!=T&&(j(t),b({name:encodeURIComponent(t)}))}),300),"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click to select a group",noResultsFoundText:h?"Loading...":"No results found",isInputValuePersisted:!0,maxHeight:"180px"},h?[]:null==L?void 0:L.map((function(e){var t=e.DeviceGroup;return l().createElement(Z.$,(0,i.Z)({key:t.ID,value:{toString:function(){return t.Name},groupId:t.ID}},t.description&&{description:t.description}))}))))};var T=n(32349),j=n(77760),N=n(47173),L=n(68340),k=function(e){var t=e.closeModal;return l().createElement(l().Fragment,null,l().createElement(L.x,null,"Or"),l().createElement(N.zx,{variant:"secondary",className:"pf-u-w-50",onClick:t},"Create Group"))};k.propTypes={closeModal:g().func};var G=function(e){var t=e.length>1?"".concat(e.length," systems"):e[0].name;return l().createElement(L.x,null,"Select a group to add ",l().createElement("strong",null,t," ")," or create a new one.")},C=function(e){return{fields:[{component:h.Z.PLAIN_TEXT,name:"description",label:G(e)},{component:"search-input",name:"group",label:"Select a group",isRequired:!0,validate:[{type:y.Z.REQUIRED}]},{component:"create-group-btn",name:"create-group-btn"}]}},x=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.setIsCreateGroupModalOpen,a=e.reloadData,o=e.deviceIds,i=(0,j.useDispatch)();return l().createElement(b.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Add to group",submitLabel:"Add",additionalMappers:{"search-input":{component:w},"create-group-btn":{component:k,closeModal:function(){r(!0),n(!1)}}},schema:C(o),onSubmit:function(e){var t=e.group,n={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(t.toString()," successfully")},onError:{title:"Error",description:"Failed to add system to group"}};(0,T.Z)(i,(function(){return(0,P.e3)(parseInt(t.groupId),o)}),n)},reloadData:a})};const R=x;x.propTypes={isModalOpen:g().bool,setIsModalOpen:g().func,setIsCreateGroupModalOpen:g().func,reloadData:g().func,deviceIds:g().array};var F=function(e){(0,M.Z)(e);var t=(0,A.default)().change,n=(0,u.useState)(!1),r=(0,o.Z)(n,2),a=r[0],c=r[1],s=(0,u.useState)(null),p=(0,o.Z)(s,2),d=p[0],f=p[1],m=function(){f(null),t("group",null),c(!1)};return l().createElement(l().Fragment,null,l().createElement(I.P,{variant:"typeahead",typeAheadAriaLabel:"Select a state",onToggle:function(e){return c(e)},onSelect:function(e,n,r){r?m():(f(n),c(!1)),t("group",n)},onClear:m,selections:d,isOpen:a,"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click select group"},e.defaultOptions.map((function(e,t){var n=e.DeviceGroup;return l().createElement(Z.$,(0,i.Z)({key:t,value:{toString:function(){return n.Name},groupId:n.ID}},n.description&&{description:n.description}))}))))};F.propTypes={defaultOptions:g().array};const U=F;var V=n(69957),H=n(37655),q=function(e){var t=e[0].deviceGroups,n=e.length>1?"".concat(e.length," systems"):e[0].name,r=1===t.length?t[0].Name:"".concat(t.length," groups");return t.length>1?l().createElement(L.x,null,"Select the group you want to remove ",l().createElement("strong",null,n)," from."):l().createElement(L.x,null,"Do you want to remove ",l().createElement("strong",null,n," ")," from"," ",l().createElement("strong",null,r),"?")},z=function(){return l().createElement(V.ZP,{color:H.Z.value})},Y=function(e){var t={fields:[{component:h.Z.PLAIN_TEXT,name:"description",label:q(e)}]};return e[0].deviceGroups.length>1&&t.fields.push({component:"search-input",name:"group",label:"Select a group",isRequired:!0,validate:[{type:y.Z.REQUIRED}]}),t},$=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.deviceInfo,o=(0,j.useDispatch)(),i=a[0].deviceGroups;return l().createElement(b.Z,{isOpen:t,variant:"danger",closeModal:function(){return n(!1)},title:"Remove from group",submitLabel:"Remove",titleIconVariant:z,additionalMappers:{"search-input":{component:U,defaultOptions:i.map((function(e){return{DeviceGroup:e}}))||[]}},schema:Y(a),onSubmit:function(e){var t=i.length>1,n=t?e.group.toString():i[0].Name,r=t?e.group.groupId:i[0].ID,c={onSuccess:{title:"Success",description:"".concat(a[0].name," has been removed from ").concat(n," successfully")},onError:{title:"Error",description:"Failed to remove system from group"}};(0,T.Z)(o,(function(){return(0,P._j)(r,a[0].ID)}),c)},reloadData:r})};const K=$;$.propTypes={isModalOpen:g().bool,setIsModalOpen:g().func,reloadData:g().func,deviceInfo:g().array};var Q=n(41825),X=n(8027),B=n(68519),W=n(52643),J=n(37619),ee=n(22663),te=n(94778),ne=n(83215);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=l().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(9986),n.e(6681)]).then(n.bind(n,68940))})),ce=function(e){return l().createElement(ee.Z,(0,i.Z)({appName:"inventory",module:"./TextInputModal"},e))},se=function(e){return l().createElement(ee.Z,(0,i.Z)({appName:"inventory",module:"./DeleteModal"},e))},ue=function(e){var t,n=e.historyProp,a=e.navigateProp,i=e.locationProp,c=e.showHeaderProp,v=e.notificationProp,g=e.urlName,y=(0,f.Z)(),h=n?n():B.k6?(0,B.k6)():null,b=(i?i():B.TH?(0,B.TH)():null).pathname,E=(0,_.Z)({api:X.$v,tableReload:!0}),O=(0,o.Z)(E,2),D=O[0],S=O[1],I=void 0===c||c,Z=D.data,M=D.isLoading,A=D.hasError,P=(0,u.useState)(!1),w=(0,o.Z)(P,2),N=w[0],L=w[1],k=(0,u.useState)(!1),G=(0,o.Z)(k,2),C=G[0],x=G[1],F=(0,u.useState)(!1),U=(0,o.Z)(F,2),V=U[0],H=U[1],q=(0,u.useState)(!1),z=(0,o.Z)(q,2),Y=z[0],$=z[1],ee=(0,u.useState)([]),re=(0,o.Z)(ee,2),ue=re[0],le=re[1],pe=(0,u.useState)([]),de=(0,o.Z)(pe,2),fe=de[0],me=de[1],ve=(0,u.useState)(!1),ge=(0,o.Z)(ve,2),ye=ge[0],he=ge[1],be=(0,u.useState)(!1),Ee=(0,o.Z)(be,2),Oe=Ee[0],De=Ee[1],Se=(0,u.useState)(!1),Ie=(0,o.Z)(Se,2),Ze=Ie[0],Me=Ie[1],Ae=(0,j.useDispatch)(),_e=(0,u.useState)({isOpen:!1,deviceData:null,imageData:null}),Pe=(0,o.Z)(_e,2),we=Pe[0],Te=Pe[1],je=function(e,t){L(!0),t?le(e):me(e),he(t)},Ne=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:De(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le="";return void 0!==c&&I?Le="edge-devices pf-l-page__main-section pf-c-page__main-section":I||(Le="pf-c-toolbar"),(0,u.useEffect)((function(){var e;null==y||null===(e=y.updateDocumentTitle)||void 0===e||e.call(y,"Systems - Inventory | Edge management")}),[y]),l().createElement(l().Fragment,null,I&&l().createElement(p.Z,{className:"pf-m-light"},l().createElement(d.Z,{title:"Systems"})),I,l().createElement("section",{className:Le},l().createElement(m.default,{historyProp:n,navigateProp:a,locationProp:i,isSystemsView:!0,data:null==Z||null===(t=Z.data)||void 0===t?void 0:t.devices,count:null==Z?void 0:Z.count,isLoading:M,hasError:A,setUpdateModal:Te,updateModal:we,handleAddDevicesToGroup:je,handleRemoveDevicesFromGroup:function(e,t){x(!0),t?le(e):me(e),he(t)},handleEditNameSystem:function(e,t){H(!0),t?le(e):me(e),he(t)},handleDeleteSystem:function(e,t){$(!0),t?le(e):me(e),he(t)},handleUpdateSelected:function(){Te((function(e){return ae(ae({},e),{},{deviceData:fe.map((function(e){return{id:e.id,display_name:e.display_name,deviceStatus:e.deviceStatus}})),imageData:{imageName:fe[0].imageName},imageSetId:fe[0].imageSetId,isOpen:!0})}))},hasCheckbox:!0,selectedItems:me,selectedItemsUpdateable:function(){var e=!1;if(fe.length>0){var t,n=fe[0].imageSetId,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(fe);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(a.imageSetId!==n){e=!1;break}(!e&&a.updateImageData&&"updateAvailable"===a.deviceStatus||"unresponsive"===a.deviceStatus||"error"===a.deviceStatus)&&(e=!0)}}catch(e){r.e(e)}finally{r.f()}}return e}(),kebabItems:[{isDisabled:!(fe.length>0),title:"Add to group",onClick:function(){return je(fe.map((function(e){return{ID:e.deviceID,name:e.display_name}})),!1)}}],hasModalSubmitted:Oe,setHasModalSubmitted:De,fetchDevices:S,urlName:g})),we.isOpen&&l().createElement(u.Suspense,{fallback:l().createElement(W.b,null,l().createElement(J.$,null))},l().createElement(ie,{navigateBack:function(){h.push({pathname:b}),Te((function(e){return console.log("Click modal"),ae(ae({},e),{},{isOpen:!1})}))},setUpdateModal:Te,updateModal:we,notificationProp:v,refreshTable:Ne})),N&&l().createElement(R,{isModalOpen:N,setIsModalOpen:L,setIsCreateGroupModalOpen:Me,reloadData:Ne,deviceIds:ye?ue:fe}),Ze&&l().createElement(Q.Z,{isModalOpen:Ze,setIsModalOpen:Me,reloadData:Ne,deviceIds:ye?ue:fe}),C&&l().createElement(K,{isModalOpen:C,setIsModalOpen:x,reloadData:Ne,deviceInfo:ye?ue:fe}),V&&l().createElement(ce,{isOpen:V,title:"Edit display name",value:ye?ue[0].name:fe[0].name,ariaLabel:"Host inventory display name",modalOuiaId:"edit-display-name-modal",cancelOuiaId:"cancel-edit-display-name",confirmOuiaId:"confirm-edit-display-name",inputOuiaId:"input-edit-display-name",onCancel:function(){return H(!1)},onSubmit:function(e){var t=ye?ue[0].UUID:fe[0].UUID,n=ye?ue[0].name:fe[0].name,r={onSuccess:{title:"Display name for entity with ID ".concat(t," has been changed to ").concat(e)},onError:{title:"Error",description:"Failed to update device name"}};v?(0,T.Z)(Ae,(function(){return(0,te.$Y)(t,e,n)}),r,v):Ae((0,te.$Y)(t,e,n)),H(!1)},className:"sentry-mask data-hj-suppress"}),Y&&l().createElement(se,{className:"sentry-mask data-hj-suppress",handleModalToggle:$,isModalOpen:Y,currentSytems:ye?ue[0]:fe[0],onConfirm:function(){var e=ye?ue[0]:fe[0],t=e.display_name,n=[e.UUID],r={onWarning:{title:"Delete operation initiated",description:"Removal of ".concat(t," started.")},onError:{title:"Error",description:"Failed to initial delete device"}},a={onSuccess:{title:"Delete operation finished",description:"".concat(t," has been successfully removed.")},onError:{title:"Error",description:"Failed to delete device"}};v?((0,T.Z)(Ae,(function(){return(0,ne.wN)({id:"remove-initiated",variant:"warning"})}),r,v),(0,T.Z)(Ae,(function(){return(0,te.Ks)(n,t)}),a,v)):(Ae((0,ne.wN)({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t," started."),dismissable:!1})),Ae((0,te.Ks)(n,t))),$(!1)}}))};ue.propTypes={historyProp:g().func,navigateProp:g().func,locationProp:g().func,showHeaderProp:g().bool,notificationProp:g().object,urlName:g().string};const le=ue},41825:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(15861),a=n(64687),o=n.n(a),i=n(92950),c=n.n(i),s=n(45697),u=n.n(s),l=n(64124),p=n(96354),d=n(60722),f=n(87029),m=n(48903),v=n(32349),g=n(77760),y=function(){var e=(0,r.Z)(o().mark((function e(){var t,n=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=n.length>0&&void 0!==n[0]?n[0]:"").length){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,(0,f.Tb)(t);case 5:if(!e.sent.data.isValid){e.next=8;break}throw"Group name already exists";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h={groupName:function(){return y}},b={fields:[{component:p.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,autoFocus:!0,validate:[{type:"groupName"},{type:l.Z.REQUIRED},{type:l.Z.MAX_LENGTH,threshold:50},m.qg]}]},E=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,a=e.deviceIds,i=e.reloadData,s=(0,g.useDispatch)(),u=function(e){var t={onSuccess:{title:"Success",description:"".concat(e.name," has been created successfully")},onError:{title:"Error",description:"Failed to create group"}};return(0,v.Z)(s,(function(){return(0,f.sS)(e)}),t)},l=function(){var e=(0,r.Z)(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:n=e.sent,r=n.ID,i={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(t.name," successfully")},onError:{title:"Error",description:"Failed to add system to group"}},(0,v.Z)(s,(function(){return(0,f.e3)(parseInt(r),a)}),i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c().createElement(d.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Create group",submitLabel:"Create",schema:b,onSubmit:a?l:u,reloadData:i,validatorMapper:h})};const O=E;E.propTypes={isModalOpen:u().bool,setIsModalOpen:u().func,reloadData:u().func,deviceIds:u().array}},87029:(e,t,n)=>{"use strict";n.d(t,{OS:()=>s,Tb:()=>f,VL:()=>c,_j:()=>d,e3:()=>l,jA:()=>i,sS:()=>o,tW:()=>p,yq:()=>u});var r=n(66702),a=n(93454),o=function(e){return a.instance.post("".concat(r.Ds,"/device-groups/"),{Name:e.name,Type:"static"})},i=function(e){var t=e.query,n=(0,r.Vs)(t);return a.instance.get("".concat(r.Ds,"/device-groups?").concat(n))},c=function(e){var t=e.id,n=e.query,o=(0,r.Vs)(n);return a.instance.get("".concat(r.Ds,"/device-groups/").concat(t,"/view?").concat(o))},s=function(e,t){return a.instance.put("".concat(r.Ds,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},u=function(e){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e))},l=function(e,t){return a.instance.post("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},p=function(e,t){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},d=function(e,t){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices/").concat(t))},f=function(e){return a.instance.get("".concat(r.Ds,"/device-groups/checkName/").concat(e))}},60722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(15861),a=n(4942),o=n(87462),i=n(64687),c=n.n(i),s=n(92950),u=n.n(s),l=n(80236),p=n(79442),d=n(67850),f=n(41387),m=n(45697),v=n.n(m);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e){var t=e.isOpen,n=e.title,a=e.titleIconVariant,i=e.closeModal,s=e.submitLabel,m=e.schema,v=e.initialValues,g=e.variant,h=e.reloadData,b=e.size,E=e.onSubmit,O=e.additionalMappers,D=e.validatorMapper;return u().createElement(l.u,{variant:null!=b?b:"small",title:n,titleIconVariant:null!=a?a:null,isOpen:t,onClose:i},u().createElement(p.Z,{schema:m,validatorMapper:D,FormTemplate:function(e){return u().createElement(d.ZP,(0,o.Z)({},e,{submitLabel:s,disableSubmit:["invalid"],buttonsProps:{submit:{variant:g}}}))},initialValues:v,componentMapper:O?y(y({},O),f.ZP):f.ZP,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:setTimeout((0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),i();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return i()}}))};h.propTypes={isOpen:v().bool,title:v().string,closeModal:v().func,reloadData:v().func,submitLabel:v().string,schema:v().object,initialValues:v().object,variant:v().string,onSubmit:v().func,size:v().string,additionalMappers:v().object,titleIconVariant:v().any,validatorMapper:v().object};const b=h},96094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(4942),a=n(15861),o=n(29439),i=n(64687),c=n.n(i),s=n(83215),u=n(92950),l=n(77760);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(e){var t,n=e.api,r=e.id,i=void 0===r?null:r,p=e.statusMessages,f=e.tableReload,m=void 0!==f&&f,v=(0,l.useDispatch)(),g=(0,u.useState)([]),y=(0,o.Z)(g,2),h=y[0],b=y[1],E=(0,u.useState)(!0),O=(0,o.Z)(E,2),D=O[0],S=O[1],I=(0,u.useState)(!1),Z=(0,o.Z)(I,2),M=Z[0],A=Z[1],_=null===(t=p)||void 0===t?void 0:t.onSuccess;p||(p={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var P=function(){var e=(0,a.Z)(c().mark((function e(){var t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",S(!0),e.prev=2,e.next=5,n({id:i,query:t});case 5:r=e.sent,b(r),_&&v(d({},(0,s.wN)(d({variant:"success"},p.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),A(!0),v(d({},(0,s.wN)(d({variant:"danger"},p.onError))));case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){m||P()}),[]),[{data:h,isLoading:D,hasError:M},P]}},59086:(e,t,n)=>{"use strict";n.d(t,{Cx:()=>c,Cz:()=>D,FA:()=>m,Ng:()=>l,Nv:()=>g,Oi:()=>O,RD:()=>y,Th:()=>s,Tz:()=>E,W5:()=>h,aI:()=>Z,j$:()=>S,rQ:()=>b,sK:()=>u,tG:()=>f,wg:()=>d,xX:()=>p,zN:()=>v});var r=n(24350),a=n.n(r),o=n(94654),i=n.n(o),c="LOAD_DEVICE_SUMMARY",s="LOAD_ACTIVE_IMAGES",u="LOAD_EDGE_IMAGES",l="LOAD_EDGE_IMAGE_SETS",p="LOAD_EDGE_IMAGE_PACKAGES",d="LOAD_GROUPS",f="LOAD_GROUP_DETAIL",m="LOAD_TRESHOLD",v="LOAD_DEVICES_INFO",g="LOAD_CANARIES_INFO",y="LOAD_GROUP_DEVICES_INFO",h="LOAD_IMAGE_STATUS",b="LOAD_IMAGE_DETAIL",E="LOAD_IMAGE_SET_DETAIL",O="CREATE_NEW_IMAGE",D=("".concat(O,"_RESET"),"POLLING_IMAGES"),S="LOAD_DEVICE_TABLE",I=i()([u,l,p,s,d,f,m,v,g,y,h,b,E,O,S,"UPDATE_DISPLAY_NAME","REMOVE_ENTITY"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),Z=a()(I,(function(e){return e}))},94778:(e,t,n)=>{"use strict";n.d(t,{$Y:()=>p,Es:()=>s,Fj:()=>l,J_:()=>c,Ks:()=>d,n9:()=>u});var r=n(59086),a=n(93597),o=(n(8027),n(66702)),i=n(48903),c=function(e,t){e({type:r.rQ,payload:(0,a.Kz)({id:t})}).catch((function(){return null}))},s=function(e,t,n){e({type:r.Oi,payload:(0,a.Bi)(t)}).then(n).catch((function(){return null}))},u=function(e,t){e({type:r.Ng,payload:(0,a.QY)(t)}).catch((function(){return null}))},l=function(e){var t=e.id,n=e.name;return{type:"".concat(r.Cz,"_ADD"),payload:{name:n,id:t}}},p=function(e,t,n){return{type:r.aI.UPDATE_DISPLAY_NAME,payload:o.E7.apiHostPatchHostById([e],{display_name:t}),meta:{id:e,value:t,origValue:n,notifications:{fulfilled:{variant:"success",title:"Display name for entity with ID ".concat(e," has been changed to ").concat(t),dismissable:!0}}}}},d=function(e,t){return{type:r.aI.REMOVE_ENTITY,payload:(0,i.a6)(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:"".concat(t," has been successfully removed."),dismissable:!0}},systems:e}}}},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},81754:()=>{},10497:()=>{},10108:()=>{},54476:()=>{},80897:()=>{},40837:()=>{},71338:()=>{},98379:()=>{},99624:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},40209:()=>{},38299:()=>{},72816:()=>{}}]);
//# sourceMappingURL=../sourcemaps/7080.840fd4b35fd97e209239729ba5dfaecf.js.map