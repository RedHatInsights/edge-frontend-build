(self.webpackChunkedge=self.webpackChunkedge||[]).push([[8085],{63767:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var o=n(74848),r=n(93345),a=n.n(r),i=n(59304),l=function(){return l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},s=36e5,c=24*s,u=30*c,d=365*c,m=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},p=[{rightBound:1/0,description:function(e){return m(Math.round(e/d),"year")}},{rightBound:d,description:function(e){return m(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return m(Math.round(e/c),"day")}},{rightBound:c,description:function(e){return m(Math.round(e/s),"hour")}},{rightBound:s,description:function(e){return m(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],g=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},f=function(e){return{exact:function(e){return g(e)+" UTC"},onlyDate:function(e){return g(e).slice(0,-6)},relative:function(e){return p.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),g(e))},invalid:function(){return"Invalid date"}}[e]},y=function(e,t,n){return{exact:function(t){return f(e)(t)},onlyDate:function(t){return f(e)(t)},relative:function(r){return function(e,t,n,r){return void 0===r&&(r=""),(0,o.jsx)(i.Tooltip,l({},n,{content:(0,o.jsxs)("div",{children:[r,e]}),children:t}))}(f("exact")(r),(0,o.jsx)("span",{children:f(e)(r)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const b=function(e){var t=e.date,n=e.type,r=void 0===n?"relative":n,i=e.extraTitle,l=e.tooltipProps,s=t instanceof Date?t:new Date(t),c=null==t||"Invalid Date"===s.toString()?"invalid":r;return(0,o.jsx)(a().Fragment,{children:y(c,l,i)(s)})}},96338:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var o=n(41458),r=n(387);function a(e=o.t){const t=e===o.t?r.P:(0,r.N)(e);return function(){return t().dispatch}}const i=a()},42506:(e,t,n)=>{"use strict";n.d(t,{d4:()=>u,ld:()=>l});var o=n(93345),r=n(3769),a=n(41458);let i=n(96344).w;const l=e=>{i=e},s=(e,t)=>e===t;function c(e=a.t){const t=e===a.t?r.n:(0,r.b)(e);return function(e,n={}){const{equalityFn:r=s,stabilityCheck:a,noopCheck:l}="function"==typeof n?{equalityFn:n}:n,{store:c,subscription:u,getServerState:d,stabilityCheck:m,noopCheck:p}=t(),g=((0,o.useRef)(!0),(0,o.useCallback)({[e.name]:t=>e(t)}[e.name],[e,m,a])),f=i(u.addNestedSub,c.getState,d||c.getState,g,r);return(0,o.useDebugValue)(f),f}}const u=c()},99:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var o=n(93345),r=n.n(o),a=n(50861),i=n(5556),l=n.n(i),s=n(19357),c=n(55833),u=n(7475),d=n(63767),m=n(35725),p=n(78185),g=n(61574),f=n(71519),y=n(57697),b=n(25587),h=n(88993);const I=({index:e})=>r().createElement("div",null,r().createElement(u.Tooltip,{content:r().createElement("div",null,"More options"),triggerRef:()=>document.getElementById(`pf-dropdown-toggle-id-${e}`)}));I.propTypes={index:l().number};const v=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],C=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,m.B)(15)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,m.B)(15)]},{title:"Release",type:"distribution",options:h.WT,sort:!1,columnTransforms:[(0,m.B)(15)]},{title:"Target",type:"outputTypes",sort:!1,columnTransforms:[(0,m.B)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,m.B)(15)]},{title:"Created/Updated",type:"updated_at",sort:!0,columnTransforms:[(0,m.B)(35)]}],S=(e,t,n,o)=>e.map(((e,a)=>({rowInfo:{id:e?.ID,imageStatus:e?.Status,distribution:e?.Distribution,outputType:e?.OutputTypes,isoURL:e?.ImageBuildIsoURL||null,latestImageID:e?.ImageID},cells:[{title:(0,c.d)({pathname:`${t}/${e?.ID}`,linkText:e?.Name,history:n,navigate:o})},e?.Version,{title:h.WT[e?.Distribution]},2==e?.OutputTypes.length?"Bare Metal Installer":"Update Only",{title:r().createElement(r().Fragment,null,r().createElement(I,{index:a}),r().createElement(y.A,{type:e?.Status.toLowerCase()}))},{title:e?.UpdatedAt?r().createElement(d.A,{date:e?.UpdatedAt}):"Unknown"}]}))),E=({pathPrefix:e,urlName:t,historyProp:n,locationProp:o,navigateProp:i,data:l,count:u,isLoading:d,docLinkProp:m,hasError:y,fetchImageSets:h,openCreateWizard:I,openUpdateWizard:E,hasModalSubmitted:D,setHasModalSubmitted:x})=>{const T=void 0===m?"https://access.redhat.com/documentation/en-us/edge_management/2022/html/create_rhel_for_edge_images_and_configure_automated_management/index":m,{search:k}=o?o():g.zy?(0,g.zy)():null,w=n?n():g.W6?(0,g.W6)():null,U=i?i():f.useNavigate?(0,f.useNavigate)():null,P=(0,b.l)(`edge${s.J.manageImages}`,e,t);return r().createElement(r().Fragment,null,(0,c.Rj)(d,u,k)?r().createElement(p.A,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Create an OSTree image",body:["Image builder is a tool to compose customized RHEL (rpm-ostree) images optimized for Edge. ","With OSTree, you can manage the system software by referencing a central image repository. Images contain a complete operating system ready to be remotely installed at scale. Updates to images are tracked through commits and enable secure updates that only address changes and keep the operating system unchanged. Image updates are quick, and rollbacks are easy."],secondaryActions:[{type:"link",title:"Learn more about OSTree.",link:"https://ostreedev.github.io/ostree/"},{variant:"primary",className:"edge-stretched-button",onClick:()=>I(),type:"button",title:"Create image."},{type:"link",iconPosition:"left",title:"Image builder for OSTree documentation",link:T}]}):r().createElement(a.A,{apiFilterSort:!0,historyProp:n,locationProp:o,navigateProp:i,isUseApi:!0,filters:v,loadTableData:h,tableData:{count:u,data:l,isLoading:d,hasError:y},columnNames:C,rows:l?S(l,P,w,U):[],actionResolver:e=>{const t=[];return e.rowInfo?.isoURL&&t.push({title:"Download",onClick:(e,t,n)=>{window.open(n.rowInfo?.isoURL)}}),"SUCCESS"!==e.rowInfo?.imageStatus&&"ERROR"!==e.rowInfo?.imageStatus||t.push({title:"Update Image",onClick:(e,t,n)=>{E(n.rowInfo?.latestImageID)}}),"BUILDING"===e.rowInfo?.imageStatus&&e.rowInfo?.id&&t.push({title:""}),t},areActionsDisabled:e=>"BUILDING"===e.rowInfo?.imageStatus,defaultSort:{index:5,direction:"desc"},toolbarButtons:[{title:"Create new image",click:()=>I()}],hasModalSubmitted:D,setHasModalSubmitted:x}))};E.propTypes={pathPrefix:l().string,urlName:l().string,historyProp:l().func,locationProp:l().func,navigateProp:l().func,data:l().array,count:l().number,isLoading:l().bool,hasError:l().bool,fetchImageSets:l().func,clearFilters:l().func,openCreateWizard:l().func,openUpdateWizard:l().func,filters:l().array,pagination:l().shape({page:l().number,perPage:l().number}),hasModalSubmitted:l().bool,setHasModalSubmitted:l().func,docLinkProp:l().string};const D=E},25587:(e,t,n)=>{"use strict";n.d(t,{E:()=>r,l:()=>o});const o=(e,t,n)=>{let o=e;if(t||n){let e=[];t&&e.push(t),n&&e.push(n),o=e.join("/")}return o},r=(e,t)=>!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")},57697:(e,t,n)=>{"use strict";n.d(t,{A:()=>g,N:()=>m});var o=n(93345),r=n.n(o),a=n(5556),i=n.n(a),l=n(53707),s=n(7475),c=n(6961),u=n(88993);const d={booting:{text:"Booting",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:u.l_.exclamationTriangle,color:u.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:u.l_.timesCircle,color:u.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:u.l_.unknown},interrupted:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:u.l_.exclamationCircle,color:u.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:u.l_.exclamationCircle,color:u.Fm.red,labelColor:"red"}},m=(e,t,n)=>"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate",p=({id:e,type:t,isLabel:n=!1,toolTipContent:o="",className:a="",isLink:i})=>{const{text:u,Icon:m,color:p,labelColor:g}=Object.prototype.hasOwnProperty.call(d,t)?d[t]:d.default;return r().createElement(r().Fragment,null,n?r().createElement(l.Label,{id:e,color:g,icon:r().createElement(m,null),className:a},u):r().createElement(c.Split,{id:e,style:{color:p},className:a},r().createElement(c.SplitItem,{className:"pf-u-mr-sm"},o?r().createElement(s.Tooltip,{content:"blargh"},r().createElement(m,null)):r().createElement(m,null)),r().createElement(c.SplitItem,null,r().createElement("p",{style:i?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},u))))},g=p;p.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},p.defaultProps={id:"status"}},19357:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});const o={groups:"/groups",groupsDetail:"/groups/:uuid",deviceDetail:"/groups/:uuid/:inventoryId",canaries:"/canaries",fleetManagement:"/fleet-management",fleetManagementDetail:"/fleet-management/:groupId",fleetManagementSystemDetail:"/fleet-management/:groupId/systems/:deviceId",fleetManagementSystemDetailUpdate:"/fleet-management/:groupId/systems/:deviceId/update",inventory:"/inventory",insightsInventory:"/insights/inventory/manage-edge-inventory",inventoryDetail:"/inventory/:deviceId",inventoryDetailModal:"/inventory/:deviceId/:modalId",inventoryDetailUpdate:"/inventory/:deviceId/update",insightsInventoryDetailUpdate:"/insights/inventory/:deviceId/update",manageImages:"/manage-images",manageImagesDetail:"/manage-images/:imageId",manageImagesDetailVersion:"/manage-images/:imageId/versions/:imageVersionId",repositories:"/repositories",learningResources:"/learning-resources",contentSourcesRepositories:"/preview/insights/content"}},21741:()=>{},30935:()=>{},74778:()=>{},97553:()=>{}}]);