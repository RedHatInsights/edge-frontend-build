/*! For license information please see DevicesGroupDetail.ab533887eeb54c7536a9.js.LICENSE.txt */
(self.webpackChunkedge=self.webpackChunkedge||[]).push([[2762,6043,4075,1575,3920],{96926:(e,t,n)=>{"use strict";n.d(t,{_V:()=>a,tE:()=>o,vn:()=>i});var r="@@INSIGHTS-CORE/NOTIFICATIONS/",a="".concat(r,"ADD_NOTIFICATION"),o="".concat(r,"REMOVE_NOTIFICATION"),i="".concat(r,"CLEAR_NOTIFICATIONS")},14190:(e,t,n)=>{"use strict";n.d(t,{SP:()=>s,ww:()=>i,z8:()=>o});var r=n(96926),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},a.apply(this,arguments)},o=function(e){return{type:r._V,payload:a({id:"cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2)},e)}},i=function(e){return{type:r.tE,payload:e}},s=function(){return{type:r.vn}}},11830:(e,t,n)=>{"use strict";n.d(t,{z8:()=>a.z8,fr:()=>s});var r=n(96926),a=n(14190),o=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},i=[];const s=function(e,t){switch(void 0===e&&(e=i),t.type){case r._V:return function(e,t){var n=t.payload;return o(o([],e,!0),[n],!1)}(e,t);case r.tE:return function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));return o(o([],e.slice(0,r),!0),e.slice(r+1),!0)}(e,t);case r.vn:return[];default:return e}}},63767:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(74848),a=n(93345),o=n.n(a),i=n(59304),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},l=36e5,c=24*l,u=30*c,d=365*c,p=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},m=[{rightBound:1/0,description:function(e){return p(Math.round(e/d),"year")}},{rightBound:d,description:function(e){return p(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return p(Math.round(e/c),"day")}},{rightBound:c,description:function(e){return p(Math.round(e/l),"hour")}},{rightBound:l,description:function(e){return p(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],f=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},g=function(e){return{exact:function(e){return f(e)+" UTC"},onlyDate:function(e){return f(e).slice(0,-6)},relative:function(e){return m.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),f(e))},invalid:function(){return"Invalid date"}}[e]},v=function(e,t,n){return{exact:function(t){return g(e)(t)},onlyDate:function(t){return g(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),(0,r.jsx)(i.Tooltip,s({},n,{content:(0,r.jsxs)("div",{children:[a,e]}),children:t}))}(g("exact")(a),(0,r.jsx)("span",{children:g(e)(a)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,i=e.extraTitle,s=e.tooltipProps,l=t instanceof Date?t:new Date(t),c=null==t||"Invalid Date"===l.toString()?"invalid":a;return(0,r.jsx)(o().Fragment,{children:v(c,s,i)(l)})}},16594:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(74848),a=n(46942),o=n.n(a),i=n(93345);const s=n.n(i)().createContext("light");var l=n(69),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const u=function(e){var t=e.className,n=e.children,a=e.ouiaId,i=e.ouiaSafe,u=void 0===i||i,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children","ouiaId","ouiaSafe"]),p=o()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),m="RHI/Header",f=(0,l.useOUIAId)(m,a,u);return(0,r.jsx)(s.Consumer,{children:function(e){var t,a;void 0===e&&(e="light");var i=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((a={})["pf-m-light"]="light"===e,a));return(0,r.jsx)("section",c({"data-ouia-component-type":m,"data-ouia-component-id":f,"data-ouia-safe":u},d,{className:"".concat(p," ").concat(i),"widget-type":"InsightsPageHeader",children:n}))}})}},16401:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(74848),a=n(46942),o=n.n(a),i=n(63068),s=n(69),l=n(86228),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const u=function(e){var t=e.className,n=e.title,a=e.actionsContent,u=e.ouiaId,d=e.ouiaSafe,p=void 0===d||d,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),f=o()(t),g="RHI/Header",v=(0,s.useOUIAId)(g,u,p);return(0,r.jsxs)(l.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,r.jsx)(l.FlexItem,{className:"pf-v5-u-flex-grow-1",children:(0,r.jsx)(i.Title,c({headingLevel:"h1",size:"2xl",className:f,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":v,"data-ouia-safe":p},m,{children:n}))}),a?(0,r.jsx)(l.FlexItem,{children:a}):null]})}},34932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},83120:(e,t,n)=>{var r=n(14528),a=n(45891);e.exports=function e(t,n,o,i,s){var l=-1,c=t.length;for(o||(o=a),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,i,s):r(s,u):i||(s[s.length]=u)}return s}},47422:(e,t,n)=>{var r=n(31769),a=n(77797);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[a(t[n++])];return n&&n==o?e:void 0}},77556:(e,t,n)=>{var r=n(51873),a=n(34932),o=n(56449),i=n(44394),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},31769:(e,t,n)=>{var r=n(56449),a=n(28586),o=n(61802),i=n(13222);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:o(i(e))}},45891:(e,t,n)=>{var r=n(51873),a=n(72428),o=n(56449),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},28586:(e,t,n)=>{var r=n(56449),a=n(44394),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||i.test(e)||!o.test(e)||null!=t&&e in Object(t)}},62224:(e,t,n)=>{var r=n(50104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},61802:(e,t,n)=>{var r=n(62224),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,r,a){t.push(r?a.replace(o,"$1"):n||e)})),t}));e.exports=i},77797:(e,t,n)=>{var r=n(44394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},58156:(e,t,n)=>{var r=n(47422);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},44394:(e,t,n)=>{var r=n(72552),a=n(40346);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},50104:(e,t,n)=>{var r=n(53661);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],o=n.cache;if(o.has(a))return o.get(a);var i=e.apply(this,r);return n.cache=o.set(a,i)||o,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},13222:(e,t,n)=>{var r=n(77556);e.exports=function(e){return null==e?"":r(e)}},96338:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(41458),a=n(387);function o(e=r.t){const t=e===r.t?a.P:(0,a.N)(e);return function(){return t().dispatch}}const i=o()},42506:(e,t,n)=>{"use strict";n.d(t,{d4:()=>u,ld:()=>s});var r=n(93345),a=n(3769),o=n(41458);let i=n(96344).w;const s=e=>{i=e},l=(e,t)=>e===t;function c(e=o.t){const t=e===o.t?a.n:(0,a.b)(e);return function(e,n={}){const{equalityFn:a=l,stabilityCheck:o,noopCheck:s}="function"==typeof n?{equalityFn:n}:n,{store:c,subscription:u,getServerState:d,stabilityCheck:p,noopCheck:m}=t(),f=((0,r.useRef)(!0),(0,r.useCallback)({[e.name]:t=>e(t)}[e.name],[e,p,o])),g=i(u.addNestedSub,c.getState,d||c.getState,f,a);return(0,r.useDebugValue)(g),g}}const u=c()},43920:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(93345),a=n.n(r),o=n(50861),i=n(5556),s=n.n(i),l=n(19357),c=n(61574),u=n(71519),d=n(63767),p=n(35725),m=n(7475),f=n(78185),g=n(55833),v=n(57697),h=n(53320),y=n(51102);const b=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Update available",value:"updateAvailable"}]}],I=(e,t,n,r,o,i,s,c)=>e?.map((e=>{let{DeviceName:o,DeviceGroups:u}=e;const{DeviceID:p,DeviceUUID:f,UpdateAvailable:y,LastSeen:b,ImageName:I,ImageSetID:S,Status:E,DispatcherStatus:D,GroupName:w,GroupUUID:A}=e,x=(0,v.N)(E,y,D);""===o&&(o="localhost"),s&&(u=w&&A?[{ID:A,Name:w}]:[]),null===u&&(u=[]);const k=a().createElement("div",null,a().createElement(m.Tooltip,{content:a().createElement("div",null,u.map(((e,t)=>a().createElement("p",{key:t},e.Name))))},a().createElement("span",null,"Multiple groups"))),C="federated"!==r?`edge${l.J.inventory}/${f}`:`insights/inventory/${f}`,O="federated"!==r?`edge${l.J.manageImages}/${S}`:`insights/image-builder/manage-edge-images/${S}`;return{rowInfo:{deviceID:p,id:f,display_name:o,updateImageData:y,deviceStatus:(0,v.N)(E,y,D),imageSetId:S,imageName:I,deviceGroups:u},noApiSortFilter:[o||"",I||"","",b||"",(0,v.N)(E,y)],cells:[{title:t?(0,g.d)({pathname:C,linkText:o,navigate:i}):o},{title:I?t?(0,g.d)({pathname:O,linkText:I,navigate:i}):I:"unavailable"},{title:0===u.length?a().createElement("div",{className:"pf-v5-u-disabled-color-200"},"No"," ",s&&c?"workspace":"group"):1===u.length?u[0].Name:k},{title:b?a().createElement(d.A,{date:b}):"Unknown"},{title:"error"===x||"unresponsive"===x?a().createElement(h.A,{lastSeen:b,fetchDevices:n,device:e},a().createElement(v.A,{type:"error"===x?"errorWithExclamationCircle":x,isLink:!0})):a().createElement(v.A,{type:"error"===x?"errorWithExclamationCircle":x})}]}})),S=({navigateProp:e,historyProp:t,locationProp:n,hasCheckbox:r=!1,selectedItems:i,selectedItemsUpdateable:s,skeletonRowQuantity:d,data:m,count:v,isLoading:h,hasError:S,kebabItems:E,setRemoveModal:D,setIsAddModalOpen:w,handleAddDevicesToGroup:A,handleRemoveDevicesFromGroup:x,handleEditNameSystem:k,handleDeleteSystem:C,handleUpdateSelected:O,hasModalSubmitted:T,setHasModalSubmitted:N,fetchDevices:P,isSystemsView:U=!1,isAddSystemsView:_=!1,urlName:$,enforceEdgeGroups:j})=>{const M=D,R=U,F=t?t():c.W6?(0,c.W6)():null,G=e?e():u.useNavigate?(0,u.useNavigate)():null,{pathname:L,search:V}=n?n():c.zy?(0,c.zy)():null,z=(0,g.h)(y.xo),H=!j&&z,B=(0,g.h)(y.QX),W=e?"federated":L===l.J.inventory?L:"/"===L?"":`${L}/systems`,q=(0,g.h)(y.Cd);let Q=[],J=[];const X=!!m&&m.length>0,Y=((e,t,n)=>[{title:"Name",type:"name",sort:t,columnTransforms:[(0,p.B)(25)]},{title:"Image",type:"image",sort:!1,columnTransforms:[(0,p.B)(20)]},{title:e?n?"Workspace":"Group":"Groups",type:"groups",sort:!1,columnTransforms:[(0,p.B)(15)]},{title:"Last seen",type:"last_seen",sort:t,columnTransforms:[(0,p.B)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,p.B)(25)]}])(H,X,B);if("manage-edge-inventory"===$){for(let e=0;e<b.length;e++){let t=b[e];"Status"===t.label&&(t.label="Image status"),Q.push(t)}for(let e=0;e<Y.length;e++){let t=Y[e];"Status"===t.title&&(t.title="Image status"),J.push(t)}}else Q=b,J=Y;return a().createElement("div",{className:"edge"},a().createElement(a().Fragment,null,U&&(0,g.Rj)(h,v,V)&&!t?a().createElement(f.A,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Connect edge systems",body:"Connect and manage edge systems here after registering them via the console. To start, create a RHEL for Edge image and install it to your target system.",secondaryActions:[{title:"Create RHEL for Edge images and configure automated management",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/create_rhel_for_edge_images_and_configure_automated_management/index",type:"link"}]}):a().createElement(o.A,{historyProp:t,navigateProp:e,locationProp:n,apiFilterSort:!0,isUseApi:!0,filters:Q,filtersName:"edge-devices-table-filters",loadTableData:P,tableData:{count:v,isLoading:h,hasError:S},columnNames:J,rows:I(m||[],_||U,P,W,0,G,H,B),actionResolver:t=>{const n=t=>e?`/insights/inventory/${t.rowInfo.id}/update`:`/inventory/${t.rowInfo.id}/update`,r=[];return h?r:t?.rowInfo?.id?(A&&!q&&r.push({title:"Add to "+(H&&B?"workspace":"group"),isDisabled:!!H&&0!==t?.rowInfo?.deviceGroups.length,onClick:()=>A([{ID:t.rowInfo.deviceID,name:t.rowInfo.display_name,UUID:t.rowInfo.id}],!0)}),k&&r.push({title:"Edit",onClick:()=>k([{ID:t.rowInfo.deviceID,name:t.rowInfo.display_name,UUID:t.rowInfo.id}],!0)}),C&&r.push({title:"Delete",onClick:()=>C([{ID:t.rowInfo.deviceID,display_name:t.rowInfo.display_name,UUID:t.rowInfo.id}],!0)}),x&&!q&&r.push({title:"Remove from "+(H&&B?"workspace":"group"),isDisabled:0===t?.rowInfo?.deviceGroups.length,onClick:()=>x([{ID:t.rowInfo.deviceID,name:t.rowInfo.display_name,deviceGroups:t.rowInfo.deviceGroups,UUID:t.rowInfo.id}],!0)}),!(e=>!e.rowInfo?.UpdateAvailable&&("updating"===e.rowInfo?.deviceStatus||"upToDate"===e.rowInfo?.deviceStatus))(t)&&O&&r.push({title:"Update",onClick:(t,r,a)=>{if(e){const e=n(a);G(e,{replace:!0})}else F.push({pathname:n(a)})}}),M&&r.push({title:"Remove from "+(H&&B?"workspace":"group"),onClick:()=>D({name:t.rowInfo.display_name,isOpen:!0,deviceId:t.rowInfo.deviceID})}),r):r},defaultSort:{index:3,direction:"desc"},toolbarButtons:R?[{isDisabled:!s,title:"Update",id:"toolbar-update-button",click:()=>O()}]:[],hasCheckbox:r,selectedItems:i,skeletonRowQuantity:d,kebabItems:E,hasModalSubmitted:T,setHasModalSubmitted:N})))};S.propTypes={navigateProp:s().func,historyProp:s().func,locationProp:s().func,imageData:s().object,urlParam:s().string,openUpdateWizard:s().func,skeletonRowQuantity:s().number,temp:s().func,hasCheckbox:s().bool,setIsModalOpen:s().func,selectedItems:s().func,selectedItemsUpdateable:s().bool,reload:s().bool,setReload:s().func,data:s().array,count:s().number,isLoading:s().bool,hasError:s().bool,handleSingleDeviceRemoval:s().func,kebabItems:s().array,setRemoveModal:s().func,setIsAddModalOpen:s().func,hasModalSubmitted:s().bool,setHasModalSubmitted:s().func,handleAddDevicesToGroup:s().func,handleRemoveDevicesFromGroup:s().func,handleEditNameSystem:s().func,handleDeleteSystem:s().func,handleUpdateSelected:s().func,fetchDevices:s().func,isSystemsView:s().bool,isAddSystemsView:s().bool,urlName:s().string,groupUUID:s().string,enforceEdgeGroups:s().bool};const E=S},13615:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(93345),a=n.n(r),o=n(16594),i=n(16401),s=n(20881),l=n(43920),c=n(9992),u=n(78259),d=n(60732),p=n(61574),m=n(11879),f=n(80475),g=n(5556),v=n.n(g),h=n(55833),y=n(51102);const b=a().lazy((()=>Promise.all([n.e(6863),n.e(9304),n.e(265),n.e(4171),n.e(1657),n.e(6959),n.e(7179),n.e(6459),n.e(4422),n.e(2941)]).then(n.bind(n,27729)))),I=({historyProp:e,navigateProp:t,locationProp:n,showHeaderProp:g,notificationProp:v,urlName:I,groupUUID:S,tableProps:E})=>{const D=(0,s.A)(),w=e?e():p.W6?(0,p.W6)():null,{pathname:A}=n?n():p.zy?(0,p.zy)():null,[x,k]=(0,u.A)({api:d.VR,id:S,tableReload:!0}),C=void 0===g||g,{data:O,isLoading:T,hasError:N}=x,[P,U]=(0,r.useState)(!1),[_,$]=(0,r.useState)([]),[j,M]=(0,r.useState)([]),[R,F]=(0,r.useState)(!1),[G,L]=(0,r.useState)(!1),[V,z]=(0,r.useState)({isOpen:!1,deviceData:null,imageData:null}),H=(0,h.h)(y.xo),B=(0,h.h)(y.QX),W=(e,t)=>{U(!0),t?$(e):M(e),F(t)},q=async()=>{await k(),L(!0)};let Q="";void 0!==g&&C?Q="edge-devices pf-l-page__main-section pf-c-page__main-section":C||(Q="pf-c-toolbar"),(0,r.useEffect)((()=>{D?.updateDocumentTitle?.("Systems - Inventory")}),[D]);const J=[];if(!(0,h.h)(y.Cd)){const e=[];H&&e.push({isDisabled:!(j.length>0)||j.filter((e=>void 0===e.deviceGroups||0===e.deviceGroups.length)).length>0||1!==j.reduce(((e,t)=>{const n=(t.deviceGroups?t.deviceGroups.map((e=>e.ID)):[]).filter((t=>!e.includes(t)));return e.push(...n),e}),[]).length,title:"Remove from "+(B?"workspace":"group"),onClick:()=>W(j.map((e=>({ID:e.deviceID,name:e.display_name,UUID:e.id,deviceGroups:e.deviceGroups}))),!1)}),J.push(...e)}return a().createElement(a().Fragment,null,C&&a().createElement(o.A,{className:"pf-m-light"},a().createElement(i.A,{title:"Systems"})),C,a().createElement("section",{className:Q},a().createElement(l.default,{historyProp:e,navigateProp:t,locationProp:n,isSystemsView:!0,data:O?.data?.devices,count:O?.count,isLoading:T,hasError:N,setUpdateModal:z,updateModal:V,handleRemoveDevicesFromGroup:W,handleUpdateSelected:()=>{z((e=>({...e,deviceData:j.map((e=>({id:e.id,display_name:e.display_name,deviceStatus:e.deviceStatus}))),imageData:{imageName:j[0].imageName},imageSetId:j[0].imageSetId,isOpen:!0})))},hasCheckbox:!0,selectedItems:M,selectedItemsUpdateable:(()=>{let e=!1;if(j.length>0){let t=j[0].imageSetId;for(let n of j){if(n.imageSetId!==t){e=!1;break}(!e&&n.updateImageData&&"updateAvailable"===n.deviceStatus||"unresponsive"===n.deviceStatus||"error"===n.deviceStatus)&&(e=!0)}}return e})(),kebabItems:J.length>0?J:void 0,hasModalSubmitted:G,setHasModalSubmitted:L,fetchDevices:k,urlName:I,tableProps:E})),V.isOpen&&a().createElement(r.Suspense,{fallback:a().createElement(m.Bullseye,null,a().createElement(f.Spinner,null))},a().createElement(b,{navigateBack:()=>{w.push({pathname:A}),z((e=>(console.log("Click modal"),{...e,isOpen:!1})))},setUpdateModal:z,updateModal:V,notificationProp:v,refreshTable:q})),P&&a().createElement(c.A,{isModalOpen:P,setIsModalOpen:U,reloadData:q,deviceInfo:R?_:j}))};I.propTypes={historyProp:v().func,navigateProp:v().func,locationProp:v().func,showHeaderProp:v().bool,notificationProp:v().object,urlName:v().string,groupUUID:v().string,tableProps:v().object};const S=I},9992:(e,t,n)=>{"use strict";n.d(t,{A:()=>T});var r=n(93345),a=n.n(r),o=n(5556),i=n.n(o),s=n(95658),l=n(57502),c=n(59409),u=n(5029),d=n(18960),p=n(11522),m=n(81558);const f=e=>{(0,p.A)(e);const{change:t}=(0,m.default)(),[n,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(null),l=()=>{s(null),t("group",null),o(!1)};return a().createElement(a().Fragment,null,a().createElement(u.l,{variant:"typeahead",typeAheadAriaLabel:"Select a state",onToggle:(e,t)=>(e=>o(e))(t),onSelect:(e,n,r)=>{r?l():(s(n),o(!1)),t("group",n)},onClear:l,selections:i,isOpen:n,"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click select group"},e.defaultOptions.map((({DeviceGroup:e},t)=>a().createElement(d.O,{key:t,value:{toString:()=>e.Name,groupId:e.ID},...e.description&&{description:e.description}})))))};f.propTypes={defaultOptions:i().array};const g=f;var v=n(55270),h=n(84577),y=n(36870),b=n(55729),I=n(22357),S=n(73262),E=n.n(S),D=n(40343),w=n(55833),A=n(51102);const x=(e,t)=>{const{deviceGroups:n}=e[0],r=e.length>1?`${e.length} systems`:e[0].name,o=1===n.length?n[0].Name:`${n.length} groups`;return t?a().createElement(b.Text,null,a().createElement("strong",null,r," ")," will no longer be part of"," ",a().createElement("strong",null,o)," and its configuration will be impacted."):n.length>1?a().createElement(b.Text,null,"Select the group you want to remove ",a().createElement("strong",null,r)," from."):a().createElement(b.Text,null,"Do you want to remove ",a().createElement("strong",null,r," ")," from"," ",a().createElement("strong",null,o),"?")},k=()=>a().createElement(I.Icon,{status:"warning"},a().createElement(E(),null)),C=(e,t)=>{const n={fields:[{component:l.A.PLAIN_TEXT,name:"description",label:x(e,t)}]};return e[0].deviceGroups.length>1&&n.fields.push({component:"search-input",name:"group",label:"Select a group",isRequired:!0,validate:[{type:s.A.REQUIRED}]}),n},O=({isModalOpen:e,setIsModalOpen:t,reloadData:n,deviceInfo:r})=>{const o=(0,y.wA)(),[i]=(0,D.A)(!1),s=(0,w.h)(A.QX),{deviceGroups:l}=r[0];return a().createElement(c.A,{isOpen:e,variant:"danger",closeModal:()=>t(!1),title:"Remove from "+(i&&s?"workspace":"group"),submitLabel:"Remove",titleIconVariant:k,additionalMappers:{"search-input":{component:g,defaultOptions:l.map((e=>({DeviceGroup:e})))||[]}},schema:C(r,i),onSubmit:e=>{const t=l.length>1,n=t?e.group.toString():l[0].Name,a=t?e.group.groupId:l[0].ID,s={onSuccess:{title:"Success",description:`${r.length>1?`${r.length} systems`:r[0].name} has been removed from ${n} successfully`},onError:{title:"Error",description:i?r.length>1?`Failed to remove ${r.length} systems from ${n}`:`Failed to remove 1 system from ${n}`:"Failed to remove system from group"}};let c;c=i?()=>(0,h.ny)(a,r.map((e=>e.UUID))):()=>(0,h.cA)(a,r[0].ID),(0,v.A)(o,c,s)},reloadData:n})},T=O;O.propTypes={isModalOpen:i().bool,setIsModalOpen:i().func,reloadData:i().func,deviceInfo:i().array}},53320:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var r=n(93345),a=n.n(r),o=n(22359),i=n(90555),s=n(60107),l=n(10341),c=n(65842),u=n.n(c),d=n(63767),p=n(55270),m=n(60732),f=n(36870),g=n(5556),v=n.n(g);const h="The playbook failed to run.",y="The service timed out during the last update.",b="UNRESPONSIVE",I=(e,t,n)=>a().createElement("div",null,e===h?"The playbook failed to run. You can retry the update or build a new one.":e===y?"The service timed out during the last update. You can retry the update or build a new one.":t===b?"The service could not be reached via RHC. The system may communicate at a later time if this is a network issue or could be an indication of a more significant problem.":"Unknown",a().createElement(l.Stack,{className:"pf-u-mt-sm"},a().createElement(l.StackItem,{className:"pf-u-font-weight-bold"},"Last seen"),a().createElement(l.StackItem,null," ",a().createElement(d.A,{date:n})))),S=({id:e,device:t,position:n,fetchDevices:l,lastSeen:c,children:d})=>{const[g,v]=(0,r.useState)(!1),S=(0,f.wA)(),E={onSuccess:{variant:"info",title:"Updating system",description:`${t.DeviceName} was added to the queue.`}};return a().createElement(s.DescriptionListGroup,null,a().createElement(s.DescriptionListTermHelpText,null,a().createElement(o.Popover,{id:e,isVisible:g,shouldOpen:()=>v(!0),shouldClose:()=>v(!1),"aria-label":"Alert popover",alertseverityvariant:"danger",headerContent:a().createElement("div",{style:{color:"#c9190b"}}," ",a().createElement(u(),{size:"sm"}),(D=t.DispatcherReason,w=t.DispatcherStatus,a().createElement("span",{className:"pf-u-ml-xs"},D===h?"Playbook error":D===y?"Service timed out":w===b?"Unresponsive":"Unknown"))),icon:"true",variant:"icon",color:"red",position:n,headerComponent:"h6",bodyContent:I(t.DispatcherReason,t.DispatcherStatus,c),footerContent:t.DispatcherStatus!==b?a().createElement(i.Button,{variant:"link",isInline:!0,onClick:()=>{(0,p.A)(S,(async()=>{await(0,m.Pn)({DevicesUUID:[t.DeviceUUID]}),v(!1),l()}),E)}}," ","Retry"," "):""},d)),a().createElement(s.DescriptionListDescription,null," "));var D,w};S.propTypes={id:v().string,lastSeen:v().string,children:v().element,device:v().object,position:v().string,fetchDevices:v().func},S.defaultProps={position:"left",id:"retry-update"};const E=S},84577:(e,t,n)=>{"use strict";n.d(t,{Df:()=>l,EI:()=>i,FW:()=>p,HG:()=>f,HN:()=>m,Hk:()=>u,Lv:()=>d,Qo:()=>c,R4:()=>h,cA:()=>v,f:()=>s,f4:()=>b,ny:()=>g,se:()=>y,wj:()=>o});var r=n(11268),a=n(56830);const o=e=>a.instance.post(`${r.rm}/device-groups/`,{Name:e.name,Type:"static"}),i=e=>a.instance.post(`${r.kb}/groups`,{name:e.name}),s=({query:e})=>{const t=(0,r.Lm)(e);return a.instance.get(`${r.rm}/device-groups?${t}`)},l=({query:e})=>{const t=(0,r.Lm)(e);return a.instance.get(`${r.kb}/groups?${t}`)},c=({id:e,query:t})=>{const n=(0,r.Lm)(t);return a.instance.get(`${r.rm}/device-groups/${e}/view?${n}`)},u=(e,t)=>a.instance.put(`${r.rm}/device-groups/${e}`,{Name:t.name,Type:"static"}),d=e=>a.instance.delete(`${r.rm}/device-groups/${e}`),p=(e,t)=>a.instance.post(`${r.rm}/device-groups/${e}/devices`,{ID:e,Devices:t}),m=(e,t)=>{const n=[];return t.forEach((e=>n.push(e.UUID))),a.instance.post(`${r.kb}/groups/${e}/hosts`,n)},f=(e,t)=>a.instance.delete(`${r.rm}/device-groups/${e}/devices`,{data:{ID:e,Devices:t}}),g=(e,t)=>a.instance.delete(`${r.kb}/groups/${e}/hosts/`+t.join(",")),v=(e,t)=>a.instance.delete(`${r.rm}/device-groups/${e}/devices/${t}`),h=e=>a.instance.get(`${r.rm}/device-groups/checkName/${e}`),y=()=>a.instance.get(`${r.rm}/device-groups/enforce-edge-groups`),b=e=>a.instance.get(`${r.kb}/groups?name=${e}&order_by=name&order_how=ASC`)},59409:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(93345),a=n.n(r),o=n(48263),i=n(97744),s=n(63537),l=n(24408),c=n(5556),u=n.n(c);const d=({isOpen:e,title:t,titleIconVariant:n,closeModal:r,submitLabel:c,schema:u,initialValues:d,variant:p,reloadData:m,size:f,onSubmit:g,additionalMappers:v,validatorMapper:h})=>a().createElement(o.Modal,{variant:f??"small",title:t,titleIconVariant:n??null,isOpen:e,onClose:r},a().createElement(i.A,{schema:u,validatorMapper:h,FormTemplate:e=>a().createElement(s.Ay,{...e,submitLabel:c,disableSubmit:["invalid"],buttonsProps:{submit:{variant:p}}}),initialValues:d,componentMapper:v?{...v,...l.Ay}:l.Ay,onSubmit:async e=>{await g(e),setTimeout((async()=>await m()),500),r()},onCancel:()=>r()}));d.propTypes={isOpen:u().bool,title:u().string,closeModal:u().func,reloadData:u().func,submitLabel:u().string,schema:u().object,initialValues:u().object,variant:u().string,onSubmit:u().func,size:u().string,additionalMappers:u().object,titleIconVariant:u().any,validatorMapper:u().object};const p=d},57697:(e,t,n)=>{"use strict";n.d(t,{A:()=>f,N:()=>p});var r=n(93345),a=n.n(r),o=n(5556),i=n.n(o),s=n(53707),l=n(7475),c=n(6961),u=n(88993);const d={booting:{text:"Booting",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:u.l_.checkCircle,color:u.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:u.l_.exclamationTriangle,color:u.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:u.l_.timesCircle,color:u.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:u.l_.unknown},interrupted:{text:"Image build in progress",Icon:u.l_.inProgress,color:u.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:u.l_.exclamationCircle,color:u.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:u.l_.exclamationCircle,color:u.Fm.red,labelColor:"red"}},p=(e,t,n)=>"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate",m=({id:e,type:t,isLabel:n=!1,toolTipContent:r="",className:o="",isLink:i})=>{const{text:u,Icon:p,color:m,labelColor:f}=Object.prototype.hasOwnProperty.call(d,t)?d[t]:d.default;return a().createElement(a().Fragment,null,n?a().createElement(s.Label,{id:e,color:f,icon:a().createElement(p,null),className:o},u):a().createElement(c.Split,{id:e,style:{color:m},className:o},a().createElement(c.SplitItem,{className:"pf-u-mr-sm"},r?a().createElement(l.Tooltip,{content:"blargh"},a().createElement(p,null)):a().createElement(p,null)),a().createElement(c.SplitItem,null,a().createElement("p",{style:i?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},u))))},f=m;m.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},m.defaultProps={id:"status"}},51102:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>a,QX:()=>o,xo:()=>r});const r="edgeParity.inventory-groups-enabled",a="edge-management.hide_groups_actions",o="platform.rbac.groups-to-workspaces-rename"},19357:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={groups:"/groups",groupsDetail:"/groups/:uuid",deviceDetail:"/groups/:uuid/:inventoryId",canaries:"/canaries",fleetManagement:"/fleet-management",fleetManagementDetail:"/fleet-management/:groupId",fleetManagementSystemDetail:"/fleet-management/:groupId/systems/:deviceId",fleetManagementSystemDetailUpdate:"/fleet-management/:groupId/systems/:deviceId/update",inventory:"/inventory",insightsInventory:"/insights/inventory/manage-edge-inventory",inventoryDetail:"/inventory/:deviceId",inventoryDetailModal:"/inventory/:deviceId/:modalId",inventoryDetailUpdate:"/inventory/:deviceId/update",insightsInventoryDetailUpdate:"/insights/inventory/:deviceId/update",manageImages:"/manage-images",manageImagesDetail:"/manage-images/:imageId",manageImagesDetailVersion:"/manage-images/:imageId/versions/:imageVersionId",repositories:"/repositories",learningResources:"/learning-resources",contentSourcesRepositories:"/preview/insights/content"}},78259:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(11830),a=n(93345),o=n(36870);const i=({api:e,id:t=null,statusMessages:n,tableReload:i=!1})=>{const s=(0,o.wA)(),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!0),[p,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)((()=>e)),v=n?.onSuccess;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});const h=async(e="")=>{d(!0);try{const a=await f({id:t,query:e});c(a),v&&s({...(0,r.z8)({variant:"success",...n.onSuccess})})}catch(e){m(!0),s({...(0,r.z8)({variant:"danger",...n.onError})})}finally{d(!1)}};return(0,a.useEffect)((()=>{i||h()}),[]),[{data:l,isLoading:u,hasError:p},h,f,g]}},40343:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(93345),a=n(55833),o=n(51102),i=n(84577);const s=e=>{const[t,n]=(0,r.useState)(e),[s,l]=(0,r.useState)(!1),c=(0,a.h)(o.xo);return(0,r.useEffect)((()=>{(async()=>{const e=await(0,i.se)(),t=e?.enforce_edge_groups;n(!t&&c),l(!0)})()}),[]),[t,s]}},55270:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(11830);const a=(e,t,n,a)=>{const o=n?.onSuccess,i=n?.onInfo,s=n?.onWarning;return n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}}),(async()=>{try{const l=await t();return i&&(a?a.hasInfo(n.onInfo):e({...(0,r.z8)({variant:"info",...n.onInfo})})),o&&(a?a.hasSuccess(n.onSuccess):e({...(0,r.z8)({variant:"success",...n.onSuccess})})),s&&(a?a.hasWarning(n.onWarning):e({...(0,r.z8)({variant:"warning",...n.onWarning})})),l}catch(t){return a?a.err(n.onError,t):e({...(0,r.z8)({variant:"danger",...n.onError,description:t?.Title?`${n.onError.description}: ${t.Title}`:n.onError.description})}),t}})()}},25823:()=>{},16369:()=>{},62275:()=>{},89205:()=>{},20681:()=>{},21741:()=>{},30935:()=>{},74778:()=>{},97553:()=>{},46942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},43145:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{A:()=>r})},9417:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>r})},92901:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(20816);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,(0,r.A)(a.key),a)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},64467:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(20816);function a(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},73893:(e,t,n)=>{"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{A:()=>r})},60436:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(43145),a=n(73893),o=n(27800);function i(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||(0,a.A)(e)||(0,o.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},20816:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(82284);function a(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},82284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},27800:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(43145);function a(e,t){if(e){if("string"==typeof e)return(0,r.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(e,t):void 0}}}}]);