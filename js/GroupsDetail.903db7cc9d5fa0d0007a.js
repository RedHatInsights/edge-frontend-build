(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7563,8471,7347,1157,704,6681],{64029:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(70655),r=n(92950),i=n(44303),o=n(38296),c=n(62472);const l=e=>{var{children:t=null,className:n="","aria-label":s="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=(0,a.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=(0,c.S$)(l.displayName,u,d);return r.createElement("nav",Object.assign({},m,{"aria-label":s,className:(0,o.i)(i.Z.breadcrumb,n)},p),r.createElement("ol",{className:i.Z.breadcrumbList},r.Children.map(t,((e,t)=>{const n=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:n}):e}))))};l.displayName="Breadcrumb"},32835:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var a=n(70655),r=n(92950),i=n(93174),o=n(44303),c=n(38296);const l=e=>{var{children:t=null,className:n="",to:l,isActive:s=!1,isDropdown:u=!1,showDivider:d,target:m,component:p="a",render:v}=e,f=(0,a.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=p,g=s?"page":void 0,h=(0,c.i)(o.Z.breadcrumbLink,s&&o.Z.modifiers.current);return r.createElement("li",Object.assign({},f,{className:(0,c.i)(o.Z.breadcrumbItem,n)}),d&&r.createElement("span",{className:o.Z.breadcrumbItemDivider},r.createElement(i.ZP,null)),"button"===p&&r.createElement("button",{className:h,"aria-current":g,type:"button"},t),u&&r.createElement("span",{className:(0,c.i)(o.Z.breadcrumbDropdown)},t),v&&v({className:h,ariaCurrent:g}),l&&!v&&r.createElement(b,{href:l,target:m,className:h,"aria-current":g},t),!l&&"button"!==p&&!u&&t)};l.displayName="BreadcrumbItem"},44303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(58392);const a={breadcrumb:"pf-c-breadcrumb",breadcrumbDropdown:"pf-c-breadcrumb__dropdown",breadcrumbHeading:"pf-c-breadcrumb__heading",breadcrumbItem:"pf-c-breadcrumb__item",breadcrumbItemDivider:"pf-c-breadcrumb__item-divider",breadcrumbLink:"pf-c-breadcrumb__link",breadcrumbList:"pf-c-breadcrumb__list",dropdownToggle:"pf-c-dropdown__toggle",modifiers:{current:"pf-m-current",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},30991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var a=n(93433),r=n(4942),i=n(29439),o=n(92950),c=n.n(o),l=n(64029),s=n(32835),u=n(56787),d=n(84457),m=n(75728),p=n(99355),v=n(28191),f=n(92298),b=n(50383),g=n(75824),h=n(89376),D=n(39173),E=n(3035),y=n(79142),I=n(9192),O=n(5964),S=n(15656),k=n(87029),w=n(15861),Z=n(64687),_=n.n(Z),N=n(47173),C=n(80236),j=n(45697),M=n.n(j),A=n(8027),L=n(96094),P=n(32349),x=n(77760),R=function(e){var t,n=e.groupId,a=e.closeModal,r=e.isOpen,l=e.reloadData,s=e.groupName,u=(0,L.Z)({api:A.$v,tableReload:!0}),d=(0,i.Z)(u,2),m=d[0],p=d[1],v=m.data,f=m.isLoading,b=m.hasError,g=(0,o.useState)([]),h=(0,i.Z)(g,2),D=h[0],E=h[1],y=(0,x.useDispatch)();return c().createElement(C.u,{id:"add-systems-modal",title:"Add systems",position:"top",isOpen:r,onClose:a,variant:"large",actions:[c().createElement(N.zx,{isDisabled:0===D.length,key:"confirm",variant:"primary",onClick:function(){var e={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(s," successfully")},onError:{title:"Error",description:"An error occurred making the request"}};(0,P.Z)(y,(function(){return(0,k.e3)(parseInt(n),D.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((0,w.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),a()}},"Add systems"),c().createElement(N.zx,{key:"cancel",variant:"link",onClick:a},"Cancel")]},c().createElement(S.default,{selectedItems:E,skeletonRowQuantity:15,hasCheckbox:!0,isLoading:f,hasError:b,count:null==v?void 0:v.count,data:(null==v||null===(t=v.data)||void 0===t?void 0:t.devices)||[],fetchDevices:p}))};R.propTypes={groupId:M().string,closeModal:M().func,isOpen:M().bool,reloadData:M().func,groupName:M().string};const T=R;var V=n(48903),B=n(96354),G=n(52643),U=n(37619),z=n(60722),F=n(47906),H=n(61381);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=c().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(4375),n.e(6681)]).then(n.bind(n,68940))}));const W=function(){var e,t,n,r,w,Z,_,N,C,j,M=(0,x.useDispatch)(),A=(0,y.useParams)(),R=(0,y.useHistory)(),$=(0,y.useLocation)(),W=$.search,X=$.pathname,J=A.groupId,K=(0,o.useState)(!1),Y=(0,i.Z)(K,2),ee=Y[0],te=Y[1],ne=(0,o.useState)(!1),ae=(0,i.Z)(ne,2),re=ae[0],ie=ae[1],oe=(0,o.useState)({isOpen:!1,name:"",deviceId:null}),ce=(0,i.Z)(oe,2),le=ce[0],se=ce[1],ue=(0,o.useState)({isOpen:!1,deviceData:null,imageData:null}),de=(0,i.Z)(ue,2),me=de[0],pe=de[1],ve=(0,L.Z)({api:k.VL,id:J,tableReload:!0}),fe=(0,i.Z)(ve,2),be=fe[0],ge=fe[1],he=be.data,De=be.isLoading,Ee=be.hasError,ye=null==he||null===(e=he.DeviceGroup)||void 0===e?void 0:e.Name,Ie=(0,o.useState)([]),Oe=(0,i.Z)(Ie,2),Se=Oe[0],ke=Oe[1],we=(0,o.useState)(!1),Ze=(0,i.Z)(we,2),_e=Ze[0],Ne=Ze[1],Ce=(0,o.useState)({id:null,name:""}),je=(0,i.Z)(Ce,2),Me=je[0],Ae=je[1],Le=(0,o.useState)(!1),Pe=(0,i.Z)(Le,2),xe=Pe[0],Re=Pe[1],Te=(0,o.useState)(!1),Ve=(0,i.Z)(Te,2),Be=Ve[0],Ge=Ve[1],Ue=function(){var e={onSuccess:{title:"Success",description:"".concat(le.name," has been removed successfully")},onError:{title:"Error",description:"Failed to remove system"}};(0,P.Z)(M,(function(){return(0,k._j)(J,le.deviceId)}),e),setTimeout((function(){return Ne(!0)}),800)},ze="Actions for group details view",Fe="group-details-dropdown";return c().createElement(c().Fragment,null,c().createElement(h.Z,{className:"pf-m-light"},ye?c().createElement(l.a,null,c().createElement(s.g,null,c().createElement(y.Link,{to:I._.fleetManagement},"Groups")),c().createElement(s.g,null,ye)):c().createElement(l.a,null,c().createElement(s.g,{isActive:!0},c().createElement(b.O,{width:"100px"}))),c().createElement(v.k,{justifyContent:{default:"justifyContentSpaceBetween"}},c().createElement(f.B,null,ye?c().createElement(D.Z,{title:ye}):c().createElement(b.O,{width:"150px"})),c().createElement(f.B,null,c().createElement(u.L,{position:p.ir.right,toggle:c().createElement(m.Z,{id:Fe,toggleIndicator:O.ZP,onToggle:function(e){return te(e)},isDisabled:!1,"aria-label":ze},c().createElement(g.u,{content:ze,reference:function(){return document.getElementById(Fe)}}),"Actions"),isOpen:ee,dropdownItems:[c().createElement(d.h,{key:"delete-device-group",onClick:function(){return Ae({id:J,name:ye}),void Re(!0)}},"Delete group"),c().createElement(d.h,{key:"rename-device-group",onClick:function(){return Ae({id:J,name:ye}),void Ge(!0)}},"Rename group"),c().createElement(d.h,{key:"update-all-devices",isDisabled:(0,V.yb)({deviceData:null==he||null===(t=he.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{imageSetId:null==e?void 0:e.ImageSetID}})),imageData:null==he||null===(r=he.DevicesView)||void 0===r||null===(w=r.devices)||void 0===w?void 0:w.some((function(e){return e.ImageID}))}),onClick:function(){te(!1),pe((function(e){var t,n,a,r;return q(q({},e),{},{isOpen:!0,deviceData:null==he||null===(t=he.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{id:null==e?void 0:e.DeviceUUID,display_name:""===(null==e?void 0:e.DeviceName)?"localhost":null==e?void 0:e.DeviceName}})),imageSetId:null==he||null===(a=he.DevicesView)||void 0===a||null===(r=a.devices.find((function(e){return e.ImageSetID})))||void 0===r?void 0:r.ImageSetID})}))}},"Update")]})))),c().createElement("section",{className:"edge-devices pf-l-page__main-section pf-c-page__main-section"},(0,V.G0)(De,null==he||null===(Z=he.DeviceGroup)||void 0===Z?void 0:Z.Devices.length,W)?c().createElement(v.k,{justifyContent:{default:"justifyContentCenter"}},c().createElement(E.Z,{icon:"plus",title:"Add systems to the group",body:"Create groups to help manage your systems more effectively.",primaryAction:{text:"Add systems",click:function(){return ie(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):c().createElement(S.default,{data:(null==he||null===(_=he.DevicesView)||void 0===_?void 0:_.devices)||[],count:null==he||null===(N=he.DevicesView)||void 0===N?void 0:N.total,isLoading:De,hasError:Ee,hasCheckbox:!0,handleSingleDeviceRemoval:Ue,kebabItems:[{isDisabled:!(Se.length>0),title:"Remove from group",onClick:function(){return se({name:"",deviceId:null,isOpen:!0})}},{isDisabled:(0,V.yb)({deviceData:Se,imageData:null===(C=Se[0])||void 0===C?void 0:C.updateImageData}),title:"Update selected",onClick:function(){return pe((function(e){return q(q({},e),{},{isOpen:!0,deviceData:(0,a.Z)(Se),imageSetId:Se.find((function(e){return null==e?void 0:e.imageSetId})).imageSetId})}))}}],selectedItems:ke,setRemoveModal:se,setIsAddModalOpen:ie,hasModalSubmitted:_e,setHasModalSubmitted:Ne,fetchDevices:ge,isAddSystemsView:!0})),re&&c().createElement(T,{groupId:J,closeModal:function(){return ie(!1)},isOpen:re,reloadData:ge,groupName:null==he||null===(j=he.DeviceGroup)||void 0===j?void 0:j.Name}),le.isOpen&&c().createElement(z.Z,{isOpen:le.isOpen,closeModal:function(){return se(!1)},title:"Remove from group",submitLabel:"Remove",variant:"danger",schema:{fields:[{component:B.Z.PLAIN_TEXT,name:"warning-text",label:"Do you want to remove ".concat(Se.length>0?"".concat(Se.length," system").concat(1===Se.length?"":"s"):"".concat(le.name)," from ").concat(ye,"?")}]},onSubmit:le.deviceId?Ue:function(){var e={onSuccess:{title:"Success",description:"".concat(Se.length," systems have been removed successfully")},onError:{title:"Error",description:"failed to remove systems"}};(0,P.Z)(M,(function(){return(0,k.tW)(parseInt(J),Se.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((function(){return Ne(!0)}),800)},reloadData:ge}),me.isOpen&&c().createElement(o.Suspense,{fallback:c().createElement(G.b,null,c().createElement(U.$,null))},c().createElement(Q,{navigateBack:function(){R.push({pathname:X}),pe((function(e){return q(q({},e),{},{isOpen:!1})}))},setUpdateModal:pe,updateModal:me,refreshTable:ge})),xe&&c().createElement(F.Z,{isModalOpen:xe,setIsModalOpen:Re,reloadData:function(){return R.push(I._.fleetManagement)},modalState:Me}),Be&&c().createElement(H.Z,{isModalOpen:Be,setIsModalOpen:Ge,reloadData:function(){return ge()},modalState:Me}))}},58392:()=>{}}]);
//# sourceMappingURL=../sourcemaps/GroupsDetail.ca52e77a518fd309f63abc84e9d1bc52.js.map