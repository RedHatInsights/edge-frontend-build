/*! For license information please see 6077.903db7cc9d5fa0d0007a.js.LICENSE.txt */
(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[6077],{89376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(85893),a=n(94184),o=n.n(a),i=n(92950);const c=n.n(i)().createContext("light");var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const l=function(e){var t=e.className,n=e.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children"]),i=o()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,r.jsx)(c.Consumer,{children:function(e){var t,c;void 0===e&&(e="light");var l=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((c={})["pf-m-light"]="light"===e,c));return(0,r.jsx)("section",s({},a,{className:"".concat(i," ").concat(l),"widget-type":"InsightsPageHeader"},{children:n}))}})}},39173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),a=n(94184),o=n.n(a),i=n(2833),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const s=function(e){var t=e.className,n=e.title,a=o()(t);return(0,r.jsx)(i.Title,c({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},17386:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(92950),a=n.n(r),o=n(73448),i=n(45697),c=n.n(i),s=n(9192),l=n(79142),u=n(75824),p=n(62410),d=n(34766),m=n(3035),f=n(48903),g=n(35681),v=function(e){var t=e.index;return a().createElement("div",null,a().createElement(u.u,{content:a().createElement("div",null,"More options"),reference:function(){return document.getElementById("pf-dropdown-toggle-id-".concat(t))}}))};v.propTypes={index:c().number};var b=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],h=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,d.cellWidth)(35)]},{title:"Current version",type:"version",sort:!1,columnTransforms:[(0,d.cellWidth)(15)]},{title:"Last updated",type:"updated_at",sort:!0,columnTransforms:[(0,d.cellWidth)(25)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,d.cellWidth)(30)]}],y=function(e){return e.map((function(e,t){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,isoURL:(null==e?void 0:e.ImageBuildIsoURL)||null,latestImageID:null==e?void 0:e.ImageID},cells:[{title:a().createElement(l.Link,{to:"".concat(s._.manageImages,"/").concat(null==e?void 0:e.ID)},null==e?void 0:e.Name)},null==e?void 0:e.Version,{title:null!=e&&e.UpdatedAt?a().createElement(p.Z,{date:null==e?void 0:e.UpdatedAt}):"Unknown"},{title:a().createElement(a().Fragment,null,a().createElement(v,{index:t}),a().createElement(g.Z,{type:null==e?void 0:e.Status.toLowerCase()}))}]}}))},E=function(e){var t=e.historyProp,n=e.locationProp,r=e.navigateProp,i=e.data,c=e.count,s=e.isLoading,u=e.hasError,p=e.fetchImageSets,d=e.openCreateWizard,g=e.openUpdateWizard,v=e.hasModalSubmitted,E=e.setHasModalSubmitted,O=(n?n():(0,l.useLocation)()).search;return a().createElement(a().Fragment,null,(0,f.G0)(s,c,O)?a().createElement(m.Z,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"No images found",body:"",primaryAction:{click:d,text:"Create new image"},secondaryActions:[]}):a().createElement(o.Z,{apiFilterSort:!0,historyProp:t,locationProp:n,navigateProp:r,isUseApi:!0,filters:b,loadTableData:p,tableData:{count:c,data:i,isLoading:s,hasError:u},columnNames:h,rows:i?y(i):[],actionResolver:function(e){var t,n,r,a,o,i=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&i.push({title:"Download",onClick:function(e,t,n){var r;window.open(null===(r=n.rowInfo)||void 0===r?void 0:r.isoURL)}}),"SUCCESS"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)&&"ERROR"!==(null===(r=e.rowInfo)||void 0===r?void 0:r.imageStatus)||i.push({title:"Update Image",onClick:function(e,t,n){var r;g(null===(r=n.rowInfo)||void 0===r?void 0:r.latestImageID)}}),"BUILDING"===(null===(a=e.rowInfo)||void 0===a?void 0:a.imageStatus)&&null!==(o=e.rowInfo)&&void 0!==o&&o.id&&i.push({title:""}),i},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:2,direction:"desc"},toolbarButtons:[{title:"Create new image",click:function(){return d()}}],hasModalSubmitted:v,setHasModalSubmitted:E}))};E.propTypes={historyProp:c().func,locationProp:c().func,navigateProp:c().func,data:c().array,count:c().number,isLoading:c().bool,hasError:c().bool,fetchImageSets:c().func,clearFilters:c().func,openCreateWizard:c().func,openUpdateWizard:c().func,filters:c().array,pagination:c().shape({page:c().number,perPage:c().number}),hasModalSubmitted:c().bool,setHasModalSubmitted:c().func};const O=E},82978:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});var r=n(15861),a=n(4942),o=n(29439),i=n(64687),c=n.n(i),s=n(92950),l=n.n(s),u=n(89376),p=n(39173),d=n(37619),m=n(52643),f=n(79142),g=n(17386),v=n(48903),b=n(93597),h=n(96094),y=n(45697),E=n.n(y);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=l().lazy((function(){return Promise.all([n.e(4390),n.e(3920),n.e(3631),n.e(6244),n.e(236),n.e(8797),n.e(357),n.e(5344)]).then(n.bind(n,49477))})),S=l().lazy((function(){return Promise.all([n.e(4390),n.e(3920),n.e(3631),n.e(6244),n.e(236),n.e(8797),n.e(357),n.e(46)]).then(n.bind(n,53010))})),w=function(e){var t=e.historyProp,n=e.locationProp,a=e.navigateProp,i=e.notificationProp,y=t?t():f.useHistory?(0,f.useHistory)():null,E=a?a():f.useNavigate?(0,f.useNavigate)():null,O=n?n():(0,f.useLocation)(),w=O.pathname,C=O.search,D=(0,h.Z)({api:b.$c,tableReload:!0}),j=(0,o.Z)(D,2),x=j[0],k=j[1],N=x.data,L=x.isLoading,U=x.hasError,Z=(0,s.useState)(!1),_=(0,o.Z)(Z,2),R=_[0],T=_[1],z=(0,s.useState)({isOpen:!1,imageId:null}),Q=(0,o.Z)(z,2),A=Q[0],B=Q[1],W=(0,s.useState)(!1),M=(0,o.Z)(W,2),H=M[0],V=M[1],q={pathname:w,search:(0,v.fz)("create_image=true",!0,C)},F={pathname:w,search:(0,v.fz)("update_image=true",!0,C)},$=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:V(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l().createElement(s.Fragment,null,l().createElement(u.Z,{className:"pf-m-light"},l().createElement(p.Z,{title:"Images"})),l().createElement("section",{className:"edge-images pf-l-page__main-section pf-c-page__main-section"},l().createElement(g.default,{historyProp:t,locationProp:n,navigateProp:a,data:(null==N?void 0:N.data)||[],count:null==N?void 0:N.count,isLoading:L,hasError:U,fetchImageSets:k,openCreateWizard:function(){a?E(I(I({},q),{},{replace:!0})):y.push(I({},q)),T(!0)},openUpdateWizard:function(e){a?E(I(I({},F),{},{replace:!0})):y.push(I({},F)),B({isOpen:!0,imageId:e})},hasModalSubmitted:H,setHasModalSubmitted:V})),R&&l().createElement(s.Suspense,{fallback:l().createElement(m.b,null,l().createElement(d.$,null))},l().createElement(P,{navigateBack:function(){a?E(I(I({},q),{},{replace:!0})):y.push({pathname:w,search:(0,v.fz)("create_image=true",!1,C)}),T(!1)},reload:$,notificationProp:i})),A.isOpen&&l().createElement(s.Suspense,{fallback:l().createElement(m.b,null,l().createElement(d.$,null))},l().createElement(S,{navigateBack:function(){a?E(I(I({},F),{},{replace:!0})):y.push({pathname:w,search:(0,v.fz)("update_image=true",!1,C)}),B((function(e){return I(I({},e),{},{isOpen:!1})}))},reload:$,updateImageID:A.imageId,notificationProp:i})))};w.propTypes={historyProp:E().func,locationProp:E().func,navigateProp:E().func,notificationProp:E().object};const C=w},93597:(e,t,n)=>{"use strict";n.d(t,{$c:()=>y,Bi:()=>u,Dk:()=>v,EC:()=>g,EV:()=>b,H1:()=>l,Kz:()=>h,L0:()=>m,QY:()=>f,Sj:()=>E,dj:()=>d,dt:()=>p});var r=n(15861),a=n(29439),o=n(64687),i=n.n(o),c=n(66702),s=n(93454),l=function(e){var t={name:e};return s.instance.post("".concat(c.Ds,"/images/checkImageName"),t)},u=function(e){var t=e.Id,n=e.name,r=e.version,o=e.description,i=e.release,l=e.architecture,u=e.username,p=e.credentials,d=e.imageType,m=e["selected-packages"],f=e["third-party-repositories"],g=e["custom-packages"],v=d||[],b=(0,a.Z)(v,1)[0];d.length>1&&(b="rhel-edge-installer");var h={name:n,version:r,description:o,distribution:i,imageType:b,packages:null==m?void 0:m.map((function(e){return{name:e.name}})),outputTypes:d,commit:{arch:l},installer:{username:u,sshkey:p},thirdPartyRepositories:null==f?void 0:f.map((function(e){return{ID:e.id,Name:e.name,URL:e.URL,uuid:e.uuid}})),customPackages:null==g?void 0:g.map((function(e){return{Name:e.name}}))},y="".concat(c.Ds,"/images");return r>1&&(y+="/".concat(t,"/update")),s.instance.post(y,h)},p=function(e){var t=e.id,n=e.q,r=void 0===n?{limit:10,offset:0,sort_by:"-created_at"}:n,a=(0,c.Vs)(r);return s.instance.get("".concat(c.Ds,"/image-sets/").concat(t,"?").concat(a))},d=function(e){var t=e.imageSetID,n=e.query,r=void 0===n?{limit:20,offset:0,sort_by:"-created_at"}:n,a=(0,c.Vs)(r);return s.instance.get("".concat(c.Ds,"/image-sets/view/").concat(t,"/versions?").concat(a))},m=function(e){var t=e.id;return s.instance.get("".concat(c.Ds,"/image-sets/view/").concat(t))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:20,offset:0,sort_by:"-created_at"},t=(0,c.Vs)(e);return s.instance.get("".concat(c.Ds,"/image-sets?").concat(t))},g=function(e){return s.instance.get("".concat(c.Ds,"/images/").concat(e,"/status"))},v=function(e){return s.instance.get("".concat(c.Ds,"/updates/device/").concat(e,"/image"))},b=function(){var e=(0,r.Z)(i().mark((function e(t,n,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams({distribution:t,architecture:n,search:r}),e.abrupt("return",(0,s.instance)("".concat(c.DO,"/packages?").concat(a.toString())));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(e){var t=e.id;return s.instance.get("".concat(c.Ds,"/images/").concat(t,"/details"))},y=function(e){var t=e.query;""===t&&(t={limit:20,offset:0,sort_by:"-updated_at"});var n=(0,c.Vs)(t);return s.instance.get("".concat(c.Ds,"/image-sets/view?").concat(n))},E=function(e,t){return s.instance.post("".concat(c.$J,"/rpms/names"),{urls:e,search:t})}},66702:(e,t,n)=>{"use strict";n.d(t,{$J:()=>i,DO:()=>a,Ds:()=>o,Vs:()=>c});var r=n(71002),a="/api/image-builder/v1",o="/api/edge/v1",i="/api/content-sources/v1",c=function(e){return void 0===e?"":Object.keys(e).reduce((function(t,n){var a=void 0;return"object"===(0,r.Z)(e[n])&&"number"==typeof e[n].length&&e[n].length>0&&(a=e[n].reduce((function(e,t){return""===e?"".concat(n,"=").concat(t):"".concat(e,"&").concat(n,"=").concat(t)}),"")),["string","number"].includes((0,r.Z)(e[n]))&&""!==e[n]&&(a="".concat(n,"=").concat(e[n])),void 0===a?t:""===t?"".concat(a):"".concat(t,"&").concat(a)}),"")}},35681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g,u:()=>m});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),c=n(69174),s=n(75824),l=n(79851),u=n(34512),p=n(98309),d={booting:{text:"Booting",Icon:p.iQ.checkCircle,color:p.OE.green,labelColor:"green"},building:{text:"Image build in progress",Icon:p.iQ.inProgress,color:p.OE.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:p.iQ.inProgress,color:p.OE.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:p.iQ.checkCircle,color:p.OE.green,labelColor:"green"},success:{text:"Ready",Icon:p.iQ.checkCircle,color:p.OE.green,labelColor:"green"},passed:{text:"Passed",Icon:p.iQ.checkCircle,color:p.OE.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:p.iQ.exclamationTriangle,color:p.OE.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:p.iQ.inProgress,color:p.OE.blue,labelColor:"blue"},error:{text:"Error",Icon:p.iQ.timesCircle,color:p.OE.red,labelColor:"red"},default:{text:"Unknown",Icon:p.iQ.unknown},interrupted:{text:"Image build in progress",Icon:p.iQ.inProgress,color:p.OE.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:p.iQ.exclamationCircle,color:p.OE.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:p.iQ.exclamationCircle,color:p.OE.red,labelColor:"red"}},m=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},f=function(e){var t=e.id,n=e.type,r=e.isLabel,o=void 0!==r&&r,i=e.toolTipContent,p=void 0===i?"":i,m=e.className,f=void 0===m?"":m,g=e.isLink,v=Object.prototype.hasOwnProperty.call(d,n)?d[n]:d.default,b=v.text,h=v.Icon,y=v.color,E=v.labelColor;return a().createElement(a().Fragment,null,o?a().createElement(c._,{id:t,color:E,icon:a().createElement(h,null),className:f},b):a().createElement(l.P,{id:t,style:{color:y},className:f},a().createElement(u.J,{className:"pf-u-mr-sm"},p?a().createElement(s.u,{content:"blargh"},a().createElement(h,null)):a().createElement(h,null)),a().createElement(u.J,null,a().createElement("p",{style:g?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},b))))};const g=f;f.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},f.defaultProps={id:"status"}},96094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(4942),a=n(15861),o=n(29439),i=n(64687),c=n.n(i),s=n(83215),l=n(92950),u=n(77760);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m=function(e){var t,n=e.api,r=e.id,i=void 0===r?null:r,p=e.statusMessages,m=e.tableReload,f=void 0!==m&&m,g=(0,u.useDispatch)(),v=(0,l.useState)([]),b=(0,o.Z)(v,2),h=b[0],y=b[1],E=(0,l.useState)(!0),O=(0,o.Z)(E,2),I=O[0],P=O[1],S=(0,l.useState)(!1),w=(0,o.Z)(S,2),C=w[0],D=w[1],j=null===(t=p)||void 0===t?void 0:t.onSuccess;p||(p={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var x=function(){var e=(0,a.Z)(c().mark((function e(){var t,r,a=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",P(!0),e.prev=2,e.next=5,n({id:i,query:t});case 5:r=e.sent,y(r),j&&g(d({},(0,s.wN)(d({variant:"success"},p.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),D(!0),g(d({},(0,s.wN)(d({variant:"danger"},p.onError))));case 14:return e.prev=14,P(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){f||x()}),[]),[{data:h,isLoading:I,hasError:C},x]}},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},21064:()=>{},82014:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6077.9c4814ae7234547cb9612a409c2e4f47.js.map