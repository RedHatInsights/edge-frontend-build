"use strict";(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[673],{58543:(e,t,n)=>{n.r(t),n.d(t,{default:()=>pe});var a=n(4942),r=n(15861),l=n(29439),i=n(87757),o=n.n(i),s=n(93264),u=n.n(s),c=n(75662),m=n(50693),d=n(16475),p=n(64029),v=n(32835),f=n(69174),g=n(52643),E=n(2372),h=n(56455),y=n(48716),b=n(86350),O=n(38775),S=n(53895),_=n(82041),P=n(87462),D=n(91290),I=n(35224),k=n(79706),Z=n(47173),R=n(45697),w=n.n(R),C=function(e){var t=e.title,n=e.content;return u().createElement(u().Fragment,null,u().createElement("span",null,t),u().createElement(k.J,{headerContent:u().createElement("div",null,t),bodyContent:u().createElement("div",null,n)},u().createElement(Z.zx,{variant:"plain","aria-label":"Action for ".concat(t),className:"ins-active-general_information__popover-icon"},u().createElement(D.ZP,null))))};C.propTypes={title:w().string,content:w().string};const N=C;var U=n(35451),j=n(84564),T=n(18802),L=function(e){var t=e.status;return"green"===t?u().createElement(u().Fragment,null,u().createElement(U.ZP,{color:"green",className:"pf-u-mr-sm"}),u().createElement("span",{className:"pf-u-success-color-200"},"Passed")):"red"===t?u().createElement(u().Fragment,null,u().createElement(j.ZP,{color:"red",className:"pf-u-mr-sm"}),u().createElement("span",{className:"pf-u-danger-color-200"},"Failed and reverted")):u().createElement(u().Fragment,null,u().createElement(T.ZP,{className:"pf-u-mr-sm"}),u().createElement("span",null,"Waiting for update"))};L.propTypes={status:w().string};const x=L;var A=n(58753),z=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(736)]).then(n.bind(n,92373))})),B=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(736)]).then(n.bind(n,20786))})),F=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,18569))})),W=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,91768))})),M=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,38514))})),G=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,10392))})),J=(0,s.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(570)]).then(n.bind(n,84570))}));const q=function(){var e=(0,_.useSelector)((function(e){var t=e.permissionsReducer;return null==t?void 0:t.writePermissions})),t=(0,_.useSelector)((function(e){var t,n=e.systemProfileStore;return{greenbootStatus:null==n||null===(t=n.systemProfile)||void 0===t?void 0:t.greenboot_status,rhcHealth:null}})),n=t.greenbootStatus,a=t.rhcHealth;return u().createElement(s.Suspense,{fallback:""},u().createElement(z,{store:(0,_.useStore)(),writePermissions:e,SystemCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""},u().createElement(B,(0,P.Z)({},e,{hasCPUs:!1,hasSockets:!1,hasCores:!1,hasCPUFlags:!1,hasRAM:!1,hasSAP:!1,extra:[{title:u().createElement(N,{title:"GreenBoot Status",content:"This is a description about greenboot status"}),value:u().createElement(x,{status:n})}]})))},OperatingSystemCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""}," ",u().createElement(G,e))},BiosCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""}," ",u().createElement(J,e))},InfrastructureCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""},u().createElement(W,e))},ConfigurationCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""},u().createElement(F,(0,P.Z)({},e,{hasKernelModules:!0})))},CollectionCardWrapper:function(e){return u().createElement(s.Suspense,{fallback:""},u().createElement(M,(0,P.Z)({},e,{extra:[{title:"RHC Health (broker functioning)",value:A.qi[null==a?void 0:a.toUpperCase()]||u().createElement(I.u,{content:"Unknown service status"},u().createElement(D.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))}}))};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=(0,n(18546).Gg)({LOAD_ENTITY_FULFILLED:function(e){return K(K({},e),{},{loaded:!0,activeApps:[{title:"General information",name:"general_information",component:q}]})}}),V=n(59245),Q=n(32002),Y=n(14638),X=n(28883),ee=n(29873),te=n(33902),ne=n(22663),ae=u().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(46)]).then(n.bind(n,53010))})),re=function(e){var t=e.imageId,n=(0,s.useState)(!1),a=(0,l.Z)(n,2),r=a[0],i=a[1],o=(0,c.useRouteMatch)("/fleet-management/:inventoryId").params,m=(0,s.useContext)(V.g).getRegistry,d=(0,c.useHistory)();return u().createElement(u().Fragment,null,u().createElement(ne.Z,{appName:"vulnerability",module:"./SystemDetail",getRegistry:m,customItnlProvider:!0,entity:{id:o.inventoryId},canSelect:!1,canEditStatus:!1,canManageColumns:!1,linkAdvisoriesToCustomerPortal:!0,defaultColumns:["synopsis","public_date","impact","cvss_score","advisory"],filters:["filter","security_rule","known_exploit","impact","cvss_score","advisory"],customAction:u().createElement(Z.zx,{onClick:function(){d.push({pathname:d.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),i(!0)},variant:"primary",isDisabled:!t},"Update image")}),r&&u().createElement(s.Suspense,{fallback:u().createElement(g.b,null,u().createElement(E.$,null))},u().createElement(ae,{navigateBack:function(){d.push({pathname:d.location.pathname}),i(!1)},updateImageID:t})))};re.propTypes={imageId:w().string};const le=re;var ie=function(e){var t=e.imageId,n=(0,s.useState)(0),a=(0,l.Z)(n,2),r=a[0],i=a[1];return u().createElement("div",{className:"edge-c-device--detail add-100vh"},u().createElement(Y.m,{className:"pf-u-ml-md pf-u-mb-md",activeKey:r,onSelect:function(e,t){return i(t)}},u().createElement(X.O,{eventKey:0,title:u().createElement(ee.T,null,"Details")},u().createElement(te.Z,{showTags:!0,fallback:""})),u().createElement(X.O,{eventKey:1,title:u().createElement(ee.T,null,"Vulnerability")},u().createElement(le,{imageId:t}))))};ie.propTypes={imageId:w().string};const oe=ie;var se=n(19694),ue=n(66702);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var de=u().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,79358))}));const pe=function(){var e,t,n,a,i,P,D,I,k,Z,R,w,C,N,j,L,x,A,z,B,F,W,M,G,J,q,H,K,Y,X,ee=(0,s.useState)(null),te=(0,l.Z)(ee,2),ne=te[0],ae=te[1],re=(0,s.useContext)(V.g).getRegistry,le=(0,c.useParams)(),ie=le.inventoryId,ce=le.uuid,pe=(0,_.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),ve=(0,_.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.name})),fe=(0,_.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.id})),ge=(0,s.useState)({isOpen:!1,deviceData:null}),Ee=(0,l.Z)(ge,2),he=Ee[0],ye=Ee[1],be=(0,s.useState)(!0),Oe=(0,l.Z)(be,2),Se=Oe[0],_e=Oe[1];return(0,s.useEffect)((function(){var e,t;insights.chrome.registerModule("inventory"),null===(e=insights.chrome)||void 0===e||null===(t=e.hideGlobalFilter)||void 0===t||t.call(e,!0),insights.chrome.appAction("system-detail")}),[]),(0,s.useEffect)((function(){(0,r.Z)(o().mark((function e(){var t,n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=pe&&pe.display_name){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,ue.Z4)(fe);case 4:a=e.sent,_e(!1),ye((function(e){var t,n;return me(me({},e),{},{deviceData:{display_name:pe.display_name,id:pe.id,system_profile:{image_data:a,status:null==a||null===(t=a.UpdateTransactions)||void 0===t||null===(n=t[a.UpdateTransactions.length-1])||void 0===n?void 0:n.Status}}})})),ae(null==a||null===(t=a.ImageInfo)||void 0===t||null===(n=t.Image)||void 0===n?void 0:n.ID);case 8:case"end":return e.stop()}}),e)})))()}),[pe]),(0,s.useEffect)((function(){var e,t,n;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(n=t.appObjectId)||void 0===n||n.call(t,ie)}),[ie]),u().createElement(u().Fragment,null,u().createElement(O.Z,{hideInvLink:!0,showTags:!0,onLoad:function(e){var t=e.mergeWithDetail;re().register(me({systemProfileStore:Q.ZP},t($)))}},u().createElement(y.Z,null,u().createElement(p.a,{ouiaId:"systems-list"},u().createElement(v.g,null,u().createElement(c.Link,{to:ce?"/groups":"/fleet-management"},ce?"Groups":"Fleet management")),ce&&u().createElement(v.g,null,ve?u().createElement(c.Link,{to:"/groups/".concat(ce)},ve):u().createElement(h.Z,{size:h.i.xs})),u().createElement(v.g,{isActive:!0},u().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},(null==pe?void 0:pe.display_name)||u().createElement(h.Z,{size:h.i.xs})))),u().createElement(S.Z,{fallback:"",actions:[{title:"Update",isDisabled:"BUILDING"===(null===(e=he.deviceData)||void 0===e||null===(t=e.system_profile)||void 0===t||null===(n=t.image_data)||void 0===n||null===(a=n.UpdateTransactions)||void 0===a||null===(i=a[(null===(P=he.deviceData)||void 0===P||null===(D=P.system_profile)||void 0===D||null===(I=D.image_data)||void 0===I?void 0:I.UpdateTransactions.length)-1])||void 0===i?void 0:i.Status)||"CREATED"===(null===(k=he.deviceData)||void 0===k||null===(Z=k.system_profile)||void 0===Z||null===(R=Z.image_data)||void 0===R||null===(w=R.UpdateTransactions)||void 0===w||null===(C=w[(null===(N=he.deviceData)||void 0===N||null===(j=N.system_profile)||void 0===j||null===(L=j.image_data)||void 0===L?void 0:L.UpdateTransactions.length)-1])||void 0===C?void 0:C.Status)||!(null!==(x=he.deviceData)&&void 0!==x&&null!==(A=x.system_profile)&&void 0!==A&&null!==(z=A.image_data)&&void 0!==z&&null!==(B=z.ImageInfo)&&void 0!==B&&null!==(F=B.UpdatesAvailable)&&void 0!==F&&F.length)>0,onClick:function(){ye((function(e){return me(me({},e),{},{isOpen:!0})}))}}],hideBack:!0,hideInvDrawer:!0}),Se?u().createElement(h.Z,{size:h.i.xs}):"BUILDING"===(null==he||null===(W=he.deviceData)||void 0===W||null===(M=W.system_profile)||void 0===M?void 0:M.status)||"CREATED"===(null==he||null===(G=he.deviceData)||void 0===G||null===(J=G.system_profile)||void 0===J?void 0:J.status)?u().createElement(f._,{className:"pf-u-mt-sm",color:"blue",icon:u().createElement(T.ZP,null)},"Updating"):(null==he||null===(q=he.deviceData)||void 0===q||null===(H=q.system_profile)||void 0===H||null===(K=H.image_data)||void 0===K||null===(Y=K.ImageInfo)||void 0===Y||null===(X=Y.UpdatesAvailable)||void 0===X?void 0:X.length)>0?u().createElement(f._,{className:"pf-u-mt-sm",color:"orange",icon:u().createElement(se.ZP,null)},"Update Available"):u().createElement(f._,{className:"pf-u-mt-sm",color:"green",icon:u().createElement(U.ZP,{color:"green"})},"Running")),u().createElement(b.Z,{className:"edge-c-device--detail"},u().createElement(m.r,{gutter:"md"},u().createElement(d.P,{span:12},u().createElement(oe,{imageId:ne}))))),he.isOpen&&u().createElement(s.Suspense,{fallback:u().createElement(g.b,null,u().createElement(E.$,null))},u().createElement(de,{navigateBack:function(){history.push({pathname:history.location.pathname}),ye((function(e){return me(me({},e),{},{isOpen:!1})}))},setUpdateModal:ye,updateModal:he})))}},75220:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ee});var a=n(15861),r=n(93433),l=n(4942),i=n(29439),o=n(87757),s=n.n(o),u=n(93264),c=n.n(u),m=n(82041),d=n(75662),p=n(48716),v=n(39173),f=n(86350),g=n(33739),E=n(94778),h=n(59245),y=n(58061),b=n(28191),O=n(92298),S=n(32203),_=n(70),P=n(62394),D=n(47173),I=n(52643),k=n(2372),Z=n(50693),R=n(16475),w=n(49739),C=n(83826),N=n(45697),U=n.n(N),j=function(e){var t=e.orphaned,n=e.active,a=e.noReports,r=e.neverReported;return c().createElement(S.Z,{className:"tiles-card"},c().createElement(_.l,null,"Device summary"),c().createElement(P.e,null,c().createElement(Z.r,null,c().createElement(R.P,{span:6},c().createElement(w.K,{hasGutter:!0},c().createElement(C.v,null,c().createElement(D.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},n)," ","Active"),c().createElement(C.v,null,c().createElement(D.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},t)," ","Orphaned"))),c().createElement(R.P,{span:6},c().createElement(w.K,{hasGutter:!0},c().createElement(C.v,null,c().createElement(D.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},a),"Stale"),c().createElement(C.v,null,c().createElement(D.zx,{isDisabled:!0,isInline:!0,className:"pf-u-pr-md",variant:"link"},r),"Registered but never reported"))))))};j.propTypes={orphaned:U().number,active:U().number,noReports:U().number,neverReported:U().number};const T=function(){var e=(0,m.useSelector)((function(e){var t=e.deviceSummaryReducer;return{isLoading:void 0===(null==t?void 0:t.isLoading)||(null==t?void 0:t.isLoading),hasError:(null==t?void 0:t.hasError)||!1,data:(null==t?void 0:t.data)||null}}),m.shallowEqual),t=e.isLoading,n=e.hasError,a=e.data;return t?c().createElement(S.Z,{className:"tiles-card"},c().createElement(_.l,null,"Device summary information"),c().createElement(P.e,null,c().createElement(I.b,null,c().createElement(k.$,null)))):n?c().createElement(S.Z,{className:"tiles-card"},c().createElement(_.l,null,"Device summary information"),c().createElement(P.e,null,a)):c().createElement(j,{orphaned:a.orphaned,active:a.active,noReports:a.noReports,neverReported:a.neverReported})};var L=n(24672),x=function(){var e=(0,u.useContext)(h.g).getRegistry,t=(0,m.useDispatch)();return(0,u.useEffect)((function(){var n=e().register({imagesReducer:L.b4,deviceSummaryReducer:L.mR});return(0,E.lL)(t),(0,E.MB)(t),function(){return n()}}),[t]),c().createElement(b.k,{className:"tiles"},c().createElement(O.B,null,c().createElement(T,null)))};x.propTypes={onNewImageClick:U().func};var A=n(79851),z=n(34512),B=n(35451),F=n(18802),W=n(87673),M=n(19694),G=n(37655),J=n(17860),q=function(e){var t,n,a,r=e.imageData,l=e.rpm_ostree_deployments,i=r||{},o=i.UpdateTransactions,s=i.ImageInfo;return void 0===(null==l?void 0:l.length)?c().createElement(A.P,null,c().createElement(z.J,{className:"pf-u-mr-sm"},c().createElement(W.ZP,{color:"grey"})),c().createElement(z.J,null,"Unspecified")):l[0].booted?"BUILDING"===(null==o||null===(t=o[o.length-1])||void 0===t?void 0:t.Status)||"CREATED"===(null==o||null===(n=o[o.length-1])||void 0===n?void 0:n.Status)?c().createElement(A.P,null,c().createElement(z.J,{className:"pf-u-mr-sm"},c().createElement(F.ZP,{color:J.Z.value})),c().createElement(z.J,null,"Updating")):(null==s||null===(a=s.UpdatesAvailable)||void 0===a?void 0:a.length)>0?c().createElement(A.P,null,c().createElement(z.J,{className:"pf-u-mr-sm"},c().createElement(M.ZP,{color:G.Z.value})),c().createElement(z.J,{className:"pf-u-warning-color-200"},"Update Available")):c().createElement(A.P,null,c().createElement(z.J,{className:"pf-u-mr-sm"},c().createElement(B.ZP,{color:"green"})),c().createElement(z.J,null,"Running")):c().createElement(A.P,null,c().createElement(z.J,{className:"pf-u-mr-sm"},c().createElement(F.ZP,{color:"blue"})),c().createElement(z.J,null,"Booting"))};q.propTypes={id:U().string,updateTransactions:U().array,rpm_ostree_deployments:U().array,imageData:U().object};const H=q;var K=n(66702);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=c().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,79358))})),Y={deviceStatus:{label:"Device status",value:[],titles:[]}},X=[{value:"approval",label:"Required approval"},{value:"ophaned",label:"Orphaned"},{value:"delivering",label:"On the way"}];const ee=function(){var e=(0,u.useState)(Y),t=(0,i.Z)(e,1)[0],n=(0,u.useState)({isOpen:!1,deviceData:null}),l=(0,i.Z)(n,2),o=l[0],b=l[1],O=(0,u.useContext)(h.g).getRegistry,S=(0,u.useRef)(null),_=(0,d.useHistory)(),P=(0,m.useDispatch)();return(0,u.useEffect)((function(){return insights.chrome.registerModule("inventory"),"true"===new URLSearchParams(_.location.search).get("update_device")&&b((function(e){return V(V({},e),{},{isOpen:!0})})),function(){return P((0,E.Qo)())}}),[]),c().createElement(u.Fragment,null,c().createElement(p.Z,{className:"pf-m-light"},c().createElement(v.Z,{title:"Fleet management"})),c().createElement(f.Z,{className:"edge-devices"},c().createElement(x,null),c().createElement(g.Z,{ref:S,onRefresh:function(e,t){!t&&S&&S.current?S.current.onRefreshData(e):t&&t(e)},tableProps:{canSelectAll:!1,variant:"compact",actionResolver:function(e){var t;return null!=e&&null!==(t=e.system_profile)&&void 0!==t&&t.image_data?[{title:"Update",onClick:function(e,t,n){b((function(e){return V(V({},e),{},{isOpen:!0,deviceData:n})}))}}]:null!=e&&e.system_profile?[{title:"No Action"}]:null},areActionsDisabled:function(e){var t,n,a,r,l,i,o,s,u=(null==e||null===(t=e.system_profile)||void 0===t||null===(n=t.image_data)||void 0===n?void 0:n.UpdateTransactions)||[];return"BUILDING"===(null===(a=u[u.length-1])||void 0===a?void 0:a.Status)||"CREATED"===(null===(r=u[u.length-1])||void 0===r?void 0:r.Status)||!(null!=e&&null!==(l=e.system_profile)&&void 0!==l&&null!==(i=l.image_data)&&void 0!==i&&null!==(o=i.ImageInfo)&&void 0!==o&&null!==(s=o.UpdatesAvailable)&&void 0!==s&&s.length)>0}},columns:function(e){var t=e.filter((function(e){return["display_name","updated"].includes(e.key)}));return t.filter((function(e){return"updated"===e.key}))[0].props={width:20},[].concat((0,r.Z)(t),[{key:"system_profile",title:"Device status",renderFunc:function(e){return c().createElement(H,{rpm_ostree_deployments:e.rpm_ostree_deployments,imageData:e.image_data})},props:{width:20,isStatic:!0}}])},getEntities:function(){var e=(0,a.Z)(s().mark((function e(t,n,l,i){var o,u,c,m,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(void 0,V(V({},n),{},{filter:V(V({},n.filter),{},{system_profile:V(V({},null===(o=n.filter)||void 0===o?void 0:o.system_profile),{},{host_type:"edge"})}),fields:V(V({},null==n?void 0:n.fields),{},{system_profile:[].concat((0,r.Z)((null==n||null===(u=n.fields)||void 0===u?void 0:u.system_profile)||[]),["host_type","operating_system","greenboot_status","greenboot_fallback_detected","rpm_ostree_deployments"])})}));case 2:return c=e.sent,m=c.results.map(function(){var e=(0,a.Z)(s().mark((function e(t){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,K.Z4)(t.id);case 2:return n=e.sent,a=n&&404!==n?n:{data:null},e.abrupt("return",V(V({},t),{},{system_profile:V(V({},t.system_profile),{},{image_data:Object.prototype.hasOwnProperty.call(a,"data")?null:a})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,Promise.all(m);case 6:return d=e.sent,e.abrupt("return",V(V({},c),{},{results:d}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),hideFilters:{registeredWith:!0},hasCheckbox:!1,activeFiltersConfig:V({},(0,y.pM)(t)&&{filters:(0,y.I)(t,(function(e){var t;return null===(t=X.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}))}),onRowClick:function(e,t){return _.push("/fleet-management/".concat(t))},onLoad:function(e){var t,n,a=e.mergeWithEntities;null===(t=O())||void 0===t||null===(n=t.register)||void 0===n||n.call(t,V({},a()))}})),o.isOpen&&c().createElement(u.Suspense,{fallback:c().createElement(I.b,null,c().createElement(k.$,null))},c().createElement(Q,{navigateBack:function(){_.push({pathname:_.location.pathname}),b((function(e){return V(V({},e),{},{isOpen:!1})}))},setUpdateModal:b,updateModal:o,refreshTable:S.current.onRefreshData})))}},14511:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(4942),r=n(29439),l=n(93264),i=n.n(l),o=n(48716),s=n(39173),u=n(86350),c=n(2372),m=n(52643),d=n(75662),p=n(59245),v=n(24672),f=n(383),g=n(45697),E=n.n(g),h=n(82041),y=n(4147),b=n(68340),O=n(62410),S=n(9043),_=n(94778),P=n(27577),D=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],I=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,P.cellWidth)(35)]},{title:"Current Version",type:"version",sort:!1,columnTransforms:[(0,P.cellWidth)(15)]},{title:"Last Updated",type:"updated_at",sort:!0,columnTransforms:[(0,P.cellWidth)(25)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,P.cellWidth)(30)]}],k=function(e){return e.map((function(e){var t,n,a,r=e.image_set,l=e.image_build_iso_url;return{id:null==r?void 0:r.ID,cells:[{title:i().createElement(d.Link,{to:"".concat(y._j.gb,"/").concat(null==r?void 0:r.ID)},null==r?void 0:r.Name)},null==r?void 0:r.Version,{title:i().createElement(O.Z,{date:null==r?void 0:r.UpdatedAt})},{title:i().createElement(S.Z,{status:null==r?void 0:r.Images[(null==r||null===(t=r.Images)||void 0===t?void 0:t.length)-1].Status})}],imageStatus:null==r?void 0:r.Images[(null==r||null===(n=r.Images)||void 0===n?void 0:n.length)-1].Status,isoURL:l||null,latestImageID:null==r?void 0:r.Images[(null==r||null===(a=r.Images)||void 0===a?void 0:a.length)-1].ID}}))},Z=function(e){var t=e.openCreateWizard,n=e.openUpdateWizard,a=(0,h.useSelector)((function(e){var t,n,a=e.edgeImageSetsReducer;return{count:(null==a||null===(t=a.data)||void 0===t?void 0:t.Count)||0,data:(null==a||null===(n=a.data)||void 0===n?void 0:n.Data)||null,isLoading:void 0===(null==a?void 0:a.isLoading)||a.isLoading,hasError:null==a?void 0:a.hasError}}),h.shallowEqual),r=a.count,l=a.data,o=a.isLoading,s=a.hasError;return i().createElement(f.Z,{apiFilterSort:!0,filters:D,loadTableData:_.n9,tableData:{count:r,data:l,isLoading:o,hasError:s},columnNames:I,rows:l?k(l):[],emptyStateMessage:"No images found",emptyStateActionMessage:"Create new image",emptyStateAction:t,actionResolver:function(e){var t=[];return null!=e&&e.isoURL&&t.push({title:i().createElement(b.x,{className:"force-text-black remove-underline",component:"a",href:e.isoURL,rel:"noopener noreferrer",target:"_blank"},"Download")}),"SUCCESS"!==(null==e?void 0:e.imageStatus)&&"ERROR"!==(null==e?void 0:e.imageStatus)||t.push({title:"Update Image",onClick:function(e,t,a){n(a.latestImageID)}}),"BUILDING"===(null==e?void 0:e.imageStatus)&&null!=e&&e.id&&t.push({title:""}),t},areActionsDisabled:function(e){return"BUILDING"===(null==e?void 0:e.imageStatus)},defaultSort:{index:2,direction:"desc"},toolbarButtons:[{title:"Create new image",click:function(){return t()}}]})};Z.propTypes={clearFilters:E().func.isRequired,openCreateWizard:E().func.isRequired,openUpdateWizard:E().func.isRequired,filters:E().array.isRequired,pagination:E().shape({page:E().number,perPage:E().number}).isRequired};const R=Z;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=i().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(344)]).then(n.bind(n,49477))})),U=i().lazy((function(){return Promise.all([n.e(410),n.e(736),n.e(735),n.e(46)]).then(n.bind(n,53010))}));const j=function(){var e=(0,l.useContext)(p.g).getRegistry,t=(0,l.useState)(!1),n=(0,r.Z)(t,2),a=n[0],f=n[1],g=(0,l.useState)({isOpen:!1,imageId:null}),E=(0,r.Z)(g,2),h=E[0],y=E[1],b=(0,d.useHistory)();return(0,l.useEffect)((function(){var t=e().register({edgeImageSetsReducer:v.Mx});return function(){return t()}}),[]),i().createElement(l.Fragment,null,i().createElement(o.Z,{className:"pf-m-light"},i().createElement(s.Z,{title:"Images"})),i().createElement(u.Z,{className:"edge-devices"},i().createElement(R,{openCreateWizard:function(){b.push({pathname:b.location.pathname,search:new URLSearchParams({create_image:!0}).toString()}),f(!0)},openUpdateWizard:function(e){b.push({pathname:b.location.pathname,search:new URLSearchParams({update_image:!0}).toString()}),y({isOpen:!0,imageId:e})}})),a&&i().createElement(l.Suspense,{fallback:i().createElement(m.b,null,i().createElement(c.$,null))},i().createElement(N,{navigateBack:function(){b.push({pathname:b.location.pathname}),f(!1)}})),h.isOpen&&i().createElement(l.Suspense,{fallback:i().createElement(m.b,null,i().createElement(c.$,null))},i().createElement(U,{navigateBack:function(){b.push({pathname:b.location.pathname}),y((function(e){return C(C({},e),{},{isOpen:!1})}))},updateImageID:h.imageId})))}}}]);
//# sourceMappingURL=../sourcemaps/GroupsDetailPage.72a70b86cdf9708e881db0bc83b95b50.js.map