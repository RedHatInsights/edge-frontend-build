(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[8333],{78262:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(92950),c=n.n(r),o=n(45697),a=n.n(o),s=n(64124),i=n(96354),u=n(60722),l=n(87462),p=n(29439),f=n(54680),d=n(92694),v=n(41693),m=n(48880),g=function(e){(0,v.Z)(e);var t=(0,m.default)().change,n=(0,r.useState)(!1),o=(0,p.Z)(n,2),a=o[0],s=o[1],i=(0,r.useState)(null),u=(0,p.Z)(i,2),g=u[0],b=u[1],y=function(){b(null),t("group",null),s(!1)};return c().createElement(c().Fragment,null,c().createElement(f.P,{variant:"typeahead",typeAheadAriaLabel:"Select a state",onToggle:function(e){return s(e)},onSelect:function(e,n,r){r?y():(b(n),s(!1)),t("group",n)},onClear:y,selections:g,isOpen:a,"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click select group"},e.defaultOptions.map((function(e,t){var n=e.DeviceGroup;return c().createElement(d.$,(0,l.Z)({key:t,value:{toString:function(){return n.Name},groupId:n.ID}},n.description&&{description:n.description}))}))))};g.propTypes={defaultOptions:a().array};const b=g;var y=n(32349),h=n(87029),O=n(77760),D=n(68340),j=n(69957),E=n(37655),S=n(28118),Z=function(e,t){var n=e[0].deviceGroups,r=e.length>1?"".concat(e.length," systems"):e[0].name,o=1===n.length?n[0].Name:"".concat(n.length," groups");return t?c().createElement(D.x,null,c().createElement("strong",null,r," ")," will no longer be part of"," ",c().createElement("strong",null,o)," and its configuration will be impacted."):n.length>1?c().createElement(D.x,null,"Select the group you want to remove ",c().createElement("strong",null,r)," from."):c().createElement(D.x,null,"Do you want to remove ",c().createElement("strong",null,r," ")," from"," ",c().createElement("strong",null,o),"?")},w=function(){return c().createElement(j.ZP,{color:E.Z.value})},P=function(e,t){var n={fields:[{component:i.Z.PLAIN_TEXT,name:"description",label:Z(e,t)}]};return e[0].deviceGroups.length>1&&n.fields.push({component:"search-input",name:"group",label:"Select a group",isRequired:!0,validate:[{type:s.Z.REQUIRED}]}),n},I=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,o=e.deviceInfo,a=(0,O.useDispatch)(),s=(0,S.Z)(!1),i=o[0].deviceGroups;return c().createElement(u.Z,{isOpen:t,variant:"danger",closeModal:function(){return n(!1)},title:"Remove from group",submitLabel:"Remove",titleIconVariant:w,additionalMappers:{"search-input":{component:b,defaultOptions:i.map((function(e){return{DeviceGroup:e}}))||[]}},schema:P(o,s),onSubmit:function(e){var t,n=i.length>1,r=n?e.group.toString():i[0].Name,c=n?e.group.groupId:i[0].ID,u=o.length>1?"".concat(o.length," systems"):o[0].name,l=s?o.length>1?"Failed to remove ".concat(o.length," systems from ").concat(r):"Failed to remove 1 system from ".concat(r):"Failed to remove system from group",p={onSuccess:{title:"Success",description:"".concat(u," has been removed from ").concat(r," successfully")},onError:{title:"Error",description:l}};t=s?function(){return(0,h.ur)(c,o.map((function(e){return e.UUID})))}:function(){return(0,h._j)(c,o[0].ID)},(0,y.Z)(a,t,p)},reloadData:r})};const k=I;I.propTypes={isModalOpen:a().bool,setIsModalOpen:a().func,reloadData:a().func,deviceInfo:a().array}},87029:(e,t,n)=>{"use strict";n.d(t,{D9:()=>a,FP:()=>d,Ff:()=>y,OS:()=>l,Qo:()=>h,Tb:()=>b,VL:()=>u,_j:()=>g,e3:()=>f,jA:()=>s,sS:()=>o,tW:()=>v,ur:()=>m,xk:()=>i,yq:()=>p});var r=n(66702),c=n(93454),o=function(e){return c.instance.post("".concat(r.Ds,"/device-groups/"),{Name:e.name,Type:"static"})},a=function(e){return c.instance.post("".concat(r.$3,"/groups"),{name:e.name})},s=function(e){var t=e.query,n=(0,r.Vs)(t);return c.instance.get("".concat(r.Ds,"/device-groups?").concat(n))},i=function(e){var t=e.query,n=(0,r.Vs)(t);return c.instance.get("".concat(r.$3,"/groups?").concat(n))},u=function(e){var t=e.id,n=e.query,o=(0,r.Vs)(n);return c.instance.get("".concat(r.Ds,"/device-groups/").concat(t,"/view?").concat(o))},l=function(e,t){return c.instance.put("".concat(r.Ds,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},p=function(e){return c.instance.delete("".concat(r.Ds,"/device-groups/").concat(e))},f=function(e,t){return c.instance.post("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},d=function(e,t){var n=[];return t.forEach((function(e){return n.push(e.UUID)})),c.instance.post("".concat(r.$3,"/groups/").concat(e,"/hosts"),n)},v=function(e,t){return c.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},m=function(e,t){return c.instance.delete("".concat(r.$3,"/groups/").concat(e,"/hosts/")+t.join(","))},g=function(e,t){return c.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices/").concat(t))},b=function(e){return c.instance.get("".concat(r.Ds,"/device-groups/checkName/").concat(e))},y=function(){return c.instance.get("".concat(r.Ds,"/device-groups/enforce-edge-groups"))},h=function(e){return c.instance.get("".concat(r.$3,"/groups?name=").concat(e,"&order_by=name&order_how=ASC"))}},60722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(15861),c=n(4942),o=n(87462),a=n(64687),s=n.n(a),i=n(92950),u=n.n(i),l=n(80236),p=n(79442),f=n(67850),d=n(41387),v=n(45697),m=n.n(v);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=e.isOpen,n=e.title,c=e.titleIconVariant,a=e.closeModal,i=e.submitLabel,v=e.schema,m=e.initialValues,g=e.variant,y=e.reloadData,h=e.size,O=e.onSubmit,D=e.additionalMappers,j=e.validatorMapper;return u().createElement(l.u,{variant:null!=h?h:"small",title:n,titleIconVariant:null!=c?c:null,isOpen:t,onClose:a},u().createElement(p.Z,{schema:v,validatorMapper:j,FormTemplate:function(e){return u().createElement(f.ZP,(0,o.Z)({},e,{submitLabel:i,disableSubmit:["invalid"],buttonsProps:{submit:{variant:g}}}))},initialValues:m,componentMapper:D?b(b({},D),d.ZP):d.ZP,onSubmit:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:setTimeout((0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return a()}}))};y.propTypes={isOpen:m().bool,title:m().string,closeModal:m().func,reloadData:m().func,submitLabel:m().string,schema:m().object,initialValues:m().object,variant:m().string,onSubmit:m().func,size:m().string,additionalMappers:m().object,titleIconVariant:m().any,validatorMapper:m().object};const h=y},96094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(4942),c=n(15861),o=n(29439),a=n(64687),s=n.n(a),i=n(83215),u=n(92950),l=n(77760);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=function(e){var t,n=e.api,r=e.id,a=void 0===r?null:r,p=e.statusMessages,d=e.tableReload,v=void 0!==d&&d,m=(0,l.useDispatch)(),g=(0,u.useState)([]),b=(0,o.Z)(g,2),y=b[0],h=b[1],O=(0,u.useState)(!0),D=(0,o.Z)(O,2),j=D[0],E=D[1],S=(0,u.useState)(!1),Z=(0,o.Z)(S,2),w=Z[0],P=Z[1],I=(0,u.useState)((function(){return n})),k=(0,o.Z)(I,2),x=k[0],M=k[1],T=null===(t=p)||void 0===t?void 0:t.onSuccess;p||(p={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var V=function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",E(!0),e.prev=2,e.next=5,x({id:a,query:t});case 5:n=e.sent,h(n),T&&m(f({},(0,i.wN)(f({variant:"success"},p.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),P(!0),m(f({},(0,i.wN)(f({variant:"danger"},p.onError))));case 14:return e.prev=14,E(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){v||V()}),[]),[{data:y,isLoading:j,hasError:w},V,x,M]}},28118:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(15861),c=n(29439),o=n(64687),a=n.n(o),s=n(92950),i=n(48903),u=n(42559),l=n(87029);const p=function(e){var t=(0,s.useState)(e),n=(0,c.Z)(t,2),o=n[0],p=n[1],f=(0,i.gV)(u.h);return(0,s.useEffect)((function(){(0,r.Z)(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.Ff)();case 2:t=e.sent,n=null==t?void 0:t.enforce_edge_groups,p(!n&&f);case 5:case"end":return e.stop()}}),e)})))()}),[]),o}},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},81754:()=>{},10497:()=>{},10108:()=>{},54476:()=>{},80897:()=>{},40837:()=>{},98379:()=>{},99624:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},40209:()=>{},38299:()=>{},72816:()=>{},45987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(63366);function c(e,t){if(null==e)return{};var n,c,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}}}]);
//# sourceMappingURL=../sourcemaps/8333.6c5ba65c25c5cf297c0d0f4712204703.js.map