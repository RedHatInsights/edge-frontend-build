{"version":3,"sources":["webpack://insights-frontend-starter-app/./src/Routes/GroupsDetail/DevicesTable.js","webpack://insights-frontend-starter-app/./src/Routes/GroupsDetail/GroupsDetailInfo.js","webpack://insights-frontend-starter-app/./src/Routes/GroupsDetail/GroupsDetail.js"],"names":["columns","title","transforms","sortable","cellWidth","DevicesTable","uuid","useState","sortBy","setSortBy","devices","useSelector","groupsDetailReducer","Table","aria-label","actions","onClick","console","log","cells","onSort","_e","index","direction","rows","map","device","Link","to","name","version","DateFormat","date","last_seen","status","TableHeader","TableBody","propTypes","PropTypes","GroupsInfo","dispatch","useDispatch","isDevicesInfoLoading","groupDevicesInfoReducer","isLoading","devicesInfo","useEffect","loadGroupDevicesInfo","Grid","hasGutter","GridItem","span","Card","CardHeader","Title","headingLevel","CardBody","TextContent","TextList","component","TextListVariants","TextListItem","TextListItemVariants","Text","TextVariants","total","Skeleton","newDevices","offlineDevices","deliveringDevices","className","Bullseye","useParams","activeFilters","setActiveFilters","groupName","meta","page","getRegistry","register","loadGroupsDetail","Fragment","PageHeader","Breadcrumb","BreadcrumbItem","routes","isActive","Main","Stack","StackItem","GroupsDetailInfo","isFilled","PrimaryToolbar","pagination","itemCount","count","offset","limit","perPage","Number","isCompact","dedicatedAction","Button","isDisabled","filterConfig","items","label","type","filterValues","key","onChange","event","value","placeholder","statusMapper","item","charAt","toUpperCase","slice","SkeletonTable","colSize","rowSize","TableToolbar","isFooter","Pagination","dropDirection"],"mappings":"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","file":"js/GroupsDetailPage.ff1de421aafd36b6d614.js","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  Table,\n  TableHeader,\n  TableBody,\n  sortable,\n  cellWidth,\n} from '@patternfly/react-table';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components';\nimport { StatusIcon } from '../../components';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst columns = [\n  {\n    title: 'Name of device',\n    transforms: [sortable, cellWidth('max')],\n  },\n  {\n    title: 'Version',\n    transforms: [sortable],\n  },\n  {\n    title: 'Last seen',\n    transforms: [sortable, cellWidth(15)],\n  },\n  {\n    title: 'Status',\n    transforms: [sortable, cellWidth(10)],\n  },\n];\n\nconst DevicesTable = ({ uuid }) => {\n  const [sortBy, setSortBy] = useState({});\n  const devices = useSelector(\n    ({ groupsDetailReducer }) => groupsDetailReducer?.devices\n  );\n  return (\n    <Table\n      aria-label=\"Devices table\"\n      actions={[\n        {\n          title: 'Adopt',\n          onClick: console.log,\n        },\n        {\n          title: 'Reject',\n          onClick: console.log,\n        },\n      ]}\n      cells={columns}\n      sortBy={sortBy}\n      onSort={(_e, index, direction) =>\n        setSortBy(() => ({\n          index,\n          direction,\n        }))\n      }\n      rows={devices.map((device) => ({\n        cells: [\n          {\n            title: (\n              <Link to={`/groups/${uuid}/${device?.uuid}`}>{device?.name}</Link>\n            ),\n          },\n          device?.version,\n          {\n            title: <DateFormat date={device?.last_seen} />,\n          },\n          {\n            title: <StatusIcon status={device?.status} />,\n          },\n        ],\n      }))}\n    >\n      <TableHeader />\n      <TableBody />\n    </Table>\n  );\n};\n\nDevicesTable.propTypes = {\n  uuid: PropTypes.string,\n};\n\nexport default DevicesTable;\n","import React, { useEffect } from 'react';\nimport {\n  Grid,\n  GridItem,\n  Card,\n  CardBody,\n  CardHeader,\n  Title,\n  Bullseye,\n  TextContent,\n  Text,\n  TextVariants,\n  TextListItem,\n  Skeleton,\n  TextListItemVariants,\n  TextList,\n  TextListVariants,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { loadGroupDevicesInfo } from '../../store/actions';\n\nconst GroupsInfo = ({ uuid }) => {\n  const dispatch = useDispatch();\n  const isDevicesInfoLoading = useSelector(\n    ({ groupDevicesInfoReducer }) => groupDevicesInfoReducer?.isLoading\n  );\n  const devicesInfo = useSelector(\n    ({ groupDevicesInfoReducer }) => groupDevicesInfoReducer?.devicesInfo\n  );\n  useEffect(() => {\n    dispatch(loadGroupDevicesInfo());\n  }, []);\n  return (\n    <Grid hasGutter>\n      <GridItem span={3}>\n        <Card>\n          <CardHeader>\n            <Title headingLevel=\"h3\">Health threshold</Title>\n          </CardHeader>\n          <CardBody></CardBody>\n        </Card>\n      </GridItem>\n      <GridItem span={3}>\n        <Card>\n          <CardHeader>\n            <Title headingLevel=\"h3\">Devices info</Title>\n          </CardHeader>\n          <CardBody>\n            <TextContent>\n              <TextList component={TextListVariants.dl}>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      {devicesInfo?.total}\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  <Text component={TextVariants.h3}>Total devices</Text>\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to={`/groups/${uuid}`}>\n                        {devicesInfo?.newDevices}\n                      </Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  New devices added\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to={`/groups/${uuid}`}>\n                        {devicesInfo?.offlineDevices}\n                      </Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  Devices offline\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dt}>\n                  {isDevicesInfoLoading === false ? (\n                    <Text component={TextVariants.h1}>\n                      <Link to={`/groups/${uuid}`}>\n                        {devicesInfo?.deliveringDevices}\n                      </Link>\n                    </Text>\n                  ) : (\n                    <Skeleton />\n                  )}\n                </TextListItem>\n                <TextListItem component={TextListItemVariants.dd}>\n                  Devices on the way\n                </TextListItem>\n              </TextList>\n            </TextContent>\n          </CardBody>\n        </Card>\n      </GridItem>\n      <GridItem span={6}>\n        <Card className=\"edge-groups--detail__complex\">\n          <CardHeader>\n            <Grid>\n              <GridItem span={6}>\n                <Title headingLevel=\"h3\">Canary parameters</Title>\n              </GridItem>\n              <GridItem span={6}>\n                <Title headingLevel=\"h3\">Last Canaries</Title>\n              </GridItem>\n            </Grid>\n          </CardHeader>\n          <CardBody>\n            <Grid hasGutter>\n              <GridItem span={6}>\n                <Title headingLevel=\"h3\">\n                  <Bullseye>\n                    <TextContent>\n                      <Text component={TextVariants.h1}>\n                        <Bullseye>10% (89)</Bullseye>\n                      </Text>\n                      <Text component={TextVariants.h4}>\n                        <Bullseye>Of systems tested</Bullseye>\n                      </Text>\n                    </TextContent>\n                  </Bullseye>\n                </Title>\n              </GridItem>\n              <GridItem span={6}></GridItem>\n            </Grid>\n          </CardBody>\n        </Card>\n      </GridItem>\n    </Grid>\n  );\n};\n\nGroupsInfo.propTypes = {\n  uuid: PropTypes.string,\n};\n\nexport default GroupsInfo;\n","import React, { Fragment, useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  PageHeader,\n  Main,\n  PrimaryToolbar,\n  TableToolbar,\n  SkeletonTable,\n} from '@redhat-cloud-services/frontend-components';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Skeleton,\n  Stack,\n  StackItem,\n  Pagination,\n  Button,\n} from '@patternfly/react-core';\nimport { statusMapper } from '../../constants';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/files/esm/Registry';\nimport { routes } from '../../../package.json';\nimport { loadGroupsDetail } from '../../store/actions';\nimport {\n  groupsDetailReducer,\n  groupDevicesInfoReducer,\n} from '../../store/reducers';\nimport DevicesTable from './DevicesTable';\nimport GroupsDetailInfo from './GroupsDetailInfo';\n\nconst GroupsDetail = () => {\n  const { uuid } = useParams();\n  const [activeFilters, setActiveFilters] = useState({});\n  const dispatch = useDispatch();\n  const groupName = useSelector(\n    ({ groupsDetailReducer }) => groupsDetailReducer?.name || ''\n  );\n  const isLoading = useSelector(\n    ({ groupsDetailReducer }) => groupsDetailReducer?.isLoading\n  );\n  const meta = useSelector(\n    ({ groupsDetailReducer }) =>\n      groupsDetailReducer?.meta || {\n        page: 1,\n      }\n  );\n\n  useEffect(() => {\n    const registered = getRegistry().register({\n      groupsDetailReducer,\n      groupDevicesInfoReducer,\n    });\n    dispatch(loadGroupsDetail(uuid));\n    () => registered();\n  }, []);\n  return (\n    <Fragment>\n      <PageHeader>\n        <Breadcrumb>\n          <BreadcrumbItem>\n            <Link to={routes.groups}>Groups</Link>\n          </BreadcrumbItem>\n          <BreadcrumbItem isActive>\n            {isLoading === false ? groupName : <Skeleton />}\n          </BreadcrumbItem>\n        </Breadcrumb>\n      </PageHeader>\n      <Main className=\"edge-groups--detail\">\n        <Stack hasGutter>\n          <StackItem className=\"edge-groups--detail__info\">\n            <GroupsDetailInfo uuid={uuid} />\n          </StackItem>\n          <StackItem isFilled>\n            <PrimaryToolbar\n              {...(isLoading === false\n                ? {\n                    pagination: {\n                      itemCount: meta?.count,\n                      page: meta?.offset / meta?.limit + 1,\n                      perPage: Number(meta?.limit),\n                      isCompact: true,\n                    },\n                    dedicatedAction: (\n                      <Button\n                        onClick={() => console.log('ff')}\n                        isDisabled={isLoading !== false}\n                      >\n                        Add device\n                      </Button>\n                    ),\n                    filterConfig: {\n                      items: [\n                        {\n                          label: 'Name',\n                          type: 'text',\n                          filterValues: {\n                            key: 'text-filter',\n                            onChange: (event, value) =>\n                              setActiveFilters({\n                                ...(activeFilters || {}),\n                                name: value,\n                              }),\n                            value: activeFilters?.name || '',\n                            placeholder: 'Filter by name',\n                          },\n                        },\n                        {\n                          label: 'Status',\n                          type: 'checkbox',\n                          filterValues: {\n                            key: 'text-filter',\n                            onChange: (event, value) =>\n                              setActiveFilters({\n                                ...(activeFilters || {}),\n                                name: value,\n                              }),\n                            items: statusMapper.map((item) => ({\n                              value: item,\n                              label: `${item\n                                .charAt(0)\n                                .toUpperCase()}${item.slice(1)}`,\n                            })),\n                            value: activeFilters?.status || [],\n                          },\n                        },\n                      ],\n                    },\n                  }\n                : {\n                    pagination: <Skeleton />,\n                  })}\n            />\n            {isLoading === false ? (\n              <DevicesTable uuid={uuid} />\n            ) : (\n              <SkeletonTable colSize={5} rowSize={15} />\n            )}\n            <TableToolbar isFooter>\n              {isLoading === false && (\n                <Pagination\n                  itemCount={meta?.count}\n                  page={meta?.offset / meta?.limit + 1}\n                  perPage={Number(meta?.limit)}\n                  dropDirection=\"up\"\n                />\n              )}\n            </TableToolbar>\n          </StackItem>\n        </Stack>\n      </Main>\n    </Fragment>\n  );\n};\n\nexport default GroupsDetail;\n"],"sourceRoot":""}