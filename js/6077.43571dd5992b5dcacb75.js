(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[6077],{17386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var n=r(92950),o=r.n(n),a=r(21061),i=r(45697),l=r.n(i),c=r(9192),s=r(48903),u=r(75824),d=r(62410),p=r(34766),m=r(3035),g=r(68519),f=r(5513),b=r(35681),h=r(14627),v=r(98309),y=function(e){var t=e.index;return o().createElement("div",null,o().createElement(u.u,{content:o().createElement("div",null,"More options"),reference:function(){return document.getElementById("pf-dropdown-toggle-id-".concat(t))}}))};y.propTypes={index:l().number};var E=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],P=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Release",type:"distribution",options:v.aN,sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Target",type:"outputTypes",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,p.cellWidth)(15)]},{title:"Created/Updated",type:"updated_at",sort:!0,columnTransforms:[(0,p.cellWidth)(35)]}],O=function(e,t,r,n){return e.map((function(e,a){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,distribution:null==e?void 0:e.Distribution,outputType:null==e?void 0:e.OutputTypes,isoURL:(null==e?void 0:e.ImageBuildIsoURL)||null,latestImageID:null==e?void 0:e.ImageID},cells:[{title:(0,s.EW)({pathname:"".concat(t,"/").concat(null==e?void 0:e.ID),linkText:null==e?void 0:e.Name,history:r,navigate:n})},null==e?void 0:e.Version,{title:v.aN[null==e?void 0:e.Distribution]},2==(null==e?void 0:e.OutputTypes.length)?"Bare Metal Installer":"Update Only",{title:o().createElement(o().Fragment,null,o().createElement(y,{index:a}),o().createElement(b.Z,{type:null==e?void 0:e.Status.toLowerCase()}))},{title:null!=e&&e.UpdatedAt?o().createElement(d.Z,{date:null==e?void 0:e.UpdatedAt}):"Unknown"}]}}))},I=function(e){var t=e.pathPrefix,r=e.urlName,n=e.historyProp,i=e.locationProp,l=e.navigateProp,u=e.data,d=e.count,p=e.isLoading,b=e.docLinkProp,v=e.hasError,y=e.fetchImageSets,I=e.openCreateWizard,S=e.openUpdateWizard,k=e.hasModalSubmitted,w=e.setHasModalSubmitted,C=void 0===b?"https://access.redhat.com/documentation/en-us/edge_management/2022/html/create_rhel_for_edge_images_and_configure_automated_management/index":b,x=(i?i():g.TH?(0,g.TH)():null).search,T=n?n():g.k6?(0,g.k6)():null,N=l?l():f.useNavigate?(0,f.useNavigate)():null,D=(0,h.S)("edge".concat(c._.manageImages),t,r);return o().createElement(o().Fragment,null,(0,s.G0)(p,d,x)?o().createElement(m.Z,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Create an OSTree image",body:["Image builder is a tool to compose customized RHEL (rpm-ostree) images optimized for Edge. ","With OSTree, you can manage the system software by referencing a central image repository. Images contain a complete operating system ready to be remotely installed at scale. Updates to images are tracked through commits and enable secure updates that only address changes and keep the operating system unchanged. Image updates are quick, and rollbacks are easy."],secondaryActions:[{type:"link",title:"Learn more about OSTree.",link:"https://ostreedev.github.io/ostree/"},{variant:"primary",className:"edge-stretched-button",onClick:function(){return I()},type:"button",title:"Create image."},{type:"link",iconPosition:"left",title:"Image builder for OSTree documentation",link:C}]}):o().createElement(a.Z,{apiFilterSort:!0,historyProp:n,locationProp:i,navigateProp:l,isUseApi:!0,filters:E,loadTableData:y,tableData:{count:d,data:u,isLoading:p,hasError:v},columnNames:P,rows:u?O(u,D,T,N):[],actionResolver:function(e){var t,r,n,o,a,i=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&i.push({title:"Download",onClick:function(e,t,r){var n;window.open(null===(n=r.rowInfo)||void 0===n?void 0:n.isoURL)}}),"SUCCESS"!==(null===(r=e.rowInfo)||void 0===r?void 0:r.imageStatus)&&"ERROR"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)||i.push({title:"Update Image",onClick:function(e,t,r){var n;S(null===(n=r.rowInfo)||void 0===n?void 0:n.latestImageID)}}),"BUILDING"===(null===(o=e.rowInfo)||void 0===o?void 0:o.imageStatus)&&null!==(a=e.rowInfo)&&void 0!==a&&a.id&&i.push({title:""}),i},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:5,direction:"desc"},toolbarButtons:[{title:"Create new image",click:function(){return I()}}],hasModalSubmitted:k,setHasModalSubmitted:w}))};I.propTypes={pathPrefix:l().string,urlName:l().string,historyProp:l().func,locationProp:l().func,navigateProp:l().func,data:l().array,count:l().number,isLoading:l().bool,hasError:l().bool,fetchImageSets:l().func,clearFilters:l().func,openCreateWizard:l().func,openUpdateWizard:l().func,filters:l().array,pagination:l().shape({page:l().number,perPage:l().number}),hasModalSubmitted:l().bool,setHasModalSubmitted:l().func,docLinkProp:l().string};const S=I},82978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var n=r(15861),o=r(4942),a=r(29439),i=r(64687),l=r.n(i),c=r(92950),s=r.n(c),u=r(37619),d=r(52643),p=r(89376),m=r(39173),g=r(55140),f=r(68519),b=r(5513),h=r(17386),v=r(48903),y=r(93597),E=r(96094),P=r(45697),O=r.n(P);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=s().lazy((function(){return Promise.all([r.e(3920),r.e(4390),r.e(3631),r.e(236),r.e(6244),r.e(8797),r.e(8365),r.e(5344)]).then(r.bind(r,49477))})),w=s().lazy((function(){return Promise.all([r.e(3920),r.e(4390),r.e(3631),r.e(236),r.e(6244),r.e(8797),r.e(8365),r.e(46)]).then(r.bind(r,53010))})),C=function(e){var t=e.pathPrefix,r=e.urlName,o=e.historyProp,i=e.locationProp,P=e.navigateProp,O=e.docLinkProp,I=e.notificationProp,C=e.showHeaderProp,x=(0,g.Z)(),T=o?o():f.k6?(0,f.k6)():null,N=P?P():b.useNavigate?(0,b.useNavigate)():null,D=i?i():(0,f.TH)(),j=D.pathname,U=D.search,L=void 0===C||C,R=(0,E.Z)({api:y.$c,tableReload:!0}),Z=(0,a.Z)(R,2),_=Z[0],W=Z[1],z=_.data,Q=_.isLoading,B=_.hasError,M=(0,c.useState)(!1),A=(0,a.Z)(M,2),H=A[0],F=A[1],G=(0,c.useState)({isOpen:!1,imageId:null}),q=(0,a.Z)(G,2),V=q[0],$=q[1],J=(0,c.useState)(!1),K=(0,a.Z)(J,2),X=K[0],Y=K[1],ee={pathname:j,search:(0,v.fz)("create_image=true",!0,U)},te={pathname:j,search:(0,v.fz)("update_image=true",!0,U)},re=function(){var e=(0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:Y(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e;null==x||null===(e=x.updateDocumentTitle)||void 0===e||e.call(x,"Images")}),[x]),s().createElement(c.Fragment,null,L&&s().createElement(p.Z,{className:"pf-m-light"},s().createElement(m.Z,{title:"Images"})),s().createElement("section",{className:"edge-images pf-l-page__main-section pf-c-page__main-section"},s().createElement(h.default,{pathPrefix:t,urlName:r,historyProp:o,locationProp:i,navigateProp:P,data:(null==z?void 0:z.data)||[],count:null==z?void 0:z.count,isLoading:Q,hasError:B,fetchImageSets:W,docLinkProp:O,openCreateWizard:function(){P?N(S(S({},ee),{},{replace:!0})):T.push(S({},ee)),F(!0)},openUpdateWizard:function(e){P?N(S(S({},te),{},{replace:!0})):T.push(S({},te)),$({isOpen:!0,imageId:e})},hasModalSubmitted:X,setHasModalSubmitted:Y})),H&&s().createElement(c.Suspense,{fallback:s().createElement(d.b,null,s().createElement(u.$,null))},s().createElement(k,{navigateBack:function(){P?N(S(S({},ee),{},{replace:!0})):T.push({pathname:j,search:(0,v.fz)("create_image=true",!1,U)}),F(!1)},reload:re,notificationProp:I,locationProp:i})),V.isOpen&&s().createElement(c.Suspense,{fallback:s().createElement(d.b,null,s().createElement(u.$,null))},s().createElement(w,{navigateBack:function(){P?N(S(S({},te),{},{replace:!0})):T.push({pathname:j,search:(0,v.fz)("update_image=true",!1,U)}),$((function(e){return S(S({},e),{},{isOpen:!1})}))},reload:re,updateImageID:V.imageId,notificationProp:I,locationProp:i})))};C.propTypes={pathPrefix:O().string,urlName:O().string,historyProp:O().func,locationProp:O().func,navigateProp:O().func,notificationProp:O().object,showHeaderProp:O().bool,docLinkProp:O().string};const x=C},14627:(e,t,r)=>{"use strict";r.d(t,{S:()=>n,T:()=>o});var n=function(e,t,r){var n=e;if(t||r){var o=[];t&&o.push(t),r&&o.push(r),n=o.join("/")}return n},o=function(e,t){return!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")}},35681:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f,u:()=>m});var n=r(92950),o=r.n(n),a=r(45697),i=r.n(a),l=r(69174),c=r(75824),s=r(79851),u=r(34512),d=r(98309),p={booting:{text:"Booting",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},success:{text:"Ready",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},passed:{text:"Passed",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.iQ.exclamationTriangle,color:d.OE.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},error:{text:"Error",Icon:d.iQ.timesCircle,color:d.OE.red,labelColor:"red"},default:{text:"Unknown",Icon:d.iQ.unknown},interrupted:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"}},m=function(e,t,r){return"ERROR"===r?"error":"UNRESPONSIVE"===r?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},g=function(e){var t=e.id,r=e.type,n=e.isLabel,a=void 0!==n&&n,i=e.toolTipContent,d=void 0===i?"":i,m=e.className,g=void 0===m?"":m,f=e.isLink,b=Object.prototype.hasOwnProperty.call(p,r)?p[r]:p.default,h=b.text,v=b.Icon,y=b.color,E=b.labelColor;return o().createElement(o().Fragment,null,a?o().createElement(l._,{id:t,color:E,icon:o().createElement(v,null),className:g},h):o().createElement(s.P,{id:t,style:{color:y},className:g},o().createElement(u.J,{className:"pf-u-mr-sm"},d?o().createElement(c.u,{content:"blargh"},o().createElement(v,null)):o().createElement(v,null)),o().createElement(u.J,null,o().createElement("p",{style:f?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},h))))};const f=g;g.propTypes={id:i().string,type:i().string,isLabel:i().bool,toolTipContent:i().string,className:i().string,isLink:i().bool},g.defaultProps={id:"status"}},96094:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(4942),o=r(15861),a=r(29439),i=r(64687),l=r.n(i),c=r(83215),s=r(92950),u=r(77760);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m=function(e){var t,r=e.api,n=e.id,i=void 0===n?null:n,d=e.statusMessages,m=e.tableReload,g=void 0!==m&&m,f=(0,u.useDispatch)(),b=(0,s.useState)([]),h=(0,a.Z)(b,2),v=h[0],y=h[1],E=(0,s.useState)(!0),P=(0,a.Z)(E,2),O=P[0],I=P[1],S=(0,s.useState)(!1),k=(0,a.Z)(S,2),w=k[0],C=k[1],x=(0,s.useState)((function(){return r})),T=(0,a.Z)(x,2),N=T[0],D=T[1],j=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var U=function(){var e=(0,o.Z)(l().mark((function e(){var t,r,n=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",I(!0),e.prev=2,e.next=5,N({id:i,query:t});case 5:r=e.sent,y(r),j&&f(p({},(0,c.wN)(p({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),C(!0),f(p({},(0,c.wN)(p({variant:"danger"},d.onError))));case 14:return e.prev=14,I(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){g||U()}),[]),[{data:v,isLoading:O,hasError:w},U,N,D]}},21064:()=>{},82014:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6077.befb8dbef389f564f17fd26c605e158e.js.map