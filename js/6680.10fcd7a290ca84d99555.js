(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[6680],{37742:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var o=n(44914),r=n.n(o),a=n(75253),l=n(5556),i=n.n(l),s=n(30083),c=n(61574),u=n(71519),d=n(63767),m=n(46634),p=n(45523),v=n(72511),f=n(17427),g=n(71544),h=n(7838),b=n(39440),y=[{label:"Name",type:"text"},{label:"Status",type:"checkbox",options:[{option:"Update available",value:"updateAvailable"}]}],I=function(e,t,n,o,a,l,i,c){return null==e?void 0:e.map((function(e){var a=e.DeviceName,u=e.DeviceGroups,m=e.DeviceID,v=e.DeviceUUID,b=e.UpdateAvailable,y=e.LastSeen,I=e.ImageName,E=e.ImageSetID,D=e.Status,w=e.DispatcherStatus,k=e.GroupName,S=e.GroupUUID,C=(0,g.N)(D,b,w);""===a&&(a="localhost"),i&&(u=k&&S?[{ID:S,Name:k}]:[]),null===u&&(u=[]);var U=r().createElement("div",null,r().createElement(p.m,{content:r().createElement("div",null,u.map((function(e,t){return r().createElement("p",{key:t},e.Name)})))},r().createElement("span",null,"Multiple groups"))),N="federated"!==o?"edge".concat(s.J.inventory,"/").concat(v):"insights/inventory/".concat(v),x="federated"!==o?"edge".concat(s.J.manageImages,"/").concat(E):"insights/image-builder/manage-edge-images/".concat(E);return{rowInfo:{deviceID:m,id:v,display_name:a,updateImageData:b,deviceStatus:(0,g.N)(D,b,w),imageSetId:E,imageName:I,deviceGroups:u},noApiSortFilter:[a||"",I||"","",y||"",(0,g.N)(D,b)],cells:[{title:t?(0,f.d)({pathname:N,linkText:a,navigate:l}):a},{title:I?t?(0,f.d)({pathname:x,linkText:I,navigate:l}):I:"unavailable"},{title:0===u.length?r().createElement("div",{className:"pf-v5-u-disabled-color-200"},"No"," ",i&&c?"workspace":"group"):1===u.length?u[0].Name:U},{title:y?r().createElement(d.A,{date:y}):"Unknown"},{title:"error"===C||"unresponsive"===C?r().createElement(h.A,{lastSeen:y,fetchDevices:n,device:e},r().createElement(g.A,{type:"error"===C?"errorWithExclamationCircle":C,isLink:!0})):r().createElement(g.A,{type:"error"===C?"errorWithExclamationCircle":C})}]}}))},E=function(e){var t=e.navigateProp,n=e.historyProp,o=e.locationProp,l=e.hasCheckbox,i=void 0!==l&&l,d=e.selectedItems,p=e.selectedItemsUpdateable,g=e.skeletonRowQuantity,h=e.data,E=e.count,D=e.isLoading,w=e.hasError,k=e.kebabItems,S=e.setRemoveModal,C=(e.setIsAddModalOpen,e.handleAddDevicesToGroup),U=e.handleRemoveDevicesFromGroup,N=e.handleEditNameSystem,x=e.handleDeleteSystem,A=e.handleUpdateSelected,_=e.hasModalSubmitted,P=e.setHasModalSubmitted,T=e.fetchDevices,O=e.isSystemsView,R=void 0!==O&&O,F=e.isAddSystemsView,G=void 0!==F&&F,W=e.urlName,j=e.enforceEdgeGroups,L=S,M=R,z=n?n():c.W6?(0,c.W6)():null,V=t?t():u.useNavigate?(0,u.useNavigate)():null,H=o?o():c.zy?(0,c.zy)():null,B=H.pathname,Q=H.search,J=(0,f.h)(b.xo),q=!j&&J,X=(0,f.h)(b.QX),Y=t?"federated":B===s.J.inventory?B:"/"===B?"":"".concat(B,"/systems"),$=(0,f.h)(b.Cd),K=[],Z=[],ee=!!h&&h.length>0,te=function(e,t,n){return[{title:"Name",type:"name",sort:t,columnTransforms:[(0,m.cellWidth)(25)]},{title:"Image",type:"image",sort:!1,columnTransforms:[(0,m.cellWidth)(20)]},{title:e?n?"Workspace":"Group":"Groups",type:"groups",sort:!1,columnTransforms:[(0,m.cellWidth)(15)]},{title:"Last seen",type:"last_seen",sort:t,columnTransforms:[(0,m.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,m.cellWidth)(25)]}]}(q,ee,X);if("manage-edge-inventory"===W){for(var ne=0;ne<y.length;ne++){var oe=y[ne];"Status"===oe.label&&(oe.label="Image status"),K.push(oe)}for(var re=0;re<te.length;re++){var ae=te[re];"Status"===ae.title&&(ae.title="Image status"),Z.push(ae)}}else K=y,Z=te;return r().createElement("div",{className:"edge"},r().createElement(r().Fragment,null,R&&(0,f.Rj)(D,E,Q)&&!n?r().createElement(v.A,{"data-testid":"general-table-empty-state-no-data",icon:"plus",title:"Connect edge systems",body:"Connect and manage edge systems here after registering them via the console. To start, create a RHEL for Edge image and install it to your target system.",secondaryActions:[{title:"Create RHEL for Edge images and configure automated management",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/create_rhel_for_edge_images_and_configure_automated_management/index",type:"link"}]}):r().createElement(a.A,{historyProp:n,navigateProp:t,locationProp:o,apiFilterSort:!0,isUseApi:!0,filters:K,filtersName:"edge-devices-table-filters",loadTableData:T,tableData:{count:E,isLoading:D,hasError:w},columnNames:Z,rows:I(h||[],G||R,T,Y,0,V,q,X),actionResolver:function(e){var n,o,r,a=function(e){return t?"/insights/inventory/".concat(e.rowInfo.id,"/update"):"/inventory/".concat(e.rowInfo.id,"/update")},l=[];return D?l:null!=e&&null!==(n=e.rowInfo)&&void 0!==n&&n.id?(C&&!$&&l.push({title:"Add to ".concat(q&&X?"workspace":"group"),isDisabled:!!q&&0!==(null==e||null===(o=e.rowInfo)||void 0===o?void 0:o.deviceGroups.length),onClick:function(){return C([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),N&&l.push({title:"Edit",onClick:function(){return N([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),x&&l.push({title:"Delete",onClick:function(){return x([{ID:e.rowInfo.deviceID,display_name:e.rowInfo.display_name,UUID:e.rowInfo.id}],!0)}}),U&&!$&&l.push({title:"Remove from ".concat(q&&X?"workspace":"group"),isDisabled:0===(null==e||null===(r=e.rowInfo)||void 0===r?void 0:r.deviceGroups.length),onClick:function(){return U([{ID:e.rowInfo.deviceID,name:e.rowInfo.display_name,deviceGroups:e.rowInfo.deviceGroups,UUID:e.rowInfo.id}],!0)}}),!function(e){var t,n,o;return!(null!==(t=e.rowInfo)&&void 0!==t&&t.UpdateAvailable||"updating"!==(null===(n=e.rowInfo)||void 0===n?void 0:n.deviceStatus)&&"upToDate"!==(null===(o=e.rowInfo)||void 0===o?void 0:o.deviceStatus))}(e)&&A&&l.push({title:"Update",onClick:function(e,n,o){if(t){var r=a(o);V(r,{replace:!0})}else z.push({pathname:a(o)})}}),L&&l.push({title:"Remove from ".concat(q&&X?"workspace":"group"),onClick:function(){return S({name:e.rowInfo.display_name,isOpen:!0,deviceId:e.rowInfo.deviceID})}}),l):l},defaultSort:{index:3,direction:"desc"},toolbarButtons:M?[{isDisabled:!p,title:"Update",id:"toolbar-update-button",click:function(){return A()}}]:[],hasCheckbox:i,selectedItems:d,skeletonRowQuantity:g,kebabItems:k,hasModalSubmitted:_,setHasModalSubmitted:P})))};E.propTypes={navigateProp:i().func,historyProp:i().func,locationProp:i().func,imageData:i().object,urlParam:i().string,openUpdateWizard:i().func,skeletonRowQuantity:i().number,temp:i().func,hasCheckbox:i().bool,setIsModalOpen:i().func,selectedItems:i().func,selectedItemsUpdateable:i().bool,reload:i().bool,setReload:i().func,data:i().array,count:i().number,isLoading:i().bool,hasError:i().bool,handleSingleDeviceRemoval:i().func,kebabItems:i().array,setRemoveModal:i().func,setIsAddModalOpen:i().func,hasModalSubmitted:i().bool,setHasModalSubmitted:i().func,handleAddDevicesToGroup:i().func,handleRemoveDevicesFromGroup:i().func,handleEditNameSystem:i().func,handleDeleteSystem:i().func,handleUpdateSelected:i().func,fetchDevices:i().func,isSystemsView:i().bool,isAddSystemsView:i().bool,urlName:i().string,groupUUID:i().string,enforceEdgeGroups:i().bool};const D=E},7838:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var o=n(10467),r=n(5544),a=n(54756),l=n.n(a),i=n(44914),s=n.n(i),c=n(44461),u=n(72583),d=n(32034),m=n(1319),p=n(90678),v=n(73113),f=n(59263),g=n(31003),h=n(63767),b=n(71100),y=n(29082),I=n(45321),E=n(5556),D=n.n(E),w="The playbook failed to run.",k="The service timed out during the last update.",S="UNRESPONSIVE",C=function(e,t,n){return s().createElement("div",null,e===w?"The playbook failed to run. You can retry the update or build a new one.":e===k?"The service timed out during the last update. You can retry the update or build a new one.":t===S?"The service could not be reached via RHC. The system may communicate at a later time if this is a network issue or could be an indication of a more significant problem.":"Unknown",s().createElement(p.B,{className:"pf-u-mt-sm"},s().createElement(v.a,{className:"pf-u-font-weight-bold"},"Last seen"),s().createElement(v.a,null," ",s().createElement(h.A,{date:n}))))},U=function(e){var t,n,a=e.id,p=e.device,v=e.position,h=e.fetchDevices,E=e.lastSeen,D=e.children,U=(0,i.useState)(!1),N=(0,r.A)(U,2),x=N[0],A=N[1],_=(0,I.useDispatch)(),P={onSuccess:{variant:"info",title:"Updating system",description:"".concat(p.DeviceName," was added to the queue.")}};return s().createElement(d.W,null,s().createElement(f.B,null,s().createElement(c.A,{id:a,isVisible:x,shouldOpen:function(){return A(!0)},shouldClose:function(){return A(!1)},"aria-label":"Alert popover",alertseverityvariant:"danger",headerContent:s().createElement("div",{style:{color:"#c9190b"}}," ",s().createElement(g.Ay,{size:"sm"}),(t=p.DispatcherReason,n=p.DispatcherStatus,s().createElement("span",{className:"pf-u-ml-xs"},t===w?"Playbook error":t===k?"Service timed out":n===S?"Unresponsive":"Unknown"))),icon:"true",variant:"icon",color:"red",position:v,headerComponent:"h6",bodyContent:C(p.DispatcherReason,p.DispatcherStatus,E),footerContent:p.DispatcherStatus!==S?s().createElement(u.$n,{variant:"link",isInline:!0,onClick:function(){(0,b.A)(_,(0,o.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Pn)({DevicesUUID:[p.DeviceUUID]});case 2:A(!1),h();case 4:case"end":return e.stop()}}),e)}))),P)}}," ","Retry"," "):""},D)),s().createElement(m.d,null," "))};U.propTypes={id:D().string,lastSeen:D().string,children:D().element,device:D().object,position:D().string,fetchDevices:D().func},U.defaultProps={position:"left",id:"retry-update"};const N=U},71544:(e,t,n)=>{"use strict";n.d(t,{A:()=>f,N:()=>p});var o=n(44914),r=n.n(o),a=n(5556),l=n.n(a),i=n(55639),s=n(45523),c=n(30666),u=n(93973),d=n(51343),m={booting:{text:"Booting",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},success:{text:"Ready",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},passed:{text:"Passed",Icon:d.l_.checkCircle,color:d.Fm.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.l_.exclamationTriangle,color:d.Fm.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},error:{text:"Error",Icon:d.l_.timesCircle,color:d.Fm.red,labelColor:"red"},default:{text:"Unknown",Icon:d.l_.unknown},interrupted:{text:"Image build in progress",Icon:d.l_.inProgress,color:d.Fm.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.l_.exclamationCircle,color:d.Fm.red,labelColor:"red"}},p=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},v=function(e){var t=e.id,n=e.type,o=e.isLabel,a=void 0!==o&&o,l=e.toolTipContent,d=void 0===l?"":l,p=e.className,v=void 0===p?"":p,f=e.isLink,g=Object.prototype.hasOwnProperty.call(m,n)?m[n]:m.default,h=g.text,b=g.Icon,y=g.color,I=g.labelColor;return r().createElement(r().Fragment,null,a?r().createElement(i.J,{id:t,color:I,icon:r().createElement(b,null),className:v},h):r().createElement(c.B,{id:t,style:{color:y},className:v},r().createElement(u.o,{className:"pf-u-mr-sm"},d?r().createElement(s.m,{content:"blargh"},r().createElement(b,null)):r().createElement(b,null)),r().createElement(u.o,null,r().createElement("p",{style:f?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},h))))};const f=v;v.propTypes={id:l().string,type:l().string,isLabel:l().bool,toolTipContent:l().string,className:l().string,isLink:l().bool},v.defaultProps={id:"status"}},39440:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>r,QX:()=>a,xo:()=>o});var o="edgeParity.inventory-groups-enabled",r="edge-management.hide_groups_actions",a="platform.rbac.groups-to-workspaces-rename"},71100:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var o=n(64467),r=n(10467),a=n(54756),l=n.n(a),i=n(11830);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n,o){var a,s,u,d=null===(a=n)||void 0===a?void 0:a.onSuccess,m=null===(s=n)||void 0===s?void 0:s.onInfo,p=null===(u=n)||void 0===u?void 0:u.onWarning;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var v=function(){var a=(0,r.A)(l().mark((function r(){var a;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t();case 3:return a=r.sent,m&&(o?o.hasInfo(n.onInfo):e(c({},(0,i.z8)(c({variant:"info"},n.onInfo))))),d&&(o?o.hasSuccess(n.onSuccess):e(c({},(0,i.z8)(c({variant:"success"},n.onSuccess))))),p&&(o?o.hasWarning(n.onWarning):e(c({},(0,i.z8)(c({variant:"warning"},n.onWarning))))),r.abrupt("return",a);case 10:return r.prev=10,r.t0=r.catch(0),o?o.err(n.onError,r.t0):e(c({},(0,i.z8)(c(c({variant:"danger"},n.onError),{},{description:null!==r.t0&&void 0!==r.t0&&r.t0.Title?"".concat(n.onError.description,": ").concat(r.t0.Title):n.onError.description})))),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return v()}},26100:()=>{},86151:()=>{},51225:()=>{},83696:()=>{}}]);
//# sourceMappingURL=../sourcemaps/6680.4817f3aee1b33aae8fa80458acdf3859.js.map