(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[673],{67645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(59713),i=n.n(r),l=n(1427),o=n.n(l),a=n(55399),c=n(50693),u=n(16475),s=n(64029),v=n(32835),f=n(56455),p=n(48716),d=n(86350),m=n(38775),b=n(53895),h=n(33902),O=n(69859),g=n(67154),y=n.n(g),E=n(42065),P=n(16545),j=n(58753),_=(0,l.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(291),n.e(397)]).then(n.bind(n,22994))})),D=(0,l.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(291),n.e(397)]).then(n.bind(n,44621))})),w=(0,l.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,18569))})),S=(0,l.lazy)((function(){return Promise.all([n.e(410),n.e(252)]).then(n.bind(n,38514))}));const k=function(){var e=(0,O.useSelector)((function(e){var t=e.permissionsReducer;return null==t?void 0:t.writePermissions})),t=(0,O.useSelector)((function(e){var t,n,r,i,l,o=e.systemProfileStore;return{runningVersion:null==o||null===(t=o.systemProfile)||void 0===t?void 0:t.running_rpm_os_tree_version,stagedVersion:null==o||null===(n=o.systemProfile)||void 0===n?void 0:n.staged_rpm_os_tree_version,nonActiveVersion:(null==o||null===(r=o.systemProfile)||void 0===r?void 0:r.non_active_rpm_os_tree_version)||[],heathCheck:null==o||null===(i=o.systemProfile)||void 0===i?void 0:i.health_check,rhcHealth:null==o||null===(l=o.systemProfile)||void 0===l?void 0:l.rhc_health}})),n=t.runningVersion,r=t.stagedVersion,i=t.nonActiveVersion,a=t.heathCheck,c=t.rhcHealth;return o().createElement(l.Suspense,{fallback:""},o().createElement(_,{store:(0,O.useStore)(),writePermissions:e,ConfigurationCardWrapper:!1,SystemCardWrapper:function(e){return o().createElement(l.Suspense,{fallback:""},o().createElement(D,y()({},e,{hasSAP:!1})))},OperatingSystemCardWrapper:function(e){return o().createElement(l.Suspense,{fallback:""},o().createElement(w,y()({},e,{hasKernelModules:!1,extra:[{title:"Running rpm-ostree version",value:n},{title:"Staged rpm-ostree version",value:r},{title:"Non-active (available rollback version(s))",value:null==i?void 0:i.length,plural:"versions",singular:"version",onClick:function(e,t){return t("Non-active (available rollback version(s))",(0,j.se)(i||[],"Version"),"small")}},{title:"Health check status",value:j.qi[null==a?void 0:a.toUpperCase()]||o().createElement(P.u,{content:"Unknown service status"},o().createElement(E.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))},CollectionCardWrapper:function(e){return o().createElement(l.Suspense,{fallback:""},o().createElement(S,y()({},e,{extra:[{title:"RHC Health (broker functioning)",value:j.qi[null==c?void 0:c.toUpperCase()]||o().createElement(P.u,{content:"Unknown service status"},o().createElement(E.ZP,{className:"ins-c-inventory__detail--unknown"}))}]})))}}))};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=(0,n(18546).Gg)({LOAD_ENTITY_FULFILLED:function(e){return Z(Z({},e),{},{loaded:!0,activeApps:[{title:"General information",name:"general_information",component:k}]})}}),L=n(55206),R=n(32002);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const N=function(){var e=(0,l.useContext)(L.g).getRegistry,t=(0,a.useParams)(),n=t.inventoryId,r=t.uuid,g=(0,O.useSelector)((function(e){var t,n=e.entityDetails;return null==n||null===(t=n.entity)||void 0===t?void 0:t.display_name})),y=(0,O.useSelector)((function(e){var t=e.groupsDetailReducer;return null==t?void 0:t.name}));return(0,l.useEffect)((function(){var e,t;null===(e=insights.chrome)||void 0===e||null===(t=e.hideGlobalFilter)||void 0===t||t.call(e,!0),insights.chrome.appAction("system-detail")}),[]),(0,l.useEffect)((function(){var e,t,r;null===(e=insights)||void 0===e||null===(t=e.chrome)||void 0===t||null===(r=t.appObjectId)||void 0===r||r.call(t,n)}),[n]),o().createElement(m.Z,{hideInvLink:!0,showTags:!0,onLoad:function(t){var n=t.mergeWithDetail;e().register(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({systemProfileStore:R.ZP},n(A)))}},o().createElement(p.Z,null,o().createElement(s.a,{ouiaId:"systems-list"},o().createElement(v.g,null,o().createElement(a.Link,{to:r?"/groups":"/devices"},r?"Groups":"Devices")),r&&o().createElement(v.g,null,y?o().createElement(a.Link,{to:"/groups/".concat(r)},y):o().createElement(f.Z,{size:f.i.xs})),o().createElement(v.g,{isActive:!0},o().createElement("div",{className:"ins-c-inventory__detail--breadcrumb-name"},g||o().createElement(f.Z,{size:f.i.xs})))),o().createElement(b.Z,{fallback:"",hideBack:!0,showTags:!0,hideInvDrawer:!0})),o().createElement(d.Z,{className:"edge-c-device--detail"},o().createElement(c.r,{gutter:"md"},o().createElement(u.P,{span:12},o().createElement(h.Z,{showTags:!0,fallback:""})))))}},9159:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var r=n(59713),i=n.n(r),l=n(87757),o=n.n(l),a=n(48926),c=n.n(a),u=n(63038),s=n.n(u),v=n(1427),f=n.n(v),p=n(69859),d=n(48716),m=n(39173),b=n(55399),h=n(86350),O=n(33739),g=n(24350),y=n.n(g),E=n(94654),P=n.n(E)()(["LOAD_GROUPS","LOAD_GROUP_DETAIL","LOAD_TRESHOLD","LOAD_DEVICES_INFO","LOAD_CANARIES_INFO","LOAD_GROUP_DEVICES_INFO"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),j=(y()(P,(function(e){return e})),n(319),n(68778)),_=n(43047),D=n(69957),w=n(34143),S=n(53636),k=n(54340),C=n(17542),Z=n(12990),A=n(37655),L=n(4088),R=n(14206);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}j.ZP,L.Z.value,_.ZP,Z.Z.value,S.ZP,k.ZP,C.ZP,D.ZP,A.Z.value,w.ZP,R.Z.value;var F=function(e){return Object.values(e).find((function(e){var t;return(null==e||null===(t=e.value)||void 0===t?void 0:t.length)>0||(null==e?void 0:e.length)>0}))},T=function(e,t){return Object.entries(e).map((function(e){var n=s()(e,2),r=n[0],i=n[1],l=(i=void 0===i?{}:i).label,o=i.value;return{category:l,chipKey:r,chips:(null==o?void 0:o.length)>0?Array.isArray(o)?o.map((function(e){return{name:(null==t?void 0:t(e))||e,value:e}})):[{name:(null==t?void 0:t(o))||o,value:o}]:[]}}))},V=n(55206);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G={deviceStatus:{label:"Device status",value:[],titles:[]}},H=[{value:"approval",label:"Required approval"},{value:"ophaned",label:"Orphaned"},{value:"delivering",label:"On the way"}];const W=function(){var e,t,n=(0,v.useState)(),r=s()(n,2),l=r[0],a=r[1],u=(0,v.useState)(G),g=s()(u,2),y=g[0],E=g[1],P=(0,v.useContext)(V.g).getRegistry,j=(0,v.useRef)(null),_=(0,b.useHistory)(),D=(0,p.useDispatch)();return(0,v.useEffect)((function(){return function(){return D({type:"CLEAN_ENTITIES"})}}),[]),f().createElement(v.Fragment,null,f().createElement(d.Z,{className:"pf-m-light"},f().createElement(m.Z,{title:"Available devices"})),f().createElement(h.Z,{className:"edge-devices"},f().createElement(O.Z,{ref:j,onRefresh:function(e,t){!t&&j&&j.current?j.current.onRefreshData(e):t&&t(e)},tableProps:{canSelectAll:!1},getEntities:function(){var e=c()(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(void 0,n);case 2:return r=e.sent,console.log(r,y,"This is data!"),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hideFilters:{registeredWith:!0},filterConfig:{items:[{label:null==y||null===(e=y.deviceStatus)||void 0===e?void 0:e.label,type:"checkbox",filterValues:{onChange:function(e,t){E((function(){return U(U({},y||{}),{},{deviceStatus:U(U({},(null==y?void 0:y.deviceStatus)||{}),{},{value:t})})})),j.current.onRefreshData()},items:H,value:(null==y||null===(t=y.deviceStatus)||void 0===t?void 0:t.value)||[]}}]},activeFiltersConfig:U(U({},F(y)&&{filters:T(y,(function(e){var t;return null===(t=H.find((function(t){return t.value===e})))||void 0===t?void 0:t.label}))}),{},{onDelete:function(e,t,n){E(n?G:function(){return function(e,t){var n,r,l,o=t[0];return N(N({},e),{},i()({},null==o?void 0:o.chipKey,N(N({},e[null==o?void 0:o.chipKey]||{}),{},{value:Array.isArray(null===(n=e[null==o?void 0:o.chipKey])||void 0===n?void 0:n.value)?null===(r=e[null==o?void 0:o.chipKey])||void 0===r||null===(l=r.value)||void 0===l?void 0:l.filter((function(e){var t;return!(null==o||null===(t=o.chips)||void 0===t?void 0:t.find((function(t){return t.value===e})))})):""})))}(y,t)}),j.current.onRefreshData()}}),onRowClick:function(e,t){return _.push("/devices/".concat(t))},onLoad:function(e){var t,n,r=e.mergeWithEntities,i=e.api;a((function(){return null==i?void 0:i.getEntities})),null===(t=P())||void 0===t||null===(n=t.register)||void 0===n||n.call(t,U({},r()))}})))}}}]);
//# sourceMappingURL=GroupsDetailPage.b9606009a4bcc804f8fb.js.map