(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7154],{20375:(e,t,n)=>{"use strict";n.d(t,{Tt:()=>i.Ay});var i=n(24408),r=(n(63537),n(75791),n(69175),n(52621),n(75174),n(70437),n(58168),n(64467),n(80045),n(44914),n(5556)),a=n.n(r),l=(n(72583),n(68419));(0,l.w)({name:"PficonSortCommonAscIcon",height:1024,width:1024,svgPath:"M256,768 L256,16 C256,7.2 248.9,0 240,0 L143.6,0 C134.8,0 128,7.2 128,16 L128,768 L17.1,767.8 C6.8,767.8 0,774.5 0,785.2 C0,791.1 1.2,792.2 3.7,795.3 L179.9,1019.3 C183,1022.3 187.4,1024 192,1024 C196.6,1024 200.6,1022.2 203.7,1019.3 L380.3,795.5 C389.1,784.3 381.1,768 366.9,768 L256,768 Z M528,768 C517.9,768 512,760.8 512,751.8 L512,656.2 C512,647.3 520.2,640 530.3,640 L1005.7,640 C1015.8,640 1024,647.2 1024,656.2 L1024,751.8 C1024,760.7 1015.8,768 1005.7,768 L528,768 Z M530.3,512 C520.1,512 512,503.8 512,493.7 L512,402.8 C512,392.7 520.2,384.5 530.3,384.5 L879.6,384.5 C889.7,384.5 897.9,392.7 897.9,402.8 L897.9,493.7 C897.9,503.8 889.7,512 879.6,512 L530.3,512 L530.3,512 Z M533,256 C521.3,256 512,247.9 512,238 L512,146 C512,136.1 521.4,128 533,128 L747,128 C758.6,128 768,136.1 768,146 L768,238 C768,247.9 758.6,256 747,256 L533,256 Z",yOffset:0,xOffset:0}),(0,l.w)({name:"PficonSortCommonDescIcon",height:1024,width:1024,svgPath:"M256,768 L256,16 C256,7.2 248.9,0 240,0 L143.6,0 C134.8,0 128,7.2 128,16 L128,768 L17.1,767.8 C6.8,767.8 0,774.5 0,785.2 C0,791.1 1.2,792.2 3.7,795.3 L179.9,1019.3 C183,1022.3 187.4,1024 192,1024 C196.6,1024 200.6,1022.2 203.7,1019.3 L380.3,795.5 C389.1,784.3 381.1,768 366.9,768 L256,768 Z M528,128 L1005.7,128 C1015.8,128 1024,135.3 1024,144.2 L1024,239.8 C1024,248.8 1015.8,256 1005.7,256 L530.3,256 C520.2,256 512,248.7 512,239.8 L512,144.2 C512,135.2 517.9,128 528,128 L528,128 Z M530.3,384 L879.6,384 C889.7,384 897.9,392.2 897.9,402.3 L897.9,493.2 C897.9,503.3 889.7,511.5 879.6,511.5 L530.3,511.5 C520.2,511.5 512,503.3 512,493.2 L512,402.3 C512,392.2 520.1,384 530.3,384 L530.3,384 Z M533,640 L747,640 C758.6,640 768,648.1 768,658 L768,750 C768,759.9 758.6,768 747,768 L533,768 C521.4,768 512,759.9 512,750 L512,658 C512,648.1 521.3,640 533,640 L533,640 Z",yOffset:0,xOffset:0});a().oneOf(["left","right"]),n(44384),n(35621),n(54515),n(85765),n(10615),n(19653),n(89580),n(30090),n(54076),n(56541),n(47752)},99176:(e,t,n)=>{"use strict";n.d(t,{Pc:()=>a.A}),n(57502),n(65793),n(41906),n(81608),n(27597);n(64467),n(80045),n(44914);var i=n(5556),r=n.n(i);n(38877);r().oneOfType([r().node,r().element,r().func]),r().func,n(97744);var a=n(36782);n(7894),n(67356),n(26275),n(61015),n(81558),n(42152),n(95658),n(85300),n(76347)},90118:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,L:()=>o});var i,r=n(8674),a=n(44914),l=n(33774);!function(e){e.li="li",e.dt="dt",e.dd="dd"}(i||(i={}));const o=e=>{var{children:t=null,className:n="",component:o=i.li}=e,s=(0,r.__rest)(e,["children","className","component"]);const c=o;return a.createElement(c,Object.assign({},s,{className:(0,l.A)(n)}),t)};o.displayName="TextListItem"},52871:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>i});const i=(0,n(68419).w)({name:"CloseIcon",height:1024,width:730,svgPath:"M725.499315,767.757345 L469.242169,511.500499 L725.499315,255.243653 C729.196254,251.545719 731.096195,247.248119 731,242.4498 C731,237.653479 728.997365,233.35588 725.299427,229.558002 L647.542773,151.701495 C643.743891,147.903617 639.446287,146 634.64996,146 C629.852635,146 625.55503,147.803673 621.857092,151.500607 L365.5,407.857398 L109.241857,151.500607 C105.544917,147.803673 101.246314,145.904733 96.4499876,146 C91.6526619,146.104622 87.3550577,148.002562 83.5571748,151.701495 L5.7005771,229.457058 C1.90269428,233.255936 0,237.553535 0,242.350855 C0,247.148175 1.80175055,251.444775 5.50068853,255.143709 L261.857779,511.500499 L5.50068853,767.757345 C1.80175055,771.454279 -0.0961914123,775.752878 0,779.750645 C0.103697157,784.547965 2.00263857,788.845564 5.7005771,792.642443 L83.4572306,871.299502 C87.2541139,875.096381 91.5527176,877 96.3500433,877 C101.147369,877 105.444973,875.197325 109.142912,871.499391 L365.400058,615.241545 L621.657203,871.499391 C625.355142,875.197325 629.652746,877.095265 634.449072,877 C639.246398,877 643.545002,874.997437 647.342885,871.299502 L725.099538,793.54294 C728.896421,789.745062 730.796362,785.446463 730.796362,780.649143 C731.096195,775.752878 729.196254,771.454279 725.499315,767.757345",yOffset:0,xOffset:0})},74769:(e,t,n)=>{"use strict";t.w=void 0;const i=n(8674),r=i.__importStar(n(44914));let a=0;t.w=function({name:e,xOffset:t=0,yOffset:n=0,width:l,height:o,svgPath:s}){var c;return(c=class extends r.Component{constructor(){super(...arguments),this.id="icon-title-"+a++}render(){const e=this.props,{title:a,className:c}=e,u=i.__rest(e,["title","className"]),d=c?`pf-v5-svg ${c}`:"pf-v5-svg",m=Boolean(a),v=[t,n,l,o].join(" ");return r.createElement("svg",Object.assign({className:d,viewBox:v,fill:"currentColor","aria-labelledby":m?this.id:null,"aria-hidden":!m||null,role:"img",width:"1em",height:"1em"},u),m&&r.createElement("title",{id:this.id},a),r.createElement("path",{d:s}))}}).displayName=e,c}},98457:(e,t,n)=>{"use strict";t.Vw={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.Pi=n(74769).w(t.Vw),t.Ay=t.Pi},32780:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var i=n(60436),r=n(64467),a=n(10467),l=n(5544),o=n(54756),s=n.n(o),c=n(44914),u=n.n(c),d=n(21118),m=n(57502),v=n(83584),f=n(55318),p=n(37623),g=n(932),h=n(5556),C=n.n(h),L=n(88207),b=n(45321),y=n(36513),O=n(17427),w=n(71100),P=n(51343),A=n(43085);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t,n,r,o,h,C,I,D,N,E,k,S,x,M,_=e.navigateBack,T=e.updateImageID,Z=e.reload,z=e.notificationProp,U=e.locationProp,B=(0,c.useState)(),R=(0,l.A)(B,2),V=R[0],K=R[1],F=(0,b.useDispatch)(),H=function(){_(),Z&&Z()};(0,c.useEffect)((function(){(0,a.A)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=insights)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.auth)||void 0===t||t.getUser().then((function(e){return K(null!=e?e:{})}));case 1:case"end":return e.stop()}}),e)})))()}),[]);var $=(0,A.A)({api:y.iI,id:T}),Q=(0,l.A)($,1)[0],W=Q.data,q=Q.isLoading,G=(0,O.h)("fleet-management.temporary-releases"),J=(0,O.h)("edge-management.image_wizard_ui"),X={onSuccess:{title:"Successfully started image update"},onError:{title:"Error",description:"Failed to create image"}};return V&&W&&!q?u().createElement(d.A,{onClose:H,customComponentMapper:{review:L.A},onSubmit:function(e){var t,n,i,r,a,l=e.values;(0,e.setIsSaving)((function(){return!0}));var o=j(j({},l),{},{Id:null==W||null===(t=W.image)||void 0===t?void 0:t.ID,name:null==W||null===(n=W.image)||void 0===n?void 0:n.Name,version:(null==W||null===(i=W.image)||void 0===i?void 0:i.Version)+1,architecture:"x86_64",credentials:l.credentials?l.credentials:null==W||null===(r=W.image)||void 0===r?void 0:r.Installer.SshKey,username:l.username?l.username:null==W||null===(a=W.image)||void 0===a?void 0:a.Installer.Username});(0,w.A)(F,(function(){return(0,y.mF)(o)}),X,z),H()},defaultArch:"x86_64",initialValues:{imageID:null==W?void 0:W.image.ID,name:null==W||null===(t=W.image)||void 0===t?void 0:t.Name,isUpdate:!0,description:null==W||null===(n=W.image)||void 0===n?void 0:n.Description,credentials:null==W||null===(r=W.image)||void 0===r?void 0:r.Installer.SshKey,username:null==W||null===(o=W.image)||void 0===o?void 0:o.Installer.Username,version:null==W||null===(h=W.image)||void 0===h?void 0:h.Version,activationKey:null==W||null===(C=W.image)||void 0===C?void 0:C.activationKey,release:null==W||null===(I=W.image)||void 0===I?void 0:I.Distribution,release_options:G?(0,O.nh)(null==W||null===(D=W.image)||void 0===D?void 0:D.Distribution,[].concat((0,i.A)(P.t9),(0,i.A)(P.gA))):(0,O.nh)(null==W||null===(N=W.image)||void 0===N?void 0:N.Distribution),imageType:["rhel-edge-commit"],"selected-packages":null==W||null===(E=W.image)||void 0===E||null===(E=E.Packages)||void 0===E?void 0:E.map((function(e){return j(j({},e),{},{name:e.Name})})),"third-party-repositories":null==W||null===(k=W.image)||void 0===k||null===(k=k.ThirdPartyRepositories)||void 0===k?void 0:k.map((function(e){return j({id:e.ID,name:e.Name},e)})),"initial-custom-repositories":null==W||null===(S=W.image)||void 0===S||null===(S=S.ThirdPartyRepositories)||void 0===S?void 0:S.map((function(e){return j({id:e.ID,name:e.Name},e)})),"custom-packages":null==W||null===(x=W.image)||void 0===x||null===(x=x.CustomPackages)||void 0===x?void 0:x.map((function(e){return j(j({},e),{},{name:e.Name})}))},test:"",schema:{fields:[{component:m.A.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Update image"},showTitles:!0,title:"Update image: ".concat(null==W||null===(M=W.image)||void 0===M?void 0:M.Name),crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[v.kI,v.Rb,v.An,(0,v.bN)(J,U),v.U$,v.iH,v.NQ,v.tZ,v.gz]}]}}):u().createElement(p.z,null,u().createElement(f.a,null,u().createElement(g.y,{diameter:"100px"})))};D.propTypes={navigateBack:C().func,updateImageID:C().number,reload:C().func,notificationProp:C().object,locationProp:C().object},D.defaultProps={navigateBack:function(){}};const N=D},16789:()=>{},95067:()=>{},29697:()=>{},26078:()=>{},9417:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{A:()=>i})},92901:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(20816);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.A)(r.key),r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},80045:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(98587);function r(e,t){if(null==e)return{};var n,r,a=(0,i.A)(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}}}]);
//# sourceMappingURL=../sourcemaps/UpdateImageWizard.909e2f8fe9d60d5d824467a95faaf6f2.js.map