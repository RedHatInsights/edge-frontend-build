/*! For license information please see 945.a6c06e933f956e29c33b.js.LICENSE.txt */
(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[945],{63767:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(74848),a=n(44914),o=n.n(a),i=n(45523),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=36e5,s=24*c,u=30*s,d=365*s,p=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},f=[{rightBound:1/0,description:function(e){return p(Math.round(e/d),"year")}},{rightBound:d,description:function(e){return p(Math.round(e/u),"month")}},{rightBound:u,description:function(e){return p(Math.round(e/s),"day")}},{rightBound:s,description:function(e){return p(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return p(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],m=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},v=function(e){return{exact:function(e){return m(e)+" UTC"},onlyDate:function(e){return m(e).slice(0,-6)},relative:function(e){return f.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),m(e))},invalid:function(){return"Invalid date"}}[e]},g=function(e,t,n){return{exact:function(t){return v(e)(t)},onlyDate:function(t){return v(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),(0,r.jsx)(i.m,l({},n,{content:(0,r.jsxs)("div",{children:[a,e]}),children:t}))}(v("exact")(a),(0,r.jsx)("span",{children:v(e)(a)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,i=e.extraTitle,l=e.tooltipProps,c=t instanceof Date?t:new Date(t),s=null==t||"Invalid Date"===c.toString()?"invalid":a;return(0,r.jsx)(o().Fragment,{children:g(s,l,i)(c)})}},83241:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(74848),a=n(46942),o=n.n(a),i=n(44914);const l=n.n(i)().createContext("light");var c=n(31398),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const u=function(e){var t=e.className,n=e.children,a=e.ouiaId,i=e.ouiaSafe,u=void 0===i||i,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children","ouiaId","ouiaSafe"]),p=o()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),f="RHI/Header",m=(0,c.Xg)(f,a,u);return(0,r.jsx)(l.Consumer,{children:function(e){var t,a;void 0===e&&(e="light");var i=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((a={})["pf-m-light"]="light"===e,a));return(0,r.jsx)("section",s({"data-ouia-component-type":f,"data-ouia-component-id":m,"data-ouia-safe":u},d,{className:"".concat(p," ").concat(i),"widget-type":"InsightsPageHeader",children:n}))}})}},16401:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(74848),a=n(46942),o=n.n(a),i=n(60316),l=n(31398),c=n(96998),s=n(96553),u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},u.apply(this,arguments)};const d=function(e){var t=e.className,n=e.title,a=e.actionsContent,d=e.ouiaId,p=e.ouiaSafe,f=void 0===p||p,m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),v=o()(t),g="RHI/Header",h=(0,l.Xg)(g,d,f);return(0,r.jsxs)(c.s,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,r.jsx)(s.Z,{children:(0,r.jsx)(i.h,u({headingLevel:"h1",size:"2xl",className:v,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":h,"data-ouia-safe":f},m,{children:n}))}),a?(0,r.jsx)(s.Z,{children:a}):null]})}},81406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>z});var r=n(10467),a=n(5544),o=n(54756),i=n.n(o),l=n(44914),c=n.n(l),s=n(75253),u=n(5556),d=n.n(u),p=n(92697),f=n(86726),m=n(72583),v=n(60915),g=n(983),h=n(15322),y=n(51937),b=n(63802),E=n(71906),O=n(22069),P=n(51976),x=n(60316),j=n(29082),w=n(51343),I=n(45321),S=n(30083),D=n(63767),T=n(83241),k=n(16401),A=n(43085),C=n(46634),N=n(61574),J=n(71519),U=n(71100),L=n(17427),M=[{label:"Version",type:"text"},{label:"Release",type:"text"},{label:"Additional packages",type:"text"},{label:"All packages",type:"text"},{label:"Systems running",type:"text"},{label:"Created",type:"text"}],B=[{title:"Version",cellTransforms:[(0,C.headerCol)("selectable-radio")]},{title:"Release"},{title:"Additional packages"},{title:"All packages"},{title:"Systems running"},{title:"Created"}],_=function(e){var t=e.image,n=[{version:t.cells[0],release:t.cells[1],additionalPackages:t.cells[2],allPackages:t.cells[3],systemsRunning:t.cells[4],created:t.cells[5]}],r="Version",a="Release",o="Additional packages",i="All packages",l="Systems running",s="Created";return c().createElement(c().Fragment,null,c().createElement(P.n,null,c().createElement(x.h,{headingLevel:"h2"},c().createElement(O.E,null,"Current version"))),c().createElement(C.Table,{"aria-label":"Current version table",variant:"compact",borders:!1},c().createElement(C.Thead,null,c().createElement(C.Tr,{style:{borderBottomStyle:"hidden"}},c().createElement(C.Th,{style:{width:"3%"}}),c().createElement(C.Th,null,r),c().createElement(C.Th,null,a),c().createElement(C.Th,null,o),c().createElement(C.Th,null,i),c().createElement(C.Th,null,l),c().createElement(C.Th,null,s))),c().createElement(C.Tbody,null,n.map((function(e,t){return c().createElement(C.Tr,{key:t},c().createElement(C.Td,null),c().createElement(C.Td,{dataLabel:r},e.version),c().createElement(C.Td,{dataLabel:a},e.release),c().createElement(C.Td,{dataLabel:o},e.additionalPackages),c().createElement(C.Td,{dataLabel:i},e.allPackages),c().createElement(C.Td,{dataLabel:l},e.systemsRunning),c().createElement(C.Td,{dataLabel:s},e.created))})))))};_.propTypes={image:d().object};var R=function(e){var t,n,o,u,d=e.data,p=e.fetchDevices,f=e.isLoading,E=e.hasError,T=e.historyProp,k=e.navigateProp,A=e.locationProp,C=e.currentId,L=e.notificationProp,R=null==d?void 0:d.Device,W=(0,l.useState)(null),z=(0,a.A)(W,2),F=z[0],H=z[1],q=(0,l.useState)(null),V=(0,a.A)(q,2),X=V[0],Z=V[1],G=(0,l.useState)(!1),Q=(0,a.A)(G,2),$=Q[0],Y=Q[1],K=(0,I.useDispatch)(),ee=T?T():N.W6?(0,N.W6)():null,te=k?k():J.useNavigate?(0,J.useNavigate)():null,ne=A?A():(0,N.zy)(),re=ne.pathname,ae=ne.search,oe=function(){var e=(0,r.A)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Y(!0),t={onInfo:{title:"Updating system",description:" ".concat(X.deviceName," was added to the queue.")},onError:{title:"Error",description:"Failed to update the selected system(s)"}},e.next=4,(0,U.A)(K,(function(){return(0,j.Pn)({CommitID:X.commitID,DevicesUUID:[X.deviceUUID]})}),t,L);case 4:ie(),Y(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=S.J.inventory,t=(0,N.B6)(re,{path:S.J.inventoryDetailUpdate,exact:!0,strict:!1}),n=(0,N.B6)(re,{path:S.J.insightsInventoryDetailUpdate,exact:!0,strict:!1}),r=(0,N.B6)("/inventory/".concat(C),{path:S.J.inventoryDetail,exact:!0,strict:!1});if(re===(null==t?void 0:t.url)&&(e=ae.includes("from_details=true")?r.url:S.J.inventory),re===(null==n?void 0:n.url)&&(e=ae.includes("from_details=true")?"/insights".concat(r.url):S.J.insightsInventory),re===S.J.fleetManagementSystemDetailUpdate&&(e=ae.includes("from_details=true")?S.J.fleetManagementSystemDetail:S.J.fleetManagementDetail),void 0!==k)te({pathname:e});else{var a=e.split("/").length,o=re.split("/").slice(0,a).join("/");ee.push({pathname:o})}},le=function(e){var t,n=null==e?void 0:e.Version;return{cells:[n,w.WT[null==e?void 0:e.Distribution],(null==e||null===(t=e.Packages)||void 0===t?void 0:t.length)||0,null==e?void 0:e.TotalPackages,null==e?void 0:e.SystemsRunning,c().createElement("span",null,c().createElement(D.A,{type:"relative",date:null==e?void 0:e.CreatedAt}))],commitID:null==e?void 0:e.CommitID,deviceUUID:null==R?void 0:R.UUID,deviceName:null==R?void 0:R.DeviceName,selected:F===n}},ce=le(null==d||null===(t=d.ImageInfo)||void 0===t?void 0:t.Image),se=null==d||null===(n=d.ImageInfo)||void 0===n||null===(n=n.UpdatesAvailable)||void 0===n?void 0:n.map((function(e){return le(null==e?void 0:e.Image)}));return c().createElement(y.Y,null,c().createElement(b.d8,{isWidthLimited:!0},c().createElement(v.Z,null,c().createElement(g.b,null,c().createElement(_,{image:ce}),c().createElement(P.n,null,c().createElement(x.h,{headingLevel:"h2"},c().createElement(O.E,{className:"pf-u-mt-md"},"Select version to update to"))),c().createElement(c().Fragment,null,c().createElement(s.A,{historyProp:T,navigateProp:k,locationProp:A,className:"pf-u-mt-sm",apiFilterSort:!0,isUseApi:!0,loadTableData:p,filters:M,tableData:{count:null==d||null===(o=d.ImageInfo)||void 0===o?void 0:o.Count,isLoading:f,hasError:E},columnNames:B,rows:se,defaultSort:{index:0,direction:"desc"},hasRadio:(null==d||null===(u=d.ImageInfo)||void 0===u?void 0:u.Count)>0,setRadioSelection:function(e){H(e.cells[0]),Z(e)},isFooterFixed:!0}),c().createElement("div",{style:{background:"white",left:"200px",position:"fixed",height:"90px",width:"100%",bottom:"0px",paddingLeft:"80px",paddingBottom:"0px"}},c().createElement(h.c,{style:{paddingBottom:"25px",width:"100%",paddingLeft:0}}),c().createElement(m.$n,{style:{left:"60px"},key:"confirm",variant:"primary",isDisabled:!F||$,onClick:function(){return oe()}},"Update system"),c().createElement(m.$n,{style:{left:"70px"},key:"cancel",variant:"link",onClick:ie},"Cancel")))))))};R.propTypes={data:d().oneOfType([d().object,d().array]),historyProp:d().func,navigateProp:d().func,locationProp:d().func,routeMatchProp:d().func,fetchDevices:d().func,isLoading:d().bool,hasError:d().bool,currentId:d().string,notificationProp:d().object};var W=function(e){var t,n,r=e.inventoryId,o=e.historyProp,i=e.navigateProp,l=e.locationProp,s=e.routeMatchProp,u=e.paramsProp,d=e.notificationProp,m=o?o():N.W6?(0,N.W6)():null,v=u?u():N.g?(0,N.g)():null,g=v.deviceId,h=v.groupId,y=r||g,b=window.location.pathname.indexOf("edge")>0?"edge":S.J.inventory,x=(0,A.A)({api:j.XH,id:y,tableReload:!0}),w=(0,a.A)(x,2),I=w[0],D=I.data,C=I.isLoading,J=I.hasError,U=w[1],M=null==D?void 0:D.Device,B=h?null==M||null===(t=M.DevicesGroups)||void 0===t||null===(t=t.find((function(e){return e.ID.toString()===h})))||void 0===t?void 0:t.Name:null;return c().createElement(c().Fragment,null,c().createElement(T.A,{className:"pf-m-light"},B?c().createElement(p.Q,{ouiaId:"groups-list"},c().createElement(f.J,null,(0,L.d)({pathname:S.J.fleetManagement,linkText:"Groups",history:m})),c().createElement(f.J,null,(0,L.d)({pathname:"".concat(S.J.fleetManagement,"/").concat(h),linkText:B||c().createElement(E.E,{width:"100px"}),history:m})),c().createElement(f.J,null,(0,L.d)({pathname:"".concat(S.J.fleetManagement,"/").concat(h,"/systems/").concat(y,"/"),linkText:null==M?void 0:M.DeviceName,history:m})),c().createElement(f.J,null,"Update")):c().createElement(p.Q,{ouiaId:"systems-list"},c().createElement(f.J,null,(0,L.d)({pathname:"edge"===b?"".concat(b,"/inventory"):"insights".concat(b,"/manage-edge-inventory"),linkText:"Systems",history:m})),c().createElement(f.J,null,(0,L.d)({pathname:"edge"===b?"".concat(b,"/inventory/").concat(y,"/"):"insights".concat(b,"/").concat(y),linkText:(null==M?void 0:M.DeviceName)||c().createElement(E.E,{width:"100px"}),history:m})),c().createElement(f.J,null,"Update")),c().createElement(k.A,{title:"Update"}),c().createElement(P.n,{className:"pf-u-mt-md"},null!=M&&M.DeviceName?c().createElement(O.E,null,"Update ",c().createElement("strong",null,null==M?void 0:M.DeviceName)," to a newer version of ",c().createElement("strong",null,null==D||null===(n=D.ImageInfo)||void 0===n||null===(n=n.Image)||void 0===n?void 0:n.Name)," by selecting a new version from the table below."):c().createElement(E.E,{width:"100px"}))),c().createElement("section",{className:"edge-devices pf-l-page__main-section pf-c-page__main-section"},c().createElement(R,{data:D,currentId:y,fetchDevices:U,isLoading:C,hasError:J,navigateProp:i,histor:!0,yProp:o,locationProp:l,routeMatchProp:s,notificationProp:d})))};W.propTypes={historyProp:d().func,navigateProp:d().func,locationProp:d().func,routeMatchProp:d().func,paramsProp:d().func,inventoryId:d().string,notificationProp:d().object};const z=W},43085:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(64467),a=n(10467),o=n(5544),i=n(54756),l=n.n(i),c=n(11830),s=n(44914),u=n(45321);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(e){var t,n=e.api,r=e.id,i=void 0===r?null:r,d=e.statusMessages,f=e.tableReload,m=void 0!==f&&f,v=(0,u.useDispatch)(),g=(0,s.useState)([]),h=(0,o.A)(g,2),y=h[0],b=h[1],E=(0,s.useState)(!0),O=(0,o.A)(E,2),P=O[0],x=O[1],j=(0,s.useState)(!1),w=(0,o.A)(j,2),I=w[0],S=w[1],D=(0,s.useState)((function(){return n})),T=(0,o.A)(D,2),k=T[0],A=T[1],C=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var N=function(){var e=(0,a.A)(l().mark((function e(){var t,n,r=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",x(!0),e.prev=2,e.next=5,k({id:i,query:t});case 5:n=e.sent,b(n),C&&v(p({},(0,c.z8)(p({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),S(!0),v(p({},(0,c.z8)(p({variant:"danger"},d.onError))));case 14:return e.prev=14,x(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){m||N()}),[]),[{data:y,isLoading:P,hasError:I},N,k,A]}},71100:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(64467),a=n(10467),o=n(54756),i=n.n(o),l=n(11830);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const u=function(e,t,n,r){var o,c,u,d=null===(o=n)||void 0===o?void 0:o.onSuccess,p=null===(c=n)||void 0===c?void 0:c.onInfo,f=null===(u=n)||void 0===u?void 0:u.onWarning;n||(n={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var m=function(){var o=(0,a.A)(i().mark((function a(){var o;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t();case 3:return o=a.sent,p&&(r?r.hasInfo(n.onInfo):e(s({},(0,l.z8)(s({variant:"info"},n.onInfo))))),d&&(r?r.hasSuccess(n.onSuccess):e(s({},(0,l.z8)(s({variant:"success"},n.onSuccess))))),f&&(r?r.hasWarning(n.onWarning):e(s({},(0,l.z8)(s({variant:"warning"},n.onWarning))))),a.abrupt("return",o);case 10:return a.prev=10,a.t0=a.catch(0),r?r.err(n.onError,a.t0):e(s({},(0,l.z8)(s(s({variant:"danger"},n.onError),{},{description:null!==a.t0&&void 0!==a.t0&&a.t0.Title?"".concat(n.onError.description,": ").concat(a.t0.Title):n.onError.description})))),a.abrupt("return",a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return o.apply(this,arguments)}}();return m()}},86893:()=>{},50545:()=>{},98469:()=>{},36752:()=>{},46942:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}}]);
//# sourceMappingURL=../sourcemaps/945.ddf49cfbcde5db0191be91d09c5a9c92.js.map