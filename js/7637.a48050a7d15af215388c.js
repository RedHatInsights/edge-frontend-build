(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7637],{47906:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(92950),a=n.n(r),c=n(45697),o=n.n(c),s=n(64124),i=n(96354),u=n(60722),l=n(87029),p=n(69957),d=n(37655),f=n(68340),b=n(32349),m=n(77760),v=function(e){return a().createElement(f.x,null,a().createElement("strong",null,e," "),"and all its data will be permanently deleted. Associated systems will be removed from the group but will not be deleted.")},g=function(e){return{fields:[{component:i.Z.PLAIN_TEXT,name:"warning-message",label:v(e)},{component:i.Z.CHECKBOX,name:"confirmation",label:"I understand that this action cannot be undone.",validate:[{type:s.Z.REQUIRED}]}]}},O=function(){return a().createElement(p.ZP,{color:d.Z.value})},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,c=e.modalState,o=c.id,s=c.name,i=(0,m.useDispatch)();return a().createElement(u.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Delete group",titleIconVariant:O,variant:"danger",submitLabel:"Delete",schema:g(s),onSubmit:function(){var e={onSuccess:{title:"Success",description:"".concat(s," has been removed successfully")},onError:{title:"Error",description:"Failed to delete group"}};(0,b.Z)(i,(function(){return(0,l.yq)(o)}),e)},reloadData:r})};y.propTypes={id:o().number,name:o().string,modalState:o().object,isModalOpen:o().bool,setIsModalOpen:o().func,reloadData:o().func};const h=y},61381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(15861),a=n(64687),c=n.n(a),o=n(92950),s=n.n(o),i=n(45697),u=n.n(i),l=n(64124),p=n(96354),d=n(60722),f=n(87029),b=n(48903),m=n(32349),v=n(77760),g=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Tb)(t);case 2:if(!e.sent.data.isValid){e.next=5;break}return e.abrupt("return","Group name already exists");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O={fields:[{component:p.Z.TEXT_FIELD,name:"name",label:"Group name",helperText:"Can only contain letters, numbers, spaces, hyphens ( - ), and underscores( _ ).",isRequired:!0,validate:[{type:l.Z.REQUIRED},{type:l.Z.MAX_LENGTH,threshold:50},b.qg,g]}]},y=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.reloadData,a=e.modalState,c=a.id,o=a.name,i=(0,v.useDispatch)();return s().createElement(d.Z,{isOpen:t,closeModal:function(){return n(!1)},title:"Rename group",submitLabel:"Save",schema:O,initialValues:a,onSubmit:function(e){var t={onSuccess:{title:"Success",description:"".concat(o," has been renamed to ").concat(e.name," successfully")},onError:{title:"Error",description:"Failed to rename group"}};(0,m.Z)(i,(function(){return(0,f.OS)(c,e)}),t)},reloadData:r})};y.propTypes={id:u().number,modalState:u().object,isModalOpen:u().bool,setIsModalOpen:u().func,reloadData:u().func};const h=y},87029:(e,t,n)=>{"use strict";n.d(t,{D9:()=>o,FP:()=>f,OS:()=>l,Qo:()=>O,Tb:()=>g,VL:()=>u,_j:()=>v,e3:()=>d,jA:()=>s,sS:()=>c,tW:()=>b,ur:()=>m,xk:()=>i,yq:()=>p});var r=n(66702),a=n(93454),c=function(e){return a.instance.post("".concat(r.Ds,"/device-groups/"),{Name:e.name,Type:"static"})},o=function(e){return a.instance.post("".concat(r.$3,"/groups"),{name:e.name})},s=function(e){var t=e.query,n=(0,r.Vs)(t);return a.instance.get("".concat(r.Ds,"/device-groups?").concat(n))},i=function(e){var t=e.query,n=(0,r.Vs)(t);return a.instance.get("".concat(r.$3,"/groups?").concat(n))},u=function(e){var t=e.id,n=e.query,c=(0,r.Vs)(n);return a.instance.get("".concat(r.Ds,"/device-groups/").concat(t,"/view?").concat(c))},l=function(e,t){return a.instance.put("".concat(r.Ds,"/device-groups/").concat(e),{Name:t.name,Type:"static"})},p=function(e){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e))},d=function(e,t){return a.instance.post("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{ID:e,Devices:t})},f=function(e,t){var n=[];return t.forEach((function(e){return n.push(e.UUID)})),a.instance.post("".concat(r.$3,"/groups/").concat(e,"/hosts"),n)},b=function(e,t){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices"),{data:{ID:e,Devices:t}})},m=function(e,t){return a.instance.delete("".concat(r.$3,"/groups/").concat(e,"/hosts/")+t.join(","))},v=function(e,t){return a.instance.delete("".concat(r.Ds,"/device-groups/").concat(e,"/devices/").concat(t))},g=function(e){return a.instance.get("".concat(r.Ds,"/device-groups/checkName/").concat(e))},O=function(e){return a.instance.get("".concat(r.$3,"/groups?name=").concat(e,"&order_by=name&order_how=ASC"))}},60722:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(15861),a=n(4942),c=n(87462),o=n(64687),s=n.n(o),i=n(92950),u=n.n(i),l=n(80236),p=n(79442),d=n(67850),f=n(41387),b=n(45697),m=n.n(b);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.isOpen,n=e.title,a=e.titleIconVariant,o=e.closeModal,i=e.submitLabel,b=e.schema,m=e.initialValues,v=e.variant,O=e.reloadData,y=e.size,h=e.onSubmit,D=e.additionalMappers,j=e.validatorMapper;return u().createElement(l.u,{variant:null!=y?y:"small",title:n,titleIconVariant:null!=a?a:null,isOpen:t,onClose:o},u().createElement(p.Z,{schema:b,validatorMapper:j,FormTemplate:function(e){return u().createElement(d.ZP,(0,c.Z)({},e,{submitLabel:i,disableSubmit:["invalid"],buttonsProps:{submit:{variant:v}}}))},initialValues:m,componentMapper:D?g(g({},D),f.ZP):f.ZP,onSubmit:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:setTimeout((0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){return o()}}))};O.propTypes={isOpen:m().bool,title:m().string,closeModal:m().func,reloadData:m().func,submitLabel:m().string,schema:m().object,initialValues:m().object,variant:m().string,onSubmit:m().func,size:m().string,additionalMappers:m().object,titleIconVariant:m().any,validatorMapper:m().object};const y=O},96094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(4942),a=n(15861),c=n(29439),o=n(64687),s=n.n(o),i=n(83215),u=n(92950),l=n(77760);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(e){var t,n=e.api,r=e.id,o=void 0===r?null:r,p=e.statusMessages,f=e.tableReload,b=void 0!==f&&f,m=(0,l.useDispatch)(),v=(0,u.useState)([]),g=(0,c.Z)(v,2),O=g[0],y=g[1],h=(0,u.useState)(!0),D=(0,c.Z)(h,2),j=D[0],S=D[1],w=(0,u.useState)(!1),E=(0,c.Z)(w,2),Z=E[0],P=E[1],M=null===(t=p)||void 0===t?void 0:t.onSuccess;p||(p={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var x=function(){var e=(0,a.Z)(s().mark((function e(){var t,r,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",S(!0),e.prev=2,e.next=5,n({id:o,query:t});case 5:r=e.sent,y(r),M&&m(d({},(0,i.wN)(d({variant:"success"},p.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),P(!0),m(d({},(0,i.wN)(d({variant:"danger"},p.onError))));case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){b||x()}),[]),[{data:O,isLoading:j,hasError:Z},x]}},21078:(e,t,n)=>{var r=n(62488),a=n(37285);e.exports=function e(t,n,c,o,s){var i=-1,u=t.length;for(c||(c=a),s||(s=[]);++i<u;){var l=t[i];n>0&&c(l)?n>1?e(l,n-1,c,o,s):r(s,l):o||(s[s.length]=l)}return s}},37285:(e,t,n)=>{var r=n(62705),a=n(35694),c=n(1469),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return c(e)||a(e)||!!(o&&e&&e[o])}},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},81754:()=>{},10497:()=>{},10108:()=>{},54476:()=>{},80897:()=>{},40837:()=>{},98379:()=>{},99624:()=>{},27479:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},40209:()=>{},38299:()=>{},72816:()=>{},45987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(63366);function a(e,t){if(null==e)return{};var n,a,c=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}}}]);
//# sourceMappingURL=../sourcemaps/7637.bbb3b1553a7a20b5e9d0e233c528716e.js.map