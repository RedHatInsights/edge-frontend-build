(self.webpackChunkinsights_frontend_starter_app=self.webpackChunkinsights_frontend_starter_app||[]).push([[734],{12009:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var r,a=n(1427),l=n.n(a),o=n(69859),u=n(24350),i=n.n(u),c=n(94654),s="LOAD_GROUPS",m=n.n(c)()([s,"LOAD_GROUP_DETAIL"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),d=(i()(m,(function(e){return e})),n(319)),p=n.n(d),f=["done","error","pending","unknown","warning","notification"],g=function(e,t){return Math.floor(Math.random()*(t-e))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e10;return new Date(+new Date-Math.floor(Math.random()*e))},E=function(){return{uuid:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),name:Math.random().toString(36).substr(2,10),sensors:g(0,5e3),is_secure:Boolean(Math.round(10*Math.random())%2),last_seen:v(),status:f[g(0,f.length)]}},x=function(e){var t=e.perPage,n=e.page||1,r=t||20;return insights.chrome.auth.getUser().then((function(){return{results:p()(new Array(t)).map(E),meta:{count:200,limit:r*n,offset:r*(n-1)}}}))},h=n(75061),b=n(59713),O=n.n(b);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=(0,n(25311).Gg)((r={},O()(r,"".concat(s,"_PENDING"),(function(e){return P(P({},e),{},{groups:[],isLoading:!0})})),O()(r,"".concat(s,"_FULFILLED"),(function(e,t){var n=t.payload;return P(P({},e),{},{isLoading:!1,groups:(null==n?void 0:n.results)||[],meta:(null==n?void 0:n.meta)||{}})})),r),{});var D=n(14224),w=n(89583),L=n(81159),S=n(34023),C=n(13877),j=n(26577),N=n(47835),G=n(29515),M=n(62851),k=n(49287),B=n(18038),F=n(2095),R=n(85962),U=n(21015);const A=function(){return l().createElement(k.r,{hasGutter:!0},l().createElement(B.P,{span:3},l().createElement(F.Card,null,l().createElement(U.O,null,"Health threshold Visualization"),l().createElement(R.CardBody,null))),l().createElement(B.P,{span:3},l().createElement(F.Card,null,l().createElement(U.O,null,"Devices info"),l().createElement(R.CardBody,null))),l().createElement(B.P,{span:3},l().createElement(F.Card,null,l().createElement(U.O,null,"Last Canaries"),l().createElement(R.CardBody,null))))};var I=n(63038),T=n.n(I),z=n(34723),H=n(55399),J=[{title:"Name of group",transforms:[z.sortable]},{title:"Number of devices",transforms:[z.sortable]},{title:"Secure",transforms:[z.sortable]},{title:"Last seen",transforms:[z.sortable]},{title:"Status",transforms:[z.sortable]}];const V=function(){var e=(0,a.useState)({}),t=T()(e,2),n=t[0],r=t[1],u=(0,o.useSelector)((function(e){var t=e.groupsReducer;return null==t?void 0:t.groups}));return l().createElement(z.Table,{"aria-label":"Groups table",cells:J,sortBy:n,onSort:function(e,t,n){return r((function(){return{index:t,direction:n}}))},rows:u.map((function(e){return{cells:[{title:l().createElement(H.Link,{to:"/groups/".concat(null==e?void 0:e.uuid)},null==e?void 0:e.name)},null==e?void 0:e.sensors,{title:(null==e?void 0:e.is_secure)?"secure":"non secure"},{title:new Date(null==e?void 0:e.last_seen).toDateString()},null==e?void 0:e.status]}}))},l().createElement(z.TableHeader,null),l().createElement(z.TableBody,null))},K=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)((function(e){var t=e.groupsReducer;return null==t?void 0:t.isLoading})),n=(0,o.useSelector)((function(e){var t=e.groupsReducer;return(null==t?void 0:t.meta)||{page:1}}));return(0,a.useEffect)((function(){(0,h.JH)().register({groupsReducer:_}),e(function(){return{type:s,payload:x({perPage:arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,page:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1})}}())}),[]),l().createElement(a.Fragment,null,l().createElement(D.mr,{className:"pf-m-light"},l().createElement(D.BV,{title:"Available groups"})),l().createElement(w.o,{className:"edge-groups"},l().createElement(L.K,{hasGutter:!0},l().createElement(S.v,{className:"edge-groups__info"},l().createElement(A,null)),l().createElement(S.v,{isFilled:!0},l().createElement(N.U,!1===t?{pagination:{itemCount:null==n?void 0:n.count,page:(null==n?void 0:n.offset)/(null==n?void 0:n.limit)+1,perPage:Number(null==n?void 0:n.limit),isCompact:!0}}:{pagination:l().createElement(j.O,null)}),!1===t?l().createElement(V,null):l().createElement(M.c,{colSize:5,rowSize:15}),l().createElement(G.f,{isFooter:!0},!1===t&&l().createElement(C.Pagination,{itemCount:null==n?void 0:n.count,page:(null==n?void 0:n.offset)/(null==n?void 0:n.limit)+1,perPage:Number(null==n?void 0:n.limit),dropDirection:"up"}))))))}}}]);
//# sourceMappingURL=GroupsPage.05054ed670c7be79e7e3.js.map