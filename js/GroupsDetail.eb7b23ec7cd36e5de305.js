(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[7563,8471,7347,1157,704,6681],{64029:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(70655),r=n(92950),i=n(44303),o=n(38296),c=n(62472);const l=e=>{var{children:t=null,className:n="","aria-label":s="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=(0,a.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=(0,c.S$)(l.displayName,u,d);return r.createElement("nav",Object.assign({},m,{"aria-label":s,className:(0,o.i)(i.Z.breadcrumb,n)},p),r.createElement("ol",{className:i.Z.breadcrumbList},r.Children.map(t,((e,t)=>{const n=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:n}):e}))))};l.displayName="Breadcrumb"},32835:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var a=n(70655),r=n(92950),i=n(93174),o=n(44303),c=n(38296);const l=e=>{var{children:t=null,className:n="",to:l,isActive:s=!1,isDropdown:u=!1,showDivider:d,target:m,component:p="a",render:v}=e,f=(0,a.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=p,g=s?"page":void 0,h=(0,c.i)(o.Z.breadcrumbLink,s&&o.Z.modifiers.current);return r.createElement("li",Object.assign({},f,{className:(0,c.i)(o.Z.breadcrumbItem,n)}),d&&r.createElement("span",{className:o.Z.breadcrumbItemDivider},r.createElement(i.ZP,null)),"button"===p&&r.createElement("button",{className:h,"aria-current":g,type:"button"},t),u&&r.createElement("span",{className:(0,c.i)(o.Z.breadcrumbDropdown)},t),v&&v({className:h,ariaCurrent:g}),l&&!v&&r.createElement(b,{href:l,target:m,className:h,"aria-current":g},t),!l&&"button"!==p&&!u&&t)};l.displayName="BreadcrumbItem"},44303:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a}),n(58392);const a={breadcrumb:"pf-c-breadcrumb",breadcrumbDropdown:"pf-c-breadcrumb__dropdown",breadcrumbHeading:"pf-c-breadcrumb__heading",breadcrumbItem:"pf-c-breadcrumb__item",breadcrumbItemDivider:"pf-c-breadcrumb__item-divider",breadcrumbLink:"pf-c-breadcrumb__link",breadcrumbList:"pf-c-breadcrumb__list",dropdownToggle:"pf-c-dropdown__toggle",modifiers:{current:"pf-m-current",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},30991:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>X});var a=n(93433),r=n(4942),i=n(29439),o=n(92950),c=n.n(o),l=n(64029),s=n(32835),u=n(56787),d=n(84457),m=n(75728),p=n(99355),v=n(28191),f=n(92298),b=n(50383),g=n(75824),h=n(89376),D=n(39173),E=n(3035),y=n(68519),I=n(5513),O=n(9192),S=n(5964),k=n(15656),w=n(87029),Z=n(15861),_=n(64687),N=n.n(_),C=n(47173),j=n(80236),M=n(45697),A=n.n(M),L=n(8027),P=n(96094),x=n(32349),T=n(77760),R=function(e){var t,n=e.groupId,a=e.closeModal,r=e.isOpen,l=e.reloadData,s=e.groupName,u=(0,P.Z)({api:L.$v,tableReload:!0}),d=(0,i.Z)(u,2),m=d[0],p=d[1],v=m.data,f=m.isLoading,b=m.hasError,g=(0,o.useState)([]),h=(0,i.Z)(g,2),D=h[0],E=h[1],y=(0,T.useDispatch)();return c().createElement(j.u,{id:"add-systems-modal",title:"Add systems",position:"top",isOpen:r,onClose:a,variant:"large",actions:[c().createElement(C.zx,{isDisabled:0===D.length,key:"confirm",variant:"primary",onClick:function(){var e={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(s," successfully")},onError:{title:"Error",description:"An error occurred making the request"}};(0,x.Z)(y,(function(){return(0,w.e3)(parseInt(n),D.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((0,Z.Z)(N().mark((function e(){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),500),a()}},"Add systems"),c().createElement(C.zx,{key:"cancel",variant:"link",onClick:a},"Cancel")]},c().createElement(k.default,{selectedItems:E,skeletonRowQuantity:15,hasCheckbox:!0,isLoading:f,hasError:b,count:null==v?void 0:v.count,data:(null==v||null===(t=v.data)||void 0===t?void 0:t.devices)||[],fetchDevices:p}))};R.propTypes={groupId:A().string,closeModal:A().func,isOpen:A().bool,reloadData:A().func,groupName:A().string};const V=R;var B=n(48903),U=n(96354),G=n(52643),z=n(37619),F=n(60722),H=n(47906),$=n(61381);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=c().lazy((function(){return Promise.all([n.e(8615),n.e(6954),n.e(4390),n.e(6244),n.e(8797),n.e(3047),n.e(6681)]).then(n.bind(n,68940))}));const X=function(){var e,t,n,r,Z,_,N,C,j,M,A=(0,T.useDispatch)(),L=(0,y.UO)(),R=(0,y.k6)(),q=(0,y.TH)(),X=q.search,J=q.pathname,K=L.groupId,Y=(0,o.useState)(!1),ee=(0,i.Z)(Y,2),te=ee[0],ne=ee[1],ae=(0,o.useState)(!1),re=(0,i.Z)(ae,2),ie=re[0],oe=re[1],ce=(0,o.useState)({isOpen:!1,name:"",deviceId:null}),le=(0,i.Z)(ce,2),se=le[0],ue=le[1],de=(0,o.useState)({isOpen:!1,deviceData:null,imageData:null}),me=(0,i.Z)(de,2),pe=me[0],ve=me[1],fe=(0,P.Z)({api:w.VL,id:K,tableReload:!0}),be=(0,i.Z)(fe,2),ge=be[0],he=be[1],De=ge.data,Ee=ge.isLoading,ye=ge.hasError,Ie=null==De||null===(e=De.DeviceGroup)||void 0===e?void 0:e.Name,Oe=(0,o.useState)([]),Se=(0,i.Z)(Oe,2),ke=Se[0],we=Se[1],Ze=(0,o.useState)(!1),_e=(0,i.Z)(Ze,2),Ne=_e[0],Ce=_e[1],je=(0,o.useState)({id:null,name:""}),Me=(0,i.Z)(je,2),Ae=Me[0],Le=Me[1],Pe=(0,o.useState)(!1),xe=(0,i.Z)(Pe,2),Te=xe[0],Re=xe[1],Ve=(0,o.useState)(!1),Be=(0,i.Z)(Ve,2),Ue=Be[0],Ge=Be[1],ze=function(){var e={onSuccess:{title:"Success",description:"".concat(se.name," has been removed successfully")},onError:{title:"Error",description:"Failed to remove system"}};(0,x.Z)(A,(function(){return(0,w._j)(K,se.deviceId)}),e),setTimeout((function(){return Ce(!0)}),800)},Fe="Actions for group details view",He="group-details-dropdown";return c().createElement(c().Fragment,null,c().createElement(h.Z,{className:"pf-m-light"},Ie?c().createElement(l.a,null,c().createElement(s.g,null,c().createElement(I.rU,{to:O._.fleetManagement},"Groups")),c().createElement(s.g,null,Ie)):c().createElement(l.a,null,c().createElement(s.g,{isActive:!0},c().createElement(b.O,{width:"100px"}))),c().createElement(v.k,{justifyContent:{default:"justifyContentSpaceBetween"}},c().createElement(f.B,null,Ie?c().createElement(D.Z,{title:Ie}):c().createElement(b.O,{width:"150px"})),c().createElement(f.B,null,c().createElement(u.L,{position:p.ir.right,toggle:c().createElement(m.Z,{id:He,toggleIndicator:S.ZP,onToggle:function(e){return ne(e)},isDisabled:!1,"aria-label":Fe},c().createElement(g.u,{content:Fe,reference:function(){return document.getElementById(He)}}),"Actions"),isOpen:te,dropdownItems:[c().createElement(d.h,{key:"delete-device-group",onClick:function(){return Le({id:K,name:Ie}),void Re(!0)}},"Delete group"),c().createElement(d.h,{key:"rename-device-group",onClick:function(){return Le({id:K,name:Ie}),void Ge(!0)}},"Rename group"),c().createElement(d.h,{key:"update-all-devices",isDisabled:(0,B.yb)({deviceData:null==De||null===(t=De.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{imageSetId:null==e?void 0:e.ImageSetID}})),imageData:null==De||null===(r=De.DevicesView)||void 0===r||null===(Z=r.devices)||void 0===Z?void 0:Z.some((function(e){return e.ImageID}))}),onClick:function(){ne(!1),ve((function(e){var t,n,a,r;return Q(Q({},e),{},{isOpen:!0,deviceData:null==De||null===(t=De.DevicesView)||void 0===t||null===(n=t.devices)||void 0===n?void 0:n.map((function(e){return{id:null==e?void 0:e.DeviceUUID,display_name:""===(null==e?void 0:e.DeviceName)?"localhost":null==e?void 0:e.DeviceName}})),imageSetId:null==De||null===(a=De.DevicesView)||void 0===a||null===(r=a.devices.find((function(e){return e.ImageSetID})))||void 0===r?void 0:r.ImageSetID})}))}},"Update")]})))),c().createElement("section",{className:"edge-devices pf-l-page__main-section pf-c-page__main-section"},(0,B.G0)(Ee,null==De||null===(_=De.DeviceGroup)||void 0===_?void 0:_.Devices.length,X)?c().createElement(v.k,{justifyContent:{default:"justifyContentCenter"}},c().createElement(E.Z,{icon:"plus",title:"Add systems to the group",body:"Create groups to help manage your systems more effectively.",primaryAction:{text:"Add systems",click:function(){return oe(!0)}},secondaryActions:[{type:"link",title:"Learn more about system groups",link:"https://access.redhat.com/documentation/en-us/edge_management/2022/html-single/working_with_systems_in_the_edge_management_application/index"}]})):c().createElement(k.default,{data:(null==De||null===(N=De.DevicesView)||void 0===N?void 0:N.devices)||[],count:null==De||null===(C=De.DevicesView)||void 0===C?void 0:C.total,isLoading:Ee,hasError:ye,hasCheckbox:!0,handleSingleDeviceRemoval:ze,kebabItems:[{isDisabled:!(ke.length>0),title:"Remove from group",onClick:function(){return ue({name:"",deviceId:null,isOpen:!0})}},{isDisabled:(0,B.yb)({deviceData:ke,imageData:null===(j=ke[0])||void 0===j?void 0:j.updateImageData}),title:"Update selected",onClick:function(){return ve((function(e){return Q(Q({},e),{},{isOpen:!0,deviceData:(0,a.Z)(ke),imageSetId:ke.find((function(e){return null==e?void 0:e.imageSetId})).imageSetId})}))}}],selectedItems:we,setRemoveModal:ue,setIsAddModalOpen:oe,hasModalSubmitted:Ne,setHasModalSubmitted:Ce,fetchDevices:he,isAddSystemsView:!0})),ie&&c().createElement(V,{groupId:K,closeModal:function(){return oe(!1)},isOpen:ie,reloadData:he,groupName:null==De||null===(M=De.DeviceGroup)||void 0===M?void 0:M.Name}),se.isOpen&&c().createElement(F.Z,{isOpen:se.isOpen,closeModal:function(){return ue(!1)},title:"Remove from group",submitLabel:"Remove",variant:"danger",schema:{fields:[{component:U.Z.PLAIN_TEXT,name:"warning-text",label:"Do you want to remove ".concat(ke.length>0?"".concat(ke.length," system").concat(1===ke.length?"":"s"):"".concat(se.name)," from ").concat(Ie,"?")}]},onSubmit:se.deviceId?ze:function(){var e={onSuccess:{title:"Success",description:"".concat(ke.length," systems have been removed successfully")},onError:{title:"Error",description:"failed to remove systems"}};(0,x.Z)(A,(function(){return(0,w.tW)(parseInt(K),ke.map((function(e){return{ID:e.deviceID}})))}),e),setTimeout((function(){return Ce(!0)}),800)},reloadData:he}),pe.isOpen&&c().createElement(o.Suspense,{fallback:c().createElement(G.b,null,c().createElement(z.$,null))},c().createElement(W,{navigateBack:function(){R.push({pathname:J}),ve((function(e){return Q(Q({},e),{},{isOpen:!1})}))},setUpdateModal:ve,updateModal:pe,refreshTable:he})),Te&&c().createElement(H.Z,{isModalOpen:Te,setIsModalOpen:Re,reloadData:function(){return R.push(O._.fleetManagement)},modalState:Ae}),Ue&&c().createElement($.Z,{isModalOpen:Ue,setIsModalOpen:Ge,reloadData:function(){return he()},modalState:Ae}))}},58392:()=>{}}]);
//# sourceMappingURL=../sourcemaps/GroupsDetail.443b93909262afc848768e6b9ef8f7ae.js.map