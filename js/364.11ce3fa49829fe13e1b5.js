(self.webpackChunkedge_frontend=self.webpackChunkedge_frontend||[]).push([[364],{53010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var a=n(93433),i=n(4942),l=n(15861),o=n(29439),r=n(64687),c=n.n(r),u=n(92950),s=n.n(u),d=n(61094),m=n(96354),p=n(25563),v=n(52643),g=n(29390),f=n(37619),h=n(45697),E=n.n(h),b=n(20873),y=n(77760),P=n(93597),I=n(48903),k=n(32349),S=n(98309),O=n(96094);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t,n,i,r,h,E,D,x,N,T,C,U,j,Z,L,_,A,V=e.navigateBack,R=e.updateImageID,W=e.reload,B=e.notificationProp,F=e.locationProp,z=(0,u.useState)(),Q=(0,o.Z)(z,2),G=Q[0],q=Q[1],K=(0,y.useDispatch)(),M=function(){V(),W&&W()};(0,u.useEffect)((function(){(0,l.Z)(c().mark((function e(){var t,n,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(t=insights)||void 0===t||null===(n=t.chrome)||void 0===n||null===(a=n.auth)||void 0===a||a.getUser().then((function(e){return q(null!=e?e:{})}));case 1:case"end":return e.stop()}}),e)})))()}),[]);var H=(0,O.Z)({api:P.Kz,id:R}),J=(0,o.Z)(H,1)[0],$=J.data,Y=J.isLoading,X=(0,I.gV)("fleet-management.temporary-releases"),ee=(0,I.gV)("edge-management.image_wizard_ui"),te={onSuccess:{title:"Successfully started image update"},onError:{title:"Error",description:"Failed to create image"}};return G&&$&&!Y?s().createElement(d.Z,{onClose:M,customComponentMapper:{review:b.Z},onSubmit:function(e){var t,n,a,i,l,o=e.values;(0,e.setIsSaving)((function(){return!0}));var r=w(w({},o),{},{Id:null==$||null===(t=$.image)||void 0===t?void 0:t.ID,name:null==$||null===(n=$.image)||void 0===n?void 0:n.Name,version:(null==$||null===(a=$.image)||void 0===a?void 0:a.Version)+1,architecture:"x86_64",credentials:o.credentials?o.credentials:null==$||null===(i=$.image)||void 0===i?void 0:i.Installer.SshKey,username:o.username?o.username:null==$||null===(l=$.image)||void 0===l?void 0:l.Installer.Username});(0,k.Z)(K,(function(){return(0,P.Bi)(r)}),te,B),M()},defaultArch:"x86_64",initialValues:{imageID:null==$?void 0:$.image.ID,name:null==$||null===(t=$.image)||void 0===t?void 0:t.Name,isUpdate:!0,description:null==$||null===(n=$.image)||void 0===n?void 0:n.Description,credentials:null==$||null===(i=$.image)||void 0===i?void 0:i.Installer.SshKey,username:null==$||null===(r=$.image)||void 0===r?void 0:r.Installer.Username,version:null==$||null===(h=$.image)||void 0===h?void 0:h.Version,release:null==$||null===(E=$.image)||void 0===E?void 0:E.Distribution,release_options:X?(0,I.pS)(null==$||null===(D=$.image)||void 0===D?void 0:D.Distribution,[].concat((0,a.Z)(S.vk),(0,a.Z)(S.R8))):(0,I.pS)(null==$||null===(x=$.image)||void 0===x?void 0:x.Distribution),imageType:["rhel-edge-commit"],"selected-packages":null==$||null===(N=$.image)||void 0===N||null===(T=N.Packages)||void 0===T?void 0:T.map((function(e){return w(w({},e),{},{name:e.Name})})),"third-party-repositories":null==$||null===(C=$.image)||void 0===C||null===(U=C.ThirdPartyRepositories)||void 0===U?void 0:U.map((function(e){return w({id:e.ID,name:e.Name},e)})),"initial-custom-repositories":null==$||null===(j=$.image)||void 0===j||null===(Z=j.ThirdPartyRepositories)||void 0===Z?void 0:Z.map((function(e){return w({id:e.ID,name:e.Name},e)})),"custom-packages":null==$||null===(L=$.image)||void 0===L||null===(_=L.CustomPackages)||void 0===_?void 0:_.map((function(e){return w(w({},e),{},{name:e.Name})}))},test:"",schema:{fields:[{component:m.Z.WIZARD,name:"image-builder-wizard",className:"image-builder",isDynamic:!0,inModal:!0,buttonLabels:{submit:"Update image"},showTitles:!0,title:"Update image: ".concat(null==$||null===(A=$.image)||void 0===A?void 0:A.Name),crossroads:["target-environment","release","imageType","third-party-repositories"],fields:[p.bR,p.Ud,p.l9,(0,p.jS)(ee,F),p.B9,p.$B,p.j7,p.Sp]}]}}):s().createElement(g.Y,null,s().createElement(v.b,null,s().createElement(f.$,{isSVG:!0,diameter:"100px"})))};x.propTypes={navigateBack:E().func,updateImageID:E().number,reload:E().func,notificationProp:E().object,locationProp:E().object},x.defaultProps={navigateBack:function(){}};const N=x},12877:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Se});var a=n(15861),i=n(4942),l=n(29439),o=n(64687),r=n.n(o),c=n(92950),u=n.n(c),s=n(89376),d=n(49739),m=n(83826),p=n(37619),v=n(52643),g=n(68519),f=n(5513),h=n(45697),E=n.n(h),b=n(48903),y=n(68340),P=n(25834),I=n(78140),k=n(68774),S=n(50383),O=n(64029),D=n(32835),w=n(79851),x=n(34512),N=n(56787),T=n(84457),C=n(75728),U=n(99355),j=n(75824),Z=n(35681),L=n(9192),_=n(5964),A=n(62410),V=n(14627),R=function(e,t,n,a){var i,l=t||(null==e?void 0:e.LastImageDetails),o=[];return(null==l||null===(i=l.image)||void 0===i?void 0:i.ID)&&o.push(u().createElement(T.h,{key:"create-new-version-button",component:"button",onClick:function(){var e;return a(null==l||null===(e=l.image)||void 0===e?void 0:e.ID)}},"Create new version")),n&&o.push(u().createElement(T.h,{key:"download-button",component:"button"},u().createElement(y.x,{className:"force-text-black remove-underline",component:"a",href:n,rel:"noopener noreferrer",target:"_blank"},"Download installable .iso for newest image"))),o},W=function(e){var t,n,a,i,o,r,s,d,m,p,v,h,E,y,T,W,B,F,z,Q=e.pathPrefix,G=e.urlName,q=e.historyProp,K=e.navigateProp,M=e.imageData,H=e.imageVersion,J=e.openUpdateWizard,$=(0,c.useState)(!1),Y=(0,l.Z)($,2),X=Y[0],ee=Y[1],te=(0,c.useState)({}),ne=(0,l.Z)(te,2),ae=ne[0],ie=ne[1],le=q?q():g.k6?(0,g.k6)():null,oe=K?K():f.useNavigate?(0,f.useNavigate)():null;(0,c.useEffect)((function(){ie(null==M?void 0:M.data)}),[M]);var re="Actions for image set details view",ce="image-set-details-dropdown",ue=(0,V.S)("edge".concat(L._.manageImages),Q,G);return u().createElement(u().Fragment,null,!M.isLoading&&M.hasError?u().createElement(O.a,null,u().createElement(D.g,null,(0,b.EW)({pathname:ue,linkText:"Back to Manage Images",history:le,navigate:oe}))):u().createElement(u().Fragment,null,u().createElement(O.a,null,u().createElement(D.g,null,(0,b.EW)({pathname:ue,linkText:"Manage Images",history:le,navigate:oe})),H?u().createElement(D.g,null,(0,b.EW)({pathname:"".concat(ue,"/").concat(null==ae||null===(t=ae.ImageSet)||void 0===t?void 0:t.ID),linkText:null==ae||null===(n=ae.ImageSet)||void 0===n?void 0:n.Name,history:le,navigate:oe})):u().createElement(D.g,{isActive:!0},(null==ae||null===(a=ae.ImageSet)||void 0===a?void 0:a.Name)||u().createElement(S.O,{width:"100px"})),H&&u().createElement(D.g,{isActive:!0},null==H||null===(i=H.image)||void 0===i?void 0:i.Version)),u().createElement(k.D,null,u().createElement(w.P,null,u().createElement(x.J,null,u().createElement(P.G,{component:"dl"},u().createElement(I.T,{component:"h1",className:"grid-align-center pf-u-mb-0"},(null==ae||null===(o=ae.ImageSet)||void 0===o?void 0:o.Name)||u().createElement(S.O,{width:"150px"})),u().createElement(I.T,{className:"pf-u-pt-sm",component:"dd"},null!=H&&null!==(r=H.image)&&void 0!==r&&r.Status||null!=ae&&null!==(s=ae.LastImageDetails)&&void 0!==s&&null!==(d=s.image)&&void 0!==d&&d.Status?u().createElement(Z.Z,{type:H?null==H||null===(m=H.image)||void 0===m?void 0:m.Status.toLowerCase():null==ae||null===(p=ae.LastImageDetails)||void 0===p||null===(v=p.image)||void 0===v?void 0:v.Status.toLowerCase()}):u().createElement(S.O,{width:"100px"})),null!=H&&null!==(h=H.image)&&void 0!==h&&h.UpdatedAt||null!=ae&&null!==(E=ae.LastImageDetails)&&void 0!==E&&null!==(y=E.image)&&void 0!==y&&y.UpdatedAt?u().createElement(I.T,{component:"p"},"Last updated ",u().createElement(A.Z,{date:H?null==H||null===(T=H.image)||void 0===T?void 0:T.UpdatedAt:null==ae||null===(W=ae.LastImageDetails)||void 0===W||null===(B=W.image)||void 0===B?void 0:B.UpdatedAt})):u().createElement(S.O,{width:"200px"}))),u().createElement(x.J,{isFilled:!0}),u().createElement(x.J,null,u().createElement(N.L,{position:U.ir.right,toggle:u().createElement(C.Z,{id:ce,toggleIndicator:_.ZP,onToggle:function(e){return ee(e)},isDisabled:"BUILDING"===(H?null==H||null===(F=H.image)||void 0===F?void 0:F.Status:null==ae||null===(z=ae.LastImageDetails)||void 0===z?void 0:z.image.Status)||!1,"aria-label":re},u().createElement(j.u,{content:re,reference:function(){return document.getElementById(ce)}}),"Actions"),isOpen:X,dropdownItems:R(ae,H,null==ae?void 0:ae.ImageBuildIsoURL,J)}))))))};W.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func};const B=W;var F=n(35262),z=n(28883),Q=n(29873),G=n(93433),q=n(50693),K=n(16475),M=n(66435),H=n(98309),J=function(e){var t,n,a,i,o=e.pathPrefix,r=e.urlName,s=e.historyProp,d=e.navigateProp,m=e.imageData,p=e.imageVersion,v=(0,c.useState)({}),h=(0,l.Z)(v,2),E=h[0],O=h[1],D=(0,V.S)("edge".concat(L._.manageImages),o,r),w=s?s():g.k6?(0,g.k6)():null,x=d?d():f.useNavigate?(0,f.useNavigate)():null;(0,c.useEffect)((function(){var e;O(p||(null==m||null===(e=m.data)||void 0===e?void 0:e.LastImageDetails))}),[m,p]);var N=function(e){return(0,G.Z)(Array(2*e)).map((function(e,t){return u().createElement(S.O,{width:"180px",key:t})}))},T={Version:"Version",Created:function(){return u().createElement(A.Z,{date:null==E||null===(e=E.image)||void 0===e?void 0:e.CreatedAt});var e},"Type(s)":function(){var e,t;return null==E||null===(e=E.image)||void 0===e||null===(t=e.OutputTypes)||void 0===t?void 0:t.map((function(e,t){return u().createElement("div",{key:t},e)}))},Release:function(){var e;return null===H.aN||void 0===H.aN?void 0:H.aN[null==E||null===(e=E.image)||void 0===e?void 0:e.Distribution]},Description:"Description"},C={Username:function(){var e,t;return null==E||null===(e=E.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Username},"SSH key":function(){var e,t;return null==E||null===(e=E.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.SshKey}},U={"Total additional packages":function(){var e,t;return(0,b.EW)({pathname:"".concat(D,"/").concat(null==E||null===(e=E.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==E||null===(t=E.image)||void 0===t?void 0:t.ID,"/packages/additional"),linkText:null==E?void 0:E.additional_packages,history:w,navigate:x})},"Total packages":function(){var e,t;return(0,b.EW)({pathname:"".concat(D,"/").concat(null==E||null===(e=E.image)||void 0===e?void 0:e.ImageSetID,"/versions/").concat(null==E||null===(t=E.image)||void 0===t?void 0:t.ID,"/packages/all"),linkText:null==E?void 0:E.packages,history:w,navigate:x})}},j={Added:function(){return null==E?void 0:E.update_added},Removed:function(){return null==E?void 0:E.update_removed},Updated:function(){return null==E?void 0:E.update_updated}};null!=E&&null!==(t=E.image)&&void 0!==t&&null!==(n=t.Installer)&&void 0!==n&&n.Checksum&&(T["SHA-256 checksum"]=function(){var e,t;return null==E||null===(e=E.image)||void 0===e||null===(t=e.Installer)||void 0===t?void 0:t.Checksum}),null!=E&&null!==(a=E.image)&&void 0!==a&&null!==(i=a.Commit)&&void 0!==i&&i.OSTreeCommit&&(T["Ostree commit hash"]=function(){var e,t;return null==E||null===(e=E.image)||void 0===e||null===(t=e.Commit)||void 0===t?void 0:t.OSTreeCommit});var Z=function(e){return E?Object.entries(e).map((function(e,t){var n,a,i=(0,l.Z)(e,2),o=i[0],r=i[1];return u().createElement(c.Fragment,{key:t},u().createElement(I.T,{className:"details-label",component:I.v.dt},o),"SHA-256 checksum"===o||"Ostree commit hash"===o||"SSH key"===o&&r()?u().createElement(I.T,{component:I.v.dd},u().createElement(M.M5,{hoverTip:"Copy",clickTip:"Copied",variant:"expansion",className:"pf-u-text-break-word",id:"".concat(o.replace(/\s+/g,"-").toLowerCase(),"-clipboard-copy")},"function"==typeof r?r()||"Unavailable":(null==E||null===(n=E.image)||void 0===n?void 0:n[r])||"Unavailable")):u().createElement(I.T,{className:"pf-u-text-break-word",component:I.v.dd},"function"==typeof r?0===r()?0:r()||"Unavailable":(null==E||null===(a=E.image)||void 0===a?void 0:a[r])||"Unavailable"))})):null};return u().createElement(k.D,{className:"pf-u-ml-lg pf-u-mt-md"},u().createElement(q.r,{span:12},u().createElement(K.P,{span:5},u().createElement(y.x,{component:y.q.h2},p?"Details":"Most recent image"),u().createElement(P.G,{component:P.F.dl},Z(T)||N(6)),u().createElement(y.x,{component:y.q.h2},"User information "),u().createElement(P.G,{component:P.F.dl},Z(C)||N(2))),u().createElement(K.P,{span:1}),u().createElement(K.P,{span:6},u().createElement(y.x,{component:y.q.h2},"Packages "),u().createElement(P.G,{component:P.F.dl},Z(U)||N(3)),u().createElement(y.x,{component:y.q.h2},"Changes from previous version"),u().createElement(P.G,{component:P.F.dl},Z(j)||N(3)))))};J.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object};const $=J;var Y=n(21061),X=n(93597),ee=n(34766),te=n(96094),ne=[{label:"Status",type:"checkbox",options:[{option:"Building",value:"BUILDING"},{option:"Created",value:"CREATED"},{option:"Error",value:"ERROR"},{option:"Ready",value:"SUCCESS"}]}],ae=[{title:"Version",type:"version",sort:!0,columnTransforms:[(0,ee.cellWidth)(15)]},{title:"Output",type:"image_type",sort:!1,columnTransforms:[(0,ee.cellWidth)(25)]},{title:"Ostree commit hash",type:"ostree_commit_hash",sort:!1,columnTransforms:[(0,ee.cellWidth)(20)]},{title:"Created",type:"created_at",sort:!0,columnTransforms:[(0,ee.cellWidth)(15)]},{title:"Status",type:"status",sort:!1,columnTransforms:[(0,ee.cellWidth)(35)]}],ie=function(e,t,n,a,i,l,o){var r=(0,V.S)("edge".concat(L._.manageImages),a,i);return null==e?void 0:e.map((function(e){return{rowInfo:{id:null==e?void 0:e.ID,imageStatus:null==e?void 0:e.Status,isoURL:null==e?void 0:e.ImageBuildIsoURL,latestImageVersion:n,currentImageVersion:e.Version},noApiSortFilter:[null==e?void 0:e.Version,H.bd[null==e?void 0:e.ImageType],null==e?void 0:e.CreatedAt,null==e?void 0:e.Status],cells:[{title:(0,b.EW)({pathname:"".concat(r,"/").concat(t,"/versions/").concat(e.ID,"/details"),linkText:null==e?void 0:e.Version,history:l,navigate:o})},{title:H.bd[null==e?void 0:e.ImageType]},{title:null!=e&&e.CommitCheckSum?u().createElement(j.u,{content:u().createElement("div",null,e.CommitCheckSum)},u().createElement("span",null,(0,b.aS)(e.CommitCheckSum,5,5))):u().createElement(y.x,null,"Unavailable")},{title:u().createElement(A.Z,{date:null==e?void 0:e.CreatedAt})},{title:u().createElement(Z.Z,{type:null==e?void 0:e.Status.toLowerCase()})}]}}))},le=function(e){var t,n,a,i,o=e.pathPrefix,r=e.urlName,c=e.navigateProp,s=e.historyProp,d=e.locationProp,m=e.imageData,p=e.openUpdateWizard,v=null==m||null===(t=m.data)||void 0===t||null===(n=t.ImageSet)||void 0===n?void 0:n.ID,h=null==m||null===(a=m.data)||void 0===a||null===(i=a.ImageSet)||void 0===i?void 0:i.Version,E=s?s():g.k6?(0,g.k6)():null,b=c?c():f.useNavigate?(0,f.useNavigate)():null,y=(0,te.Z)({api:function(e){var t=e.query;return(0,X.dj)({imageSetID:v,query:t})},tableReload:!0}),P=(0,l.Z)(y,2),I=P[0],k=P[1],S=I.data,O=I.isLoading,D=I.hasError;return u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement(Y.Z,{navigateProp:c,historyProp:s,locationProp:d,apiFilterSort:!0,isUseApi:!0,filters:ne,loadTableData:k,tableData:{count:null==S?void 0:S.count,data:null==S?void 0:S.data,isLoading:O,hasError:D},columnNames:ae,rows:ie(null==S?void 0:S.data,v,h,o,r,E,b),actionResolver:function(e){var t,n,a,i,l,o,r,c=[];return null!==(t=e.rowInfo)&&void 0!==t&&t.isoURL&&c.push({title:"Download",onClick:function(e,t,n){window.open(n.rowInfo.isoURL)}}),("SUCCESS"===(null===(n=e.rowInfo)||void 0===n?void 0:n.imageStatus)||"ERROR"===(null===(a=e.rowInfo)||void 0===a?void 0:a.imageStatus))&&c.push({title:"Update Image",onClick:function(e,t,n){p(n.rowInfo.id)},isDisabled:(null==e||null===(o=e.rowInfo)||void 0===o?void 0:o.latestImageVersion)!==(null==e||null===(r=e.rowInfo)||void 0===r?void 0:r.currentImageVersion)}),"BUILDING"===(null===(i=e.rowInfo)||void 0===i?void 0:i.imageStatus)&&null!==(l=e.rowInfo)&&void 0!==l&&l.id&&c.push({title:""}),c},areActionsDisabled:function(e){var t;return"BUILDING"===(null===(t=e.rowInfo)||void 0===t?void 0:t.imageStatus)},defaultSort:{index:3,direction:"desc"}}))};le.propTypes={pathPrefix:E().string,urlName:E().string,navigateProp:E().func,historyProp:E().func,locationProp:E().func,imageData:E().object,urlParam:E().string,imageSetID:E().number,createRows:E().func,openUpdateWizard:E().func};const oe=le;var re=n(47173),ce=n(15265),ue=n(3035),se=[{label:"Name",type:"text"}],de=[{title:"Name",type:"name",sort:!0,columnTransforms:[(0,ee.cellWidth)(35)]},{title:"Version",type:"version",sort:!1,columnTransforms:[(0,ee.cellWidth)(25)]},{title:"Release",type:"release",sort:!1,columnTransforms:[(0,ee.cellWidth)(35)]}],me=function(e){var t=e.distribution,n=e.installedPackages,a=e.addedPackages;return(0===e.showAll?n.filter((function(e){return(null==a?void 0:a.filter((function(t){return e.name===t.Name})).length)>0})):n).map((function(e){return{noApiSortFilter:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release],cells:[null==e?void 0:e.name,null==e?void 0:e.version,null==e?void 0:e.release,{title:u().createElement("a",{href:"https://access.redhat.com/downloads/content/rhel---".concat(t,"/x86_64/7416/").concat(null==e?void 0:e.name,"/").concat(null==e?void 0:e.version,"-").concat(null==e?void 0:e.release,"/").concat(null==e?void 0:e.arch,"/fd431d51/package"),target:"_blank",rel:"noopener noreferrer"},u().createElement(re.zx,{variant:"link",isSmall:!0,icon:u().createElement(ce.ZP,null),iconPosition:"right"},"More information"))}]}}))},pe={0:"additional",1:"all"},ve={additional:0,all:1},ge=function(e){var t,n,a,i,o,r,s,d,m,p=e.pathPrefix,v=e.historyProp,h=e.locationProp,E=e.navigateProp,b=e.imageVersion,y=v?v():g.k6?(0,g.k6)():null,P=(h?h():(0,g.TH)()).pathname,I=E?E():f.useNavigate?(0,f.useNavigate)():null,k=P;p&&P.startsWith(p)&&(k=P.slice(p.length));var S=k.split("/"),O=7===S.length?ve[S[6]]:1,D=null==b||null===(t=b.image)||void 0===t||null===(n=t.Distribution)||void 0===n?void 0:n.split("-")[1].slice(0,-1),w=(0,c.useState)({}),x=(0,l.Z)(w,2),N=x[0],T=x[1],C=(0,c.useState)(O),U=(0,l.Z)(C,2),j=U[0],Z=U[1];return(0,c.useEffect)((function(){T(b)}),[b]),(0,c.useEffect)((function(){S[5]!==pe[j]&&Z(O)}),[S]),"SUCCESS"===(null==b||null===(a=b.image)||void 0===a||null===(i=a.Commit)||void 0===i?void 0:i.Status)?u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement(Y.Z,{navigateProp:E,historyProp:v,locationProp:h,apiFilterSort:!1,filters:se,tableData:{count:0===j?null==N?void 0:N.additional_packages:null==N?void 0:N.packages,isLoading:!1,hasError:!1},columnNames:de,rows:null!=N&&null!==(o=N.image)&&void 0!==o&&null!==(r=o.Commit)&&void 0!==r&&r.InstalledPackages?me({distribution:D,installedPackages:null==N||null===(s=N.image)||void 0===s||null===(d=s.Commit)||void 0===d?void 0:d.InstalledPackages,addedPackages:null==N||null===(m=N.image)||void 0===m?void 0:m.Packages,showAll:j}):[],actionResolver:function(){return[]},areActionsDisabled:function(){return!0},defaultSort:{index:0,direction:"asc"},toggleButton:[{title:"Additional",key:0},{title:"All",key:1}],toggleAction:function(e){var t,n=null===(t=S[5])||void 0===t?void 0:t.toLowerCase();if(Z(e),"packages"===n){7===S.length?S[6]=pe[e]:S.push(pe[e]);var a=(0,V.T)(S.join("/"),p);E?I(a):y.push(a)}},toggleState:j,emptyFilterState:{icon:"search",title:"No packages to display"}})):u().createElement("section",{className:"add-100vh pf-l-page__main-section pf-c-page__main-section"},u().createElement(ue.Z,{bgColor:"white",title:"Package data currently unavailable",body:"Packages will be displayed as soon as the image is finished being built.",primaryAction:null,secondaryActions:[]}))};ge.propTypes={pathPrefix:E().string,historyProp:E().func,locationProp:E().func,navigateProp:E().func,imageVersion:E().object};const fe=ge;var he={details:0,packages:1,versions:1},Ee=function(e){var t=e.pathPrefix,n=e.urlName,a=e.historyProp,i=e.locationProp,o=e.navigateProp,r=e.imageData,s=e.openUpdateWizard,d=e.imageVersion,m=e.isLoading,p=a?a():g.k6?(0,g.k6)():null,v=(i?i():(0,g.TH)()).pathname,h=v;t&&v.startsWith(t)&&(h=v.slice(t.length));var E=o?o():f.useNavigate?(0,f.useNavigate)():null,y=(0,c.useState)(he.details),P=(0,l.Z)(y,2),I=P[0],k=P[1],O=d?"imageTab":"imageSetTab",D=(0,b.Ff)(h,["baseURL","imageSetVersion","imageSetTab","imageVersion","imageTab","packagesToggle"]);return(0,c.useEffect)((function(){D.imageTab?k(he[D.imageTab]):k(he[D.imageSetTab])}),[v]),u().createElement(u().Fragment,null,!r.isLoading&&r.hasError?u().createElement(ue.Z,{icon:"question",title:"Image not found",body:"Please check you have the correct link with the correct image Id.",primaryAction:{text:"Back to Manage Images",href:L._.manageImages},secondaryActions:[]}):u().createElement("div",{className:"edge-c-device--detail add-100vh"},u().createElement(F.m,{className:"pf-u-ml-md",activeKey:I,onSelect:function(e,n){var a=0===n?"details":d?"packages":"versions";D[O]=a;var i=(0,V.T)(D.buildUrl(),t);o?E(i):p.push(i),k(n)}},u().createElement(z.O,{eventKey:he.details,title:u().createElement(Q.T,null,"Details")},u().createElement($,{pathPrefix:t,urlName:n,historyProp:a,navigateProp:o,imageData:r,imageVersion:d})),m?u().createElement(z.O,{title:u().createElement(Q.T,null,u().createElement(S.O,{width:"75px"}))}):d?u().createElement(z.O,{eventKey:he.packages,title:u().createElement(Q.T,null,"Packages")},u().createElement(fe,{pathPrefix:t,urlName:n,navigateProp:o,historyProp:a,locationProp:i,imageVersion:d})):u().createElement(z.O,{eventKey:he.versions,title:u().createElement(Q.T,null,"Versions")},u().createElement(oe,{pathPrefix:t,urlName:n,navigateProp:o,historyProp:a,locationProp:i,imageData:r,openUpdateWizard:s})))))};Ee.propTypes={pathPrefix:E().string,urlName:E().string,historyProp:E().func,locationProp:E().func,navigateProp:E().func,imageData:E().object,imageVersion:E().object,openUpdateWizard:E().func,isLoading:E().bool};const be=Ee;var ye=n(53010);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){var t=e.pathPrefix,n=e.urlName,i=e.paramsProp,o=e.historyProp,h=e.locationProp,E=e.navigateProp,y=e.notificationProp,P=i?i():g.UO?(0,g.UO)():null,I=P.imageId,k=P.imageVersionId,S=o?o():g.k6?(0,g.k6)():null,O=h?h():g.TH?(0,g.TH)():null,D=O.pathname,w=O.search,x=E?E():f.useNavigate?(0,f.useNavigate)():null,N=(0,c.useState)({isOpen:!1,updateId:null}),T=(0,l.Z)(N,2),C=T[0],U=T[1],j=(0,c.useState)(null),Z=(0,l.Z)(j,2),L=Z[0],_=Z[1],A=(0,te.Z)({api:X.L0,id:k?"".concat(I,"/versions/").concat(k):"".concat(I),tableReload:!0}),V=(0,l.Z)(A,2),R=V[0],W=V[1],F=R.data,z=R.isLoading,Q={pathname:D,search:(0,b.fz)("update_image=true",!0,w)},G=function(e){E?x(Ie(Ie({},Q),{},{replace:!0})):S.push(Ie({},Q)),U((function(t){return Ie(Ie({},t),{},{isOpen:!t.isLoading,updateId:e})}))};(0,c.useEffect)((function(){_(k?null==F?void 0:F.ImageDetails:null)}),[R,k]),(0,c.useEffect)((function(){W()}),[I,k]);var q=function(){var e=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u().createElement(c.Fragment,null,u().createElement(s.Z,{className:"pf-m-light"},u().createElement(d.K,{hasGutter:!0},u().createElement(m.v,null,u().createElement(B,{pathPrefix:t,urlName:n,historyProp:o,navigateProp:E,imageData:R,imageVersion:L,openUpdateWizard:G})))),u().createElement(be,{pathPrefix:t,urlName:n,historyProp:o,locationProp:h,navigateProp:E,imageData:R,urlParam:I,imageVersion:L,openUpdateWizard:G,isLoading:z}),C.isOpen&&u().createElement(c.Suspense,{fallback:u().createElement(v.b,null,u().createElement(p.$,null))},u().createElement(ye.default,{navigateBack:function(){E?x({pathname:D}):S.push({pathname:D}),U((function(e){return Ie(Ie({},e),{},{isOpen:!1})}))},updateImageID:C.updateId,reload:q,notificationProp:y,locationProp:h})))};ke.propTypes={pathPrefix:E().string,urlName:E().string,paramsProp:E().func,historyProp:E().func,locationProp:E().func,navigateProp:E().func,notificationProp:E().object};const Se=ke},14627:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,T:()=>i});var a=function(e,t,n){var a=e;if(t||n){var i=[];t&&i.push(t),n&&i.push(n),a=i.join("/")}return a},i=function(e,t){return!t||e.startsWith(t)?e:t.endsWith("/")||e.startsWith("/")?[t,e].join(""):[t,e].join("/")}},35681:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g,u:()=>p});var a=n(92950),i=n.n(a),l=n(45697),o=n.n(l),r=n(69174),c=n(75824),u=n(79851),s=n(34512),d=n(98309),m={booting:{text:"Booting",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},building:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},created:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},upToDate:{text:"Up to date",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},success:{text:"Ready",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},passed:{text:"Passed",Icon:d.iQ.checkCircle,color:d.OE.green,labelColor:"green"},updateAvailable:{text:"Update available",Icon:d.iQ.exclamationTriangle,color:d.OE.yellow,labelColor:"orange"},updating:{text:"Updating",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},error:{text:"Error",Icon:d.iQ.timesCircle,color:d.OE.red,labelColor:"red"},default:{text:"Unknown",Icon:d.iQ.unknown},interrupted:{text:"Image build in progress",Icon:d.iQ.inProgress,color:d.OE.blue,labelColor:"blue"},unresponsive:{text:"Unresponsive",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"},errorWithExclamationCircle:{text:"Error",Icon:d.iQ.exclamationCircle,color:d.OE.red,labelColor:"red"}},p=function(e,t,n){return"ERROR"===n?"error":"UNRESPONSIVE"===n?"unresponsive":"UPDATING"===e?"updating":t?"updateAvailable":"upToDate"},v=function(e){var t=e.id,n=e.type,a=e.isLabel,l=void 0!==a&&a,o=e.toolTipContent,d=void 0===o?"":o,p=e.className,v=void 0===p?"":p,g=e.isLink,f=Object.prototype.hasOwnProperty.call(m,n)?m[n]:m.default,h=f.text,E=f.Icon,b=f.color,y=f.labelColor;return i().createElement(i().Fragment,null,l?i().createElement(r._,{id:t,color:y,icon:i().createElement(E,null),className:v},h):i().createElement(u.P,{id:t,style:{color:b},className:v},i().createElement(s.J,{className:"pf-u-mr-sm"},d?i().createElement(c.u,{content:"blargh"},i().createElement(E,null)):i().createElement(E,null)),i().createElement(s.J,null,i().createElement("p",{style:g?{textDecoration:" grey dotted underline",cursor:"pointer"}:{}},h))))};const g=v;v.propTypes={id:o().string,type:o().string,isLabel:o().bool,toolTipContent:o().string,className:o().string,isLink:o().bool},v.defaultProps={id:"status"}},96094:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(4942),i=n(15861),l=n(29439),o=n(64687),r=n.n(o),c=n(83215),u=n(92950),s=n(77760);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=function(e){var t,n=e.api,a=e.id,o=void 0===a?null:a,d=e.statusMessages,p=e.tableReload,v=void 0!==p&&p,g=(0,s.useDispatch)(),f=(0,u.useState)([]),h=(0,l.Z)(f,2),E=h[0],b=h[1],y=(0,u.useState)(!0),P=(0,l.Z)(y,2),I=P[0],k=P[1],S=(0,u.useState)(!1),O=(0,l.Z)(S,2),D=O[0],w=O[1],x=(0,u.useState)((function(){return n})),N=(0,l.Z)(x,2),T=N[0],C=N[1],U=null===(t=d)||void 0===t?void 0:t.onSuccess;d||(d={onSuccess:{title:"Success",description:"The request has been made successfully"},onError:{title:"Error",description:"An error occurred making the request"}});var j=function(){var e=(0,i.Z)(r().mark((function e(){var t,n,a=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",k(!0),e.prev=2,e.next=5,T({id:o,query:t});case 5:n=e.sent,b(n),U&&g(m({},(0,c.wN)(m({variant:"success"},d.onSuccess)))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),w(!0),g(m({},(0,c.wN)(m({variant:"danger"},d.onError))));case 14:return e.prev=14,k(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){v||j()}),[]),[{data:E,isLoading:I,hasError:D},j,T,C]}},58392:()=>{},37625:()=>{},21064:()=>{},82014:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/364.c180d88e991119a027ff81706b6763d5.js.map